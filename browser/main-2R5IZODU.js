var VE=Object.create;var yu=Object.defineProperty,ZE=Object.defineProperties,WE=Object.getOwnPropertyDescriptor,HE=Object.getOwnPropertyDescriptors,YE=Object.getOwnPropertyNames,El=Object.getOwnPropertySymbols,$E=Object.getPrototypeOf,$p=Object.prototype.hasOwnProperty,NC=Object.prototype.propertyIsEnumerable;var SC=(e,t,n)=>t in e?yu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ne=(e,t)=>{for(var n in t||={})$p.call(t,n)&&SC(e,n,t[n]);if(El)for(var n of El(t))NC.call(t,n)&&SC(e,n,t[n]);return e},en=(e,t)=>ZE(e,HE(t));var EC=(e,t)=>{var n={};for(var r in e)$p.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&El)for(var r of El(e))t.indexOf(r)<0&&NC.call(e,r)&&(n[r]=e[r]);return n};var Y=(e,t)=>()=>(e&&(t=e(e=0)),t);var PC=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ht=(e,t)=>{for(var n in t)yu(e,n,{get:t[n],enumerable:!0})},OC=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of YE(t))!$p.call(e,i)&&i!==n&&yu(e,i,{get:()=>t[i],enumerable:!(r=WE(t,i))||r.enumerable});return e};var ci=(e,t,n)=>(n=e!=null?VE($E(e)):{},OC(t||!e||!e.__esModule?yu(n,"default",{value:e,enumerable:!0}):n,e)),XE=e=>OC(yu({},"__esModule",{value:!0}),e);var pc,ry,gc,Rd,iy,oM,Ci,Ri,sM,oy,aM,uM,sy,ay,uy,cM,lM,Ld,cy,fM,Ut=Y(()=>{"use strict";pc="1.13.6",ry=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},gc=Array.prototype,Rd=Object.prototype,iy=typeof Symbol<"u"?Symbol.prototype:null,oM=gc.push,Ci=gc.slice,Ri=Rd.toString,sM=Rd.hasOwnProperty,oy=typeof ArrayBuffer<"u",aM=typeof DataView<"u",uM=Array.isArray,sy=Object.keys,ay=Object.create,uy=oy&&ArrayBuffer.isView,cM=isNaN,lM=isFinite,Ld=!{toString:null}.propertyIsEnumerable("toString"),cy=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],fM=Math.pow(2,53)-1});function St(e,t){return t=t==null?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=r,e.apply(this,o)}}var Kn=Y(()=>{"use strict"});function Nn(e){var t=typeof e;return t==="function"||t==="object"&&!!e}var so=Y(()=>{"use strict"});function kd(e){return e===null}var dM=Y(()=>{"use strict"});function ma(e){return e===void 0}var ly=Y(()=>{"use strict"});function va(e){return e===!0||e===!1||Ri.call(e)==="[object Boolean]"}var fy=Y(()=>{"use strict";Ut()});function _d(e){return!!(e&&e.nodeType===1)}var hM=Y(()=>{"use strict"});function yt(e){var t="[object "+e+"]";return function(n){return Ri.call(n)===t}}var bn=Y(()=>{"use strict";Ut()});var ts,Fd=Y(()=>{"use strict";bn();ts=yt("String")});var mc,dy=Y(()=>{"use strict";bn();mc=yt("Number")});var hy,pM=Y(()=>{"use strict";bn();hy=yt("Date")});var py,gM=Y(()=>{"use strict";bn();py=yt("RegExp")});var gy,mM=Y(()=>{"use strict";bn();gy=yt("Error")});var vc,my=Y(()=>{"use strict";bn();vc=yt("Symbol")});var yc,vy=Y(()=>{"use strict";bn();yc=yt("ArrayBuffer")});var vM,n3,Rt,mr=Y(()=>{"use strict";bn();Ut();vM=yt("Function"),n3=ry.document&&ry.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof n3!="function"&&(vM=function(e){return typeof e=="function"||!1});Rt=vM});var yy,yM=Y(()=>{"use strict";bn();yy=yt("Object")});var jd,ya,Ia=Y(()=>{"use strict";Ut();yM();jd=aM&&yy(new DataView(new ArrayBuffer(8))),ya=typeof Map<"u"&&yy(new Map)});function i3(e){return e!=null&&Rt(e.getInt8)&&yc(e.buffer)}var r3,ao,Bd=Y(()=>{"use strict";bn();mr();vy();Ia();r3=yt("DataView");ao=jd?i3:r3});var Bn,uo=Y(()=>{"use strict";Ut();bn();Bn=uM||yt("Array")});function xn(e,t){return e!=null&&sM.call(e,t)}var Li=Y(()=>{"use strict";Ut()});var Iy,ns,zd=Y(()=>{"use strict";bn();Li();Iy=yt("Arguments");(function(){Iy(arguments)||(Iy=function(e){return xn(e,"callee")})})();ns=Iy});function Gd(e){return!vc(e)&&lM(e)&&!isNaN(parseFloat(e))}var IM=Y(()=>{"use strict";Ut();my()});function Ca(e){return mc(e)&&cM(e)}var Cy=Y(()=>{"use strict";Ut();dy()});function wa(e){return function(){return e}}var wy=Y(()=>{"use strict"});function Ic(e){return function(t){var n=e(t);return typeof n=="number"&&n>=0&&n<=fM}}var Ay=Y(()=>{"use strict";Ut()});function Cc(e){return function(t){return t?.[e]}}var by=Y(()=>{"use strict"});var rs,Ud=Y(()=>{"use strict";by();rs=Cc("byteLength")});var CM,wM=Y(()=>{"use strict";Ay();Ud();CM=Ic(rs)});function s3(e){return uy?uy(e)&&!ao(e):CM(e)&&o3.test(Ri.call(e))}var o3,wc,xy=Y(()=>{"use strict";Ut();Bd();wy();wM();o3=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;wc=oy?s3:wa(!1)});var jt,vr=Y(()=>{"use strict";by();jt=Cc("length")});function a3(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return{contains:function(i){return t[i]===!0},push:function(i){return t[i]=!0,e.push(i)}}}function Ac(e,t){t=a3(t);var n=cy.length,r=e.constructor,i=Rt(r)&&r.prototype||Rd,o="constructor";for(xn(e,o)&&!t.contains(o)&&t.push(o);n--;)o=cy[n],o in e&&e[o]!==i[o]&&!t.contains(o)&&t.push(o)}var Dy=Y(()=>{"use strict";Ut();mr();Li()});function rt(e){if(!Nn(e))return[];if(sy)return sy(e);var t=[];for(var n in e)xn(e,n)&&t.push(n);return Ld&&Ac(e,t),t}var hn=Y(()=>{"use strict";so();Ut();Li();Dy()});function Vd(e){if(e==null)return!0;var t=jt(e);return typeof t=="number"&&(Bn(e)||ts(e)||ns(e))?t===0:jt(rt(e))===0}var AM=Y(()=>{"use strict";vr();uo();Fd();zd();hn()});function Aa(e,t){var n=rt(t),r=n.length;if(e==null)return!r;for(var i=Object(e),o=0;o<r;o++){var s=n[o];if(t[s]!==i[s]||!(s in i))return!1}return!0}var My=Y(()=>{"use strict";hn()});function Ue(e){if(e instanceof Ue)return e;if(!(this instanceof Ue))return new Ue(e);this._wrapped=e}var er=Y(()=>{"use strict";Ut();Ue.VERSION=pc;Ue.prototype.value=function(){return this._wrapped};Ue.prototype.valueOf=Ue.prototype.toJSON=Ue.prototype.value;Ue.prototype.toString=function(){return String(this._wrapped)}});function Zd(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,rs(e))}var bM=Y(()=>{"use strict";Ud()});function Ty(e,t,n,r){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var i=typeof e;return i!=="function"&&i!=="object"&&typeof t!="object"?!1:DM(e,t,n,r)}function DM(e,t,n,r){e instanceof Ue&&(e=e._wrapped),t instanceof Ue&&(t=t._wrapped);var i=Ri.call(e);if(i!==Ri.call(t))return!1;if(jd&&i=="[object Object]"&&ao(e)){if(!ao(t))return!1;i=xM}switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return iy.valueOf.call(e)===iy.valueOf.call(t);case"[object ArrayBuffer]":case xM:return DM(Zd(e),Zd(t),n,r)}var o=i==="[object Array]";if(!o&&wc(e)){var s=rs(e);if(s!==rs(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;o=!0}if(!o){if(typeof e!="object"||typeof t!="object")return!1;var a=e.constructor,u=t.constructor;if(a!==u&&!(Rt(a)&&a instanceof a&&Rt(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var l=n.length;l--;)if(n[l]===e)return r[l]===t;if(n.push(e),r.push(t),o){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!Ty(e[l],t[l],n,r))return!1}else{var h=rt(e),f;if(l=h.length,rt(t).length!==l)return!1;for(;l--;)if(f=h[l],!(xn(t,f)&&Ty(e[f],t[f],n,r)))return!1}return n.pop(),r.pop(),!0}function Wd(e,t){return Ty(e,t)}var xM,MM=Y(()=>{"use strict";er();Ut();Ud();xy();mr();Ia();Bd();hn();Li();bM();xM="[object DataView]"});function Fr(e){if(!Nn(e))return[];var t=[];for(var n in e)t.push(n);return Ld&&Ac(e,t),t}var ba=Y(()=>{"use strict";so();Ut();Dy()});function xa(e){var t=jt(e);return function(n){if(n==null)return!1;var r=Fr(n);if(jt(r))return!1;for(var i=0;i<t;i++)if(!Rt(n[e[i]]))return!1;return e!==Ey||!Rt(n[Sy])}}var Sy,TM,Ny,SM,NM,Ey,EM,Hd=Y(()=>{"use strict";vr();mr();ba();Sy="forEach",TM="has",Ny=["clear","delete"],SM=["get",TM,"set"],NM=Ny.concat(Sy,SM),Ey=Ny.concat(SM),EM=["add"].concat(Ny,Sy,TM)});var Py,PM=Y(()=>{"use strict";bn();Ia();Hd();Py=ya?xa(NM):yt("Map")});var Oy,OM=Y(()=>{"use strict";bn();Ia();Hd();Oy=ya?xa(Ey):yt("WeakMap")});var Ry,RM=Y(()=>{"use strict";bn();Ia();Hd();Ry=ya?xa(EM):yt("Set")});var Ly,LM=Y(()=>{"use strict";bn();Ly=yt("WeakSet")});function tr(e){for(var t=rt(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r}var is=Y(()=>{"use strict";hn()});function Yd(e){for(var t=rt(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r}var kM=Y(()=>{"use strict";hn()});function Da(e){for(var t={},n=rt(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t}var ky=Y(()=>{"use strict";hn()});function os(e){var t=[];for(var n in e)Rt(e[n])&&t.push(n);return t.sort()}var _y=Y(()=>{"use strict";mr()});function ss(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||n==null)return n;for(var i=1;i<r;i++)for(var o=arguments[i],s=e(o),a=s.length,u=0;u<a;u++){var l=s[u];(!t||n[l]===void 0)&&(n[l]=o[l])}return n}}var $d=Y(()=>{"use strict"});var bc,Fy=Y(()=>{"use strict";$d();ba();bc=ss(Fr)});var co,Xd=Y(()=>{"use strict";$d();hn();co=ss(rt)});var xc,jy=Y(()=>{"use strict";$d();ba();xc=ss(Fr,!0)});function u3(){return function(){}}function Dc(e){if(!Nn(e))return{};if(ay)return ay(e);var t=u3();t.prototype=e;var n=new t;return t.prototype=null,n}var By=Y(()=>{"use strict";so();Ut()});function Jd(e,t){var n=Dc(e);return t&&co(n,t),n}var _M=Y(()=>{"use strict";By();Xd()});function qd(e){return Nn(e)?Bn(e)?e.slice():bc({},e):e}var FM=Y(()=>{"use strict";so();uo();Fy()});function Qd(e,t){return t(e),e}var jM=Y(()=>{"use strict"});function Mc(e){return Bn(e)?e:[e]}var zy=Y(()=>{"use strict";er();uo();Ue.toPath=Mc});function Kr(e){return Ue.toPath(e)}var Ma=Y(()=>{"use strict";er();zy()});function as(e,t){for(var n=t.length,r=0;r<n;r++){if(e==null)return;e=e[t[r]]}return n?e:void 0}var Kd=Y(()=>{"use strict"});function Ta(e,t,n){var r=as(e,Kr(t));return ma(r)?n:r}var Gy=Y(()=>{"use strict";Ma();Kd();ly()});function eh(e,t){t=Kr(t);for(var n=t.length,r=0;r<n;r++){var i=t[r];if(!xn(e,i))return!1;e=e[i]}return!!n}var BM=Y(()=>{"use strict";Li();Ma()});function lo(e){return e}var th=Y(()=>{"use strict"});function ei(e){return e=co({},e),function(t){return Aa(t,e)}}var Tc=Y(()=>{"use strict";Xd();My()});function fo(e){return e=Kr(e),function(t){return as(t,e)}}var nh=Y(()=>{"use strict";Kd();Ma()});function ti(e,t,n){if(t===void 0)return e;switch(n??3){case 1:return function(r){return e.call(t,r)};case 3:return function(r,i,o){return e.call(t,r,i,o)};case 4:return function(r,i,o,s){return e.call(t,r,i,o,s)}}return function(){return e.apply(t,arguments)}}var Sa=Y(()=>{"use strict"});function Sc(e,t,n){return e==null?lo:Rt(e)?ti(e,t,n):Nn(e)&&!Bn(e)?ei(e):fo(e)}var Uy=Y(()=>{"use strict";th();mr();so();uo();Tc();nh();Sa()});function us(e,t){return Sc(e,t,1/0)}var Vy=Y(()=>{"use strict";er();Uy();Ue.iteratee=us});function Nt(e,t,n){return Ue.iteratee!==us?Ue.iteratee(e,t):Sc(e,t,n)}var zn=Y(()=>{"use strict";er();Uy();Vy()});function rh(e,t,n){t=Nt(t,n);for(var r=rt(e),i=r.length,o={},s=0;s<i;s++){var a=r[s];o[a]=t(e[a],a,e)}return o}var zM=Y(()=>{"use strict";zn();hn()});function Na(){}var Zy=Y(()=>{"use strict"});function ih(e){return e==null?Na:function(t){return Ta(e,t)}}var GM=Y(()=>{"use strict";Zy();Gy()});function oh(e,t,n){var r=Array(Math.max(0,e));t=ti(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r}var UM=Y(()=>{"use strict";Sa()});function cs(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}var Wy=Y(()=>{"use strict"});var ki,sh=Y(()=>{"use strict";ki=Date.now||function(){return new Date().getTime()}});function Nc(e){var t=function(o){return e[o]},n="(?:"+rt(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(o){return o=o==null?"":""+o,r.test(o)?o.replace(i,t):o}}var Hy=Y(()=>{"use strict";hn()});var ah,Yy=Y(()=>{"use strict";ah={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}});var $y,VM=Y(()=>{"use strict";Hy();Yy();$y=Nc(ah)});var ZM,WM=Y(()=>{"use strict";ky();Yy();ZM=Da(ah)});var Xy,HM=Y(()=>{"use strict";Hy();WM();Xy=Nc(ZM)});var Jy,qy=Y(()=>{"use strict";er();Jy=Ue.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g}});function f3(e){return"\\"+c3[e]}function uh(e,t,n){!t&&n&&(t=n),t=xc({},t,Ue.templateSettings);var r=RegExp([(t.escape||Qy).source,(t.interpolate||Qy).source,(t.evaluate||Qy).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(l,h,f,y,I){return o+=e.slice(i,I).replace(l3,f3),i=I+l.length,h?o+=`'+
((__t=(`+h+`))==null?'':_.escape(__t))+
'`:f?o+=`'+
((__t=(`+f+`))==null?'':__t)+
'`:y&&(o+=`';
`+y+`
__p+='`),l}),o+=`';
`;var s=t.variable;if(s){if(!d3.test(s))throw new Error("variable is not a bare identifier: "+s)}else o=`with(obj||{}){
`+o+`}
`,s="obj";o=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+o+`return __p;
`;var a;try{a=new Function(s,"_",o)}catch(l){throw l.source=o,l}var u=function(l){return a.call(this,l,Ue)};return u.source="function("+s+`){
`+o+"}",u}var Qy,c3,l3,d3,YM=Y(()=>{"use strict";jy();er();qy();Qy=/(.)^/,c3={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},l3=/\\|'|\r|\n|\u2028|\u2029/g;d3=/^\s*(\w|\$)+\s*$/});function ch(e,t,n){t=Kr(t);var r=t.length;if(!r)return Rt(n)?n.call(e):n;for(var i=0;i<r;i++){var o=e?.[t[i]];o===void 0&&(o=n,i=r),e=Rt(o)?o.call(e):o}return e}var $M=Y(()=>{"use strict";mr();Ma()});function lh(e){var t=++h3+"";return e?e+t:t}var h3,XM=Y(()=>{"use strict";h3=0});function fh(e){var t=Ue(e);return t._chain=!0,t}var JM=Y(()=>{"use strict";er()});function Ec(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=Dc(e.prototype),s=e.apply(o,i);return Nn(s)?s:o}var Ky=Y(()=>{"use strict";By();so()});var eI,_i,Pc=Y(()=>{"use strict";Kn();Ky();er();eI=St(function(e,t){var n=eI.placeholder,r=function(){for(var i=0,o=t.length,s=Array(o),a=0;a<o;a++)s[a]=t[a]===n?arguments[i++]:t[a];for(;i<arguments.length;)s.push(arguments[i++]);return Ec(e,r,this,this,s)};return r});eI.placeholder=Ue;_i=eI});var Oc,tI=Y(()=>{"use strict";Kn();mr();Ky();Oc=St(function(e,t,n){if(!Rt(e))throw new TypeError("Bind must be called on a function");var r=St(function(i){return Ec(e,r,t,this,n.concat(i))});return r})});var Bt,nr=Y(()=>{"use strict";Ay();vr();Bt=Ic(jt)});function rr(e,t,n,r){if(r=r||[],!t&&t!==0)t=1/0;else if(t<=0)return r.concat(e);for(var i=r.length,o=0,s=jt(e);o<s;o++){var a=e[o];if(Bt(a)&&(Bn(a)||ns(a)))if(t>1)rr(a,t-1,n,r),i=r.length;else for(var u=0,l=a.length;u<l;)r[i++]=a[u++];else n||(r[i++]=a)}return r}var ls=Y(()=>{"use strict";vr();nr();uo();zd()});var nI,qM=Y(()=>{"use strict";Kn();ls();tI();nI=St(function(e,t){t=rr(t,!1,!1);var n=t.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=Oc(e[r],e)}return e})});function dh(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return xn(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n}var QM=Y(()=>{"use strict";Li()});var Rc,rI=Y(()=>{"use strict";Kn();Rc=St(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)})});var iI,KM=Y(()=>{"use strict";Pc();rI();er();iI=_i(Rc,Ue,1)});function hh(e,t,n){var r,i,o,s,a=0;n||(n={});var u=function(){a=n.leading===!1?0:ki(),r=null,s=e.apply(i,o),r||(i=o=null)},l=function(){var h=ki();!a&&n.leading===!1&&(a=h);var f=t-(h-a);return i=this,o=arguments,f<=0||f>t?(r&&(clearTimeout(r),r=null),a=h,s=e.apply(i,o),r||(i=o=null)):!r&&n.trailing!==!1&&(r=setTimeout(u,f)),s};return l.cancel=function(){clearTimeout(r),a=0,r=i=o=null},l}var eT=Y(()=>{"use strict";sh()});function ph(e,t,n){var r,i,o,s,a,u=function(){var h=ki()-i;t>h?r=setTimeout(u,t-h):(r=null,n||(s=e.apply(a,o)),r||(o=a=null))},l=St(function(h){return a=this,o=h,i=ki(),r||(r=setTimeout(u,t),n&&(s=e.apply(a,o))),s});return l.cancel=function(){clearTimeout(r),r=o=a=null},l}var tT=Y(()=>{"use strict";Kn();sh()});function gh(e,t){return _i(t,e)}var nT=Y(()=>{"use strict";Pc()});function ho(e){return function(){return!e.apply(this,arguments)}}var mh=Y(()=>{"use strict"});function vh(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}}var rT=Y(()=>{"use strict"});function yh(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}var iT=Y(()=>{"use strict"});function Ea(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}var oI=Y(()=>{"use strict"});var sI,oT=Y(()=>{"use strict";Pc();oI();sI=_i(Ea,2)});function Pa(e,t,n){t=Nt(t,n);for(var r=rt(e),i,o=0,s=r.length;o<s;o++)if(i=r[o],t(e[i],i,e))return i}var aI=Y(()=>{"use strict";zn();hn()});function Lc(e){return function(t,n,r){n=Nt(n,r);for(var i=jt(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}var uI=Y(()=>{"use strict";zn();vr()});var fs,Ih=Y(()=>{"use strict";uI();fs=Lc(1)});var kc,cI=Y(()=>{"use strict";uI();kc=Lc(-1)});function Oa(e,t,n,r){n=Nt(n,r,1);for(var i=n(t),o=0,s=jt(e);o<s;){var a=Math.floor((o+s)/2);n(e[a])<i?o=a+1:s=a}return o}var lI=Y(()=>{"use strict";zn();vr()});function _c(e,t,n){return function(r,i,o){var s=0,a=jt(r);if(typeof o=="number")e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(Ci.call(r,s,a),Ca),o>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&o<a;o+=e)if(r[o]===i)return o;return-1}}var fI=Y(()=>{"use strict";vr();Ut();Cy()});var Fc,dI=Y(()=>{"use strict";lI();Ih();fI();Fc=_c(1,fs,Oa)});var hI,sT=Y(()=>{"use strict";cI();fI();hI=_c(-1,kc)});function ds(e,t,n){var r=Bt(e)?fs:Pa,i=r(e,t,n);if(i!==void 0&&i!==-1)return e[i]}var pI=Y(()=>{"use strict";nr();Ih();aI()});function Ch(e,t){return ds(e,ei(t))}var aT=Y(()=>{"use strict";pI();Tc()});function pn(e,t,n){t=ti(t,n);var r,i;if(Bt(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=rt(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e}var po=Y(()=>{"use strict";Sa();nr();hn()});function Gn(e,t,n){t=Nt(t,n);for(var r=!Bt(e)&&rt(e),i=(r||e).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=t(e[a],a,e)}return o}var hs=Y(()=>{"use strict";zn();nr();hn()});function jc(e){var t=function(n,r,i,o){var s=!Bt(n)&&rt(n),a=(s||n).length,u=e>0?0:a-1;for(o||(i=n[s?s[u]:u],u+=e);u>=0&&u<a;u+=e){var l=s?s[u]:u;i=r(i,n[l],l,n)}return i};return function(n,r,i,o){var s=arguments.length>=3;return t(n,ti(r,o,4),i,s)}}var gI=Y(()=>{"use strict";nr();hn();Sa()});var Bc,uT=Y(()=>{"use strict";gI();Bc=jc(1)});var wh,cT=Y(()=>{"use strict";gI();wh=jc(-1)});function yr(e,t,n){var r=[];return t=Nt(t,n),pn(e,function(i,o,s){t(i,o,s)&&r.push(i)}),r}var Ra=Y(()=>{"use strict";zn();po()});function Ah(e,t,n){return yr(e,ho(Nt(t)),n)}var lT=Y(()=>{"use strict";Ra();mh();zn()});function zc(e,t,n){t=Nt(t,n);for(var r=!Bt(e)&&rt(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(!t(e[s],s,e))return!1}return!0}var fT=Y(()=>{"use strict";zn();nr();hn()});function Gc(e,t,n){t=Nt(t,n);for(var r=!Bt(e)&&rt(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(t(e[s],s,e))return!0}return!1}var dT=Y(()=>{"use strict";zn();nr();hn()});function En(e,t,n,r){return Bt(e)||(e=tr(e)),(typeof n!="number"||r)&&(n=0),Fc(e,t,n)>=0}var La=Y(()=>{"use strict";nr();is();dI()});var mI,hT=Y(()=>{"use strict";Kn();mr();hs();Kd();Ma();mI=St(function(e,t,n){var r,i;return Rt(t)?i=t:(t=Kr(t),r=t.slice(0,-1),t=t[t.length-1]),Gn(e,function(o){var s=i;if(!s){if(r&&r.length&&(o=as(o,r)),o==null)return;s=o[t]}return s==null?s:s.apply(o,n)})})});function go(e,t){return Gn(e,fo(t))}var bh=Y(()=>{"use strict";hs();nh()});function xh(e,t){return yr(e,ei(t))}var pT=Y(()=>{"use strict";Ra();Tc()});function ka(e,t,n){var r=-1/0,i=-1/0,o,s;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=Bt(e)?e:tr(e);for(var a=0,u=e.length;a<u;a++)o=e[a],o!=null&&o>r&&(r=o)}else t=Nt(t,n),pn(e,function(l,h,f){s=t(l,h,f),(s>i||s===-1/0&&r===-1/0)&&(r=l,i=s)});return r}var vI=Y(()=>{"use strict";nr();is();zn();po()});function Dh(e,t,n){var r=1/0,i=1/0,o,s;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=Bt(e)?e:tr(e);for(var a=0,u=e.length;a<u;a++)o=e[a],o!=null&&o<r&&(r=o)}else t=Nt(t,n),pn(e,function(l,h,f){s=t(l,h,f),(s<i||s===1/0&&r===1/0)&&(r=l,i=s)});return r}var gT=Y(()=>{"use strict";nr();is();zn();po()});function _a(e){return e?Bn(e)?Ci.call(e):ts(e)?e.match(p3):Bt(e)?Gn(e,lo):tr(e):[]}var p3,yI=Y(()=>{"use strict";uo();Ut();Fd();nr();hs();th();is();p3=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g});function Fa(e,t,n){if(t==null||n)return Bt(e)||(e=tr(e)),e[cs(e.length-1)];var r=_a(e),i=jt(r);t=Math.max(Math.min(t,i),0);for(var o=i-1,s=0;s<t;s++){var a=cs(s,o),u=r[s];r[s]=r[a],r[a]=u}return r.slice(0,t)}var II=Y(()=>{"use strict";nr();is();vr();Wy();yI()});function Mh(e){return Fa(e,1/0)}var mT=Y(()=>{"use strict";II()});function Th(e,t,n){var r=0;return t=Nt(t,n),go(Gn(e,function(i,o,s){return{value:i,index:r++,criteria:t(i,o,s)}}).sort(function(i,o){var s=i.criteria,a=o.criteria;if(s!==a){if(s>a||s===void 0)return 1;if(s<a||a===void 0)return-1}return i.index-o.index}),"value")}var vT=Y(()=>{"use strict";zn();bh();hs()});function Fi(e,t){return function(n,r,i){var o=t?[[],[]]:{};return r=Nt(r,i),pn(n,function(s,a){var u=r(s,a,n);e(o,s,u)}),o}}var Uc=Y(()=>{"use strict";zn();po()});var CI,yT=Y(()=>{"use strict";Uc();Li();CI=Fi(function(e,t,n){xn(e,n)?e[n].push(t):e[n]=[t]})});var wI,IT=Y(()=>{"use strict";Uc();wI=Fi(function(e,t,n){e[n]=t})});var AI,CT=Y(()=>{"use strict";Uc();Li();AI=Fi(function(e,t,n){xn(e,n)?e[n]++:e[n]=1})});var bI,wT=Y(()=>{"use strict";Uc();bI=Fi(function(e,t,n){e[n?0:1].push(t)},!0)});function Sh(e){return e==null?0:Bt(e)?e.length:rt(e).length}var AT=Y(()=>{"use strict";nr();hn()});function xI(e,t,n){return t in n}var bT=Y(()=>{"use strict"});var Vc,DI=Y(()=>{"use strict";Kn();mr();Sa();ba();bT();ls();Vc=St(function(e,t){var n={},r=t[0];if(e==null)return n;Rt(r)?(t.length>1&&(r=ti(r,t[1])),t=Fr(e)):(r=xI,t=rr(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var s=t[i],a=e[s];r(a,s,e)&&(n[s]=a)}return n})});var MI,xT=Y(()=>{"use strict";Kn();mr();mh();hs();ls();La();DI();MI=St(function(e,t){var n=t[0],r;return Rt(n)?(n=ho(n),t.length>1&&(r=t[1])):(t=Gn(rr(t,!1,!1),String),n=function(i,o){return!En(t,o)}),Vc(e,n,r)})});function ja(e,t,n){return Ci.call(e,0,Math.max(0,e.length-(t==null||n?1:t)))}var TI=Y(()=>{"use strict";Ut()});function Ba(e,t,n){return e==null||e.length<1?t==null||n?void 0:[]:t==null||n?e[0]:ja(e,e.length-t)}var DT=Y(()=>{"use strict";TI()});function mo(e,t,n){return Ci.call(e,t==null||n?1:t)}var SI=Y(()=>{"use strict";Ut()});function Nh(e,t,n){return e==null||e.length<1?t==null||n?void 0:[]:t==null||n?e[e.length-1]:mo(e,Math.max(0,e.length-t))}var MT=Y(()=>{"use strict";SI()});function Eh(e){return yr(e,Boolean)}var TT=Y(()=>{"use strict";Ra()});function Ph(e,t){return rr(e,t,!1)}var ST=Y(()=>{"use strict";ls()});var Zc,NI=Y(()=>{"use strict";Kn();ls();Ra();La();Zc=St(function(e,t){return t=rr(t,!0,!0),yr(e,function(n){return!En(t,n)})})});var EI,NT=Y(()=>{"use strict";Kn();NI();EI=St(function(e,t){return Zc(e,t)})});function ps(e,t,n,r){va(t)||(r=n,n=t,t=!1),n!=null&&(n=Nt(n,r));for(var i=[],o=[],s=0,a=jt(e);s<a;s++){var u=e[s],l=n?n(u,s,e):u;t&&!n?((!s||o!==l)&&i.push(u),o=l):n?En(o,l)||(o.push(l),i.push(u)):En(i,u)||i.push(u)}return i}var PI=Y(()=>{"use strict";fy();zn();vr();La()});var OI,ET=Y(()=>{"use strict";Kn();PI();ls();OI=St(function(e){return ps(rr(e,!0,!0))})});function Oh(e){for(var t=[],n=arguments.length,r=0,i=jt(e);r<i;r++){var o=e[r];if(!En(t,o)){var s;for(s=1;s<n&&En(arguments[s],o);s++);s===n&&t.push(o)}}return t}var PT=Y(()=>{"use strict";vr();La()});function gs(e){for(var t=e&&ka(e,jt).length||0,n=Array(t),r=0;r<t;r++)n[r]=go(e,r);return n}var RI=Y(()=>{"use strict";vI();vr();bh()});var LI,OT=Y(()=>{"use strict";Kn();RI();LI=St(gs)});function Rh(e,t){for(var n={},r=0,i=jt(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n}var RT=Y(()=>{"use strict";vr()});function Lh(e,t,n){t==null&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i}var LT=Y(()=>{"use strict"});function kh(e,t){if(t==null||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(Ci.call(e,r,r+=t));return n}var kT=Y(()=>{"use strict";Ut()});function za(e,t){return e._chain?Ue(t).chain():t}var kI=Y(()=>{"use strict";er()});function Ga(e){return pn(os(e),function(t){var n=Ue[t]=e[t];Ue.prototype[t]=function(){var r=[this._wrapped];return oM.apply(r,arguments),za(this,n.apply(Ue,r))}}),Ue}var _T=Y(()=>{"use strict";er();po();_y();Ut();kI()});var FT,jT=Y(()=>{"use strict";er();po();Ut();kI();pn(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=gc[e];Ue.prototype[e]=function(){var n=this._wrapped;return n!=null&&(t.apply(n,arguments),(e==="shift"||e==="splice")&&n.length===0&&delete n[0]),za(this,n)}});pn(["concat","join","slice"],function(e){var t=gc[e];Ue.prototype[e]=function(){var n=this._wrapped;return n!=null&&(n=t.apply(n,arguments)),za(this,n)}});FT=Ue});var _I={};Ht(_I,{VERSION:()=>pc,after:()=>yh,all:()=>zc,allKeys:()=>Fr,any:()=>Gc,assign:()=>co,before:()=>Ea,bind:()=>Oc,bindAll:()=>nI,chain:()=>fh,chunk:()=>kh,clone:()=>qd,collect:()=>Gn,compact:()=>Eh,compose:()=>vh,constant:()=>wa,contains:()=>En,countBy:()=>AI,create:()=>Jd,debounce:()=>ph,default:()=>FT,defaults:()=>xc,defer:()=>iI,delay:()=>Rc,detect:()=>ds,difference:()=>Zc,drop:()=>mo,each:()=>pn,escape:()=>$y,every:()=>zc,extend:()=>bc,extendOwn:()=>co,filter:()=>yr,find:()=>ds,findIndex:()=>fs,findKey:()=>Pa,findLastIndex:()=>kc,findWhere:()=>Ch,first:()=>Ba,flatten:()=>Ph,foldl:()=>Bc,foldr:()=>wh,forEach:()=>pn,functions:()=>os,get:()=>Ta,groupBy:()=>CI,has:()=>eh,head:()=>Ba,identity:()=>lo,include:()=>En,includes:()=>En,indexBy:()=>wI,indexOf:()=>Fc,initial:()=>ja,inject:()=>Bc,intersection:()=>Oh,invert:()=>Da,invoke:()=>mI,isArguments:()=>ns,isArray:()=>Bn,isArrayBuffer:()=>yc,isBoolean:()=>va,isDataView:()=>ao,isDate:()=>hy,isElement:()=>_d,isEmpty:()=>Vd,isEqual:()=>Wd,isError:()=>gy,isFinite:()=>Gd,isFunction:()=>Rt,isMap:()=>Py,isMatch:()=>Aa,isNaN:()=>Ca,isNull:()=>kd,isNumber:()=>mc,isObject:()=>Nn,isRegExp:()=>py,isSet:()=>Ry,isString:()=>ts,isSymbol:()=>vc,isTypedArray:()=>wc,isUndefined:()=>ma,isWeakMap:()=>Oy,isWeakSet:()=>Ly,iteratee:()=>us,keys:()=>rt,last:()=>Nh,lastIndexOf:()=>hI,map:()=>Gn,mapObject:()=>rh,matcher:()=>ei,matches:()=>ei,max:()=>ka,memoize:()=>dh,methods:()=>os,min:()=>Dh,mixin:()=>Ga,negate:()=>ho,noop:()=>Na,now:()=>ki,object:()=>Rh,omit:()=>MI,once:()=>sI,pairs:()=>Yd,partial:()=>_i,partition:()=>bI,pick:()=>Vc,pluck:()=>go,property:()=>fo,propertyOf:()=>ih,random:()=>cs,range:()=>Lh,reduce:()=>Bc,reduceRight:()=>wh,reject:()=>Ah,rest:()=>mo,restArguments:()=>St,result:()=>ch,sample:()=>Fa,select:()=>yr,shuffle:()=>Mh,size:()=>Sh,some:()=>Gc,sortBy:()=>Th,sortedIndex:()=>Oa,tail:()=>mo,take:()=>Ba,tap:()=>Qd,template:()=>uh,templateSettings:()=>Jy,throttle:()=>hh,times:()=>oh,toArray:()=>_a,toPath:()=>Mc,transpose:()=>gs,unescape:()=>Xy,union:()=>OI,uniq:()=>ps,unique:()=>ps,uniqueId:()=>lh,unzip:()=>gs,values:()=>tr,where:()=>xh,without:()=>EI,wrap:()=>gh,zip:()=>LI});var _h=Y(()=>{"use strict";Ut();Kn();so();dM();ly();fy();hM();Fd();dy();pM();gM();mM();my();vy();Bd();uo();mr();zd();IM();Cy();xy();AM();My();MM();PM();OM();RM();LM();hn();ba();is();kM();ky();_y();Fy();Xd();jy();_M();FM();jM();Gy();BM();zM();th();wy();Zy();zy();nh();GM();Tc();UM();Wy();sh();VM();HM();qy();YM();$M();XM();JM();Vy();Pc();tI();qM();QM();rI();KM();eT();tT();nT();mh();rT();iT();oI();oT();aI();Ih();cI();lI();dI();sT();pI();aT();po();hs();uT();cT();Ra();lT();fT();dT();La();hT();bh();pT();vI();gT();mT();II();vT();yT();IT();CT();wT();yI();AT();DI();xT();DT();TI();MT();SI();TT();ST();NT();PI();ET();PT();NI();RI();OT();RT();LT();kT();_T();jT()});var FI,BT,zT=Y(()=>{"use strict";_h();_h();FI=Ga(_I);FI._=FI;BT=FI});var GT={};Ht(GT,{VERSION:()=>pc,after:()=>yh,all:()=>zc,allKeys:()=>Fr,any:()=>Gc,assign:()=>co,before:()=>Ea,bind:()=>Oc,bindAll:()=>nI,chain:()=>fh,chunk:()=>kh,clone:()=>qd,collect:()=>Gn,compact:()=>Eh,compose:()=>vh,constant:()=>wa,contains:()=>En,countBy:()=>AI,create:()=>Jd,debounce:()=>ph,default:()=>BT,defaults:()=>xc,defer:()=>iI,delay:()=>Rc,detect:()=>ds,difference:()=>Zc,drop:()=>mo,each:()=>pn,escape:()=>$y,every:()=>zc,extend:()=>bc,extendOwn:()=>co,filter:()=>yr,find:()=>ds,findIndex:()=>fs,findKey:()=>Pa,findLastIndex:()=>kc,findWhere:()=>Ch,first:()=>Ba,flatten:()=>Ph,foldl:()=>Bc,foldr:()=>wh,forEach:()=>pn,functions:()=>os,get:()=>Ta,groupBy:()=>CI,has:()=>eh,head:()=>Ba,identity:()=>lo,include:()=>En,includes:()=>En,indexBy:()=>wI,indexOf:()=>Fc,initial:()=>ja,inject:()=>Bc,intersection:()=>Oh,invert:()=>Da,invoke:()=>mI,isArguments:()=>ns,isArray:()=>Bn,isArrayBuffer:()=>yc,isBoolean:()=>va,isDataView:()=>ao,isDate:()=>hy,isElement:()=>_d,isEmpty:()=>Vd,isEqual:()=>Wd,isError:()=>gy,isFinite:()=>Gd,isFunction:()=>Rt,isMap:()=>Py,isMatch:()=>Aa,isNaN:()=>Ca,isNull:()=>kd,isNumber:()=>mc,isObject:()=>Nn,isRegExp:()=>py,isSet:()=>Ry,isString:()=>ts,isSymbol:()=>vc,isTypedArray:()=>wc,isUndefined:()=>ma,isWeakMap:()=>Oy,isWeakSet:()=>Ly,iteratee:()=>us,keys:()=>rt,last:()=>Nh,lastIndexOf:()=>hI,map:()=>Gn,mapObject:()=>rh,matcher:()=>ei,matches:()=>ei,max:()=>ka,memoize:()=>dh,methods:()=>os,min:()=>Dh,mixin:()=>Ga,negate:()=>ho,noop:()=>Na,now:()=>ki,object:()=>Rh,omit:()=>MI,once:()=>sI,pairs:()=>Yd,partial:()=>_i,partition:()=>bI,pick:()=>Vc,pluck:()=>go,property:()=>fo,propertyOf:()=>ih,random:()=>cs,range:()=>Lh,reduce:()=>Bc,reduceRight:()=>wh,reject:()=>Ah,rest:()=>mo,restArguments:()=>St,result:()=>ch,sample:()=>Fa,select:()=>yr,shuffle:()=>Mh,size:()=>Sh,some:()=>Gc,sortBy:()=>Th,sortedIndex:()=>Oa,tail:()=>mo,take:()=>Ba,tap:()=>Qd,template:()=>uh,templateSettings:()=>Jy,throttle:()=>hh,times:()=>oh,toArray:()=>_a,toPath:()=>Mc,transpose:()=>gs,unescape:()=>Xy,union:()=>OI,uniq:()=>ps,unique:()=>ps,uniqueId:()=>lh,unzip:()=>gs,values:()=>tr,where:()=>xh,without:()=>EI,wrap:()=>gh,zip:()=>LI});var UT=Y(()=>{"use strict";zT();_h()});var vo=PC((VT,Fh)=>{"use strict";(function(e,t){"use strict";typeof Fh=="object"&&typeof Fh.exports=="object"?Fh.exports=e.document?t(e,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return t(n)}:t(e)})(typeof window<"u"?window:VT,function(e,t){"use strict";var n=[],r=Object.getPrototypeOf,i=n.slice,o=n.flat?function(c){return n.flat.call(c)}:function(c){return n.concat.apply([],c)},s=n.push,a=n.indexOf,u={},l=u.toString,h=u.hasOwnProperty,f=h.toString,y=f.call(Object),I={},x=function(d){return typeof d=="function"&&typeof d.nodeType!="number"&&typeof d.item!="function"},S=function(d){return d!=null&&d===d.window},N=e.document,P={type:!0,src:!0,nonce:!0,noModule:!0};function U(c,d,p){p=p||N;var m,C,A=p.createElement("script");if(A.text=c,d)for(m in P)C=d[m]||d.getAttribute&&d.getAttribute(m),C&&A.setAttribute(m,C);p.head.appendChild(A).parentNode.removeChild(A)}function H(c){return c==null?c+"":typeof c=="object"||typeof c=="function"?u[l.call(c)]||"object":typeof c}var J="3.7.1",ie=/HTML$/i,g=function(c,d){return new g.fn.init(c,d)};g.fn=g.prototype={jquery:J,constructor:g,length:0,toArray:function(){return i.call(this)},get:function(c){return c==null?i.call(this):c<0?this[c+this.length]:this[c]},pushStack:function(c){var d=g.merge(this.constructor(),c);return d.prevObject=this,d},each:function(c){return g.each(this,c)},map:function(c){return this.pushStack(g.map(this,function(d,p){return c.call(d,p,d)}))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(g.grep(this,function(c,d){return(d+1)%2}))},odd:function(){return this.pushStack(g.grep(this,function(c,d){return d%2}))},eq:function(c){var d=this.length,p=+c+(c<0?d:0);return this.pushStack(p>=0&&p<d?[this[p]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},g.extend=g.fn.extend=function(){var c,d,p,m,C,A,D=arguments[0]||{},_=1,L=arguments.length,Z=!1;for(typeof D=="boolean"&&(Z=D,D=arguments[_]||{},_++),typeof D!="object"&&!x(D)&&(D={}),_===L&&(D=this,_--);_<L;_++)if((c=arguments[_])!=null)for(d in c)m=c[d],!(d==="__proto__"||D===m)&&(Z&&m&&(g.isPlainObject(m)||(C=Array.isArray(m)))?(p=D[d],C&&!Array.isArray(p)?A=[]:!C&&!g.isPlainObject(p)?A={}:A=p,C=!1,D[d]=g.extend(Z,A,m)):m!==void 0&&(D[d]=m));return D},g.extend({expando:"jQuery"+(J+Math.random()).replace(/\D/g,""),isReady:!0,error:function(c){throw new Error(c)},noop:function(){},isPlainObject:function(c){var d,p;return!c||l.call(c)!=="[object Object]"?!1:(d=r(c),d?(p=h.call(d,"constructor")&&d.constructor,typeof p=="function"&&f.call(p)===y):!0)},isEmptyObject:function(c){var d;for(d in c)return!1;return!0},globalEval:function(c,d,p){U(c,{nonce:d&&d.nonce},p)},each:function(c,d){var p,m=0;if(v(c))for(p=c.length;m<p&&d.call(c[m],m,c[m])!==!1;m++);else for(m in c)if(d.call(c[m],m,c[m])===!1)break;return c},text:function(c){var d,p="",m=0,C=c.nodeType;if(!C)for(;d=c[m++];)p+=g.text(d);return C===1||C===11?c.textContent:C===9?c.documentElement.textContent:C===3||C===4?c.nodeValue:p},makeArray:function(c,d){var p=d||[];return c!=null&&(v(Object(c))?g.merge(p,typeof c=="string"?[c]:c):s.call(p,c)),p},inArray:function(c,d,p){return d==null?-1:a.call(d,c,p)},isXMLDoc:function(c){var d=c&&c.namespaceURI,p=c&&(c.ownerDocument||c).documentElement;return!ie.test(d||p&&p.nodeName||"HTML")},merge:function(c,d){for(var p=+d.length,m=0,C=c.length;m<p;m++)c[C++]=d[m];return c.length=C,c},grep:function(c,d,p){for(var m,C=[],A=0,D=c.length,_=!p;A<D;A++)m=!d(c[A],A),m!==_&&C.push(c[A]);return C},map:function(c,d,p){var m,C,A=0,D=[];if(v(c))for(m=c.length;A<m;A++)C=d(c[A],A,p),C!=null&&D.push(C);else for(A in c)C=d(c[A],A,p),C!=null&&D.push(C);return o(D)},guid:1,support:I}),typeof Symbol=="function"&&(g.fn[Symbol.iterator]=n[Symbol.iterator]),g.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(c,d){u["[object "+d+"]"]=d.toLowerCase()});function v(c){var d=!!c&&"length"in c&&c.length,p=H(c);return x(c)||S(c)?!1:p==="array"||d===0||typeof d=="number"&&d>0&&d-1 in c}function b(c,d){return c.nodeName&&c.nodeName.toLowerCase()===d.toLowerCase()}var M=n.pop,E=n.sort,j=n.splice,B="[\\x20\\t\\r\\n\\f]",W=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g");g.contains=function(c,d){var p=d&&d.parentNode;return c===p||!!(p&&p.nodeType===1&&(c.contains?c.contains(p):c.compareDocumentPosition&&c.compareDocumentPosition(p)&16))};var ce=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function pe(c,d){return d?c==="\0"?"\uFFFD":c.slice(0,-1)+"\\"+c.charCodeAt(c.length-1).toString(16)+" ":"\\"+c}g.escapeSelector=function(c){return(c+"").replace(ce,pe)};var V=N,Q=s;(function(){var c,d,p,m,C,A=Q,D,_,L,Z,ne,ue=g.expando,K=0,de=0,Fe=Ml(),ht=Ml(),Je=Ml(),vn=Ml(),rn=function(O,z){return O===z&&(C=!0),0},ii="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",oi="(?:\\\\[\\da-fA-F]{1,6}"+B+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",ot="\\["+B+"*("+oi+")(?:"+B+"*([*^$|!~]?=)"+B+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+oi+"))|)"+B+"*\\]",No=":("+oi+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+ot+")*)|.*)\\)|)",vt=new RegExp(B+"+","g"),Jt=new RegExp("^"+B+"*,"+B+"*"),gu=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),Gp=new RegExp(B+"|>"),si=new RegExp(No),mu=new RegExp("^"+oi+"$"),ai={ID:new RegExp("^#("+oi+")"),CLASS:new RegExp("^\\.("+oi+")"),TAG:new RegExp("^("+oi+"|[*])"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+No),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+ii+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},Gi=/^(?:input|select|textarea|button)$/i,Ui=/^h\d$/i,br=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Up=/[+~]/,Ai=new RegExp("\\\\[\\da-fA-F]{1,6}"+B+"?|\\\\([^\\r\\n\\f])","g"),bi=function(O,z){var X="0x"+O.slice(1)-65536;return z||(X<0?String.fromCharCode(X+65536):String.fromCharCode(X>>10|55296,X&1023|56320))},_E=function(){Vi()},FE=Sl(function(O){return O.disabled===!0&&b(O,"fieldset")},{dir:"parentNode",next:"legend"});function jE(){try{return D.activeElement}catch{}}try{A.apply(n=i.call(V.childNodes),V.childNodes),n[V.childNodes.length].nodeType}catch{A={apply:function(z,X){Q.apply(z,i.call(X))},call:function(z){Q.apply(z,i.call(arguments,1))}}}function Dt(O,z,X,te){var ae,ve,we,De,Ae,tt,ke,ze=z&&z.ownerDocument,nt=z?z.nodeType:9;if(X=X||[],typeof O!="string"||!O||nt!==1&&nt!==9&&nt!==11)return X;if(!te&&(Vi(z),z=z||D,L)){if(nt!==11&&(Ae=br.exec(O)))if(ae=Ae[1]){if(nt===9)if(we=z.getElementById(ae)){if(we.id===ae)return A.call(X,we),X}else return X;else if(ze&&(we=ze.getElementById(ae))&&Dt.contains(z,we)&&we.id===ae)return A.call(X,we),X}else{if(Ae[2])return A.apply(X,z.getElementsByTagName(O)),X;if((ae=Ae[3])&&z.getElementsByClassName)return A.apply(X,z.getElementsByClassName(ae)),X}if(!vn[O+" "]&&(!Z||!Z.test(O))){if(ke=O,ze=z,nt===1&&(Gp.test(O)||gu.test(O))){for(ze=Up.test(O)&&Vp(z.parentNode)||z,(ze!=z||!I.scope)&&((De=z.getAttribute("id"))?De=g.escapeSelector(De):z.setAttribute("id",De=ue)),tt=vu(O),ve=tt.length;ve--;)tt[ve]=(De?"#"+De:":scope")+" "+Tl(tt[ve]);ke=tt.join(",")}try{return A.apply(X,ze.querySelectorAll(ke)),X}catch{vn(O,!0)}finally{De===ue&&z.removeAttribute("id")}}}return TC(O.replace(W,"$1"),z,X,te)}function Ml(){var O=[];function z(X,te){return O.push(X+" ")>d.cacheLength&&delete z[O.shift()],z[X+" "]=te}return z}function Wr(O){return O[ue]=!0,O}function Es(O){var z=D.createElement("fieldset");try{return!!O(z)}catch{return!1}finally{z.parentNode&&z.parentNode.removeChild(z),z=null}}function BE(O){return function(z){return b(z,"input")&&z.type===O}}function zE(O){return function(z){return(b(z,"input")||b(z,"button"))&&z.type===O}}function DC(O){return function(z){return"form"in z?z.parentNode&&z.disabled===!1?"label"in z?"label"in z.parentNode?z.parentNode.disabled===O:z.disabled===O:z.isDisabled===O||z.isDisabled!==!O&&FE(z)===O:z.disabled===O:"label"in z?z.disabled===O:!1}}function Eo(O){return Wr(function(z){return z=+z,Wr(function(X,te){for(var ae,ve=O([],X.length,z),we=ve.length;we--;)X[ae=ve[we]]&&(X[ae]=!(te[ae]=X[ae]))})})}function Vp(O){return O&&typeof O.getElementsByTagName<"u"&&O}function Vi(O){var z,X=O?O.ownerDocument||O:V;return X==D||X.nodeType!==9||!X.documentElement||(D=X,_=D.documentElement,L=!g.isXMLDoc(D),ne=_.matches||_.webkitMatchesSelector||_.msMatchesSelector,_.msMatchesSelector&&V!=D&&(z=D.defaultView)&&z.top!==z&&z.addEventListener("unload",_E),I.getById=Es(function(te){return _.appendChild(te).id=g.expando,!D.getElementsByName||!D.getElementsByName(g.expando).length}),I.disconnectedMatch=Es(function(te){return ne.call(te,"*")}),I.scope=Es(function(){return D.querySelectorAll(":scope")}),I.cssHas=Es(function(){try{return D.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),I.getById?(d.filter.ID=function(te){var ae=te.replace(Ai,bi);return function(ve){return ve.getAttribute("id")===ae}},d.find.ID=function(te,ae){if(typeof ae.getElementById<"u"&&L){var ve=ae.getElementById(te);return ve?[ve]:[]}}):(d.filter.ID=function(te){var ae=te.replace(Ai,bi);return function(ve){var we=typeof ve.getAttributeNode<"u"&&ve.getAttributeNode("id");return we&&we.value===ae}},d.find.ID=function(te,ae){if(typeof ae.getElementById<"u"&&L){var ve,we,De,Ae=ae.getElementById(te);if(Ae){if(ve=Ae.getAttributeNode("id"),ve&&ve.value===te)return[Ae];for(De=ae.getElementsByName(te),we=0;Ae=De[we++];)if(ve=Ae.getAttributeNode("id"),ve&&ve.value===te)return[Ae]}return[]}}),d.find.TAG=function(te,ae){return typeof ae.getElementsByTagName<"u"?ae.getElementsByTagName(te):ae.querySelectorAll(te)},d.find.CLASS=function(te,ae){if(typeof ae.getElementsByClassName<"u"&&L)return ae.getElementsByClassName(te)},Z=[],Es(function(te){var ae;_.appendChild(te).innerHTML="<a id='"+ue+"' href='' disabled='disabled'></a><select id='"+ue+"-\r\\' disabled='disabled'><option selected=''></option></select>",te.querySelectorAll("[selected]").length||Z.push("\\["+B+"*(?:value|"+ii+")"),te.querySelectorAll("[id~="+ue+"-]").length||Z.push("~="),te.querySelectorAll("a#"+ue+"+*").length||Z.push(".#.+[+~]"),te.querySelectorAll(":checked").length||Z.push(":checked"),ae=D.createElement("input"),ae.setAttribute("type","hidden"),te.appendChild(ae).setAttribute("name","D"),_.appendChild(te).disabled=!0,te.querySelectorAll(":disabled").length!==2&&Z.push(":enabled",":disabled"),ae=D.createElement("input"),ae.setAttribute("name",""),te.appendChild(ae),te.querySelectorAll("[name='']").length||Z.push("\\["+B+"*name"+B+"*="+B+`*(?:''|"")`)}),I.cssHas||Z.push(":has"),Z=Z.length&&new RegExp(Z.join("|")),rn=function(te,ae){if(te===ae)return C=!0,0;var ve=!te.compareDocumentPosition-!ae.compareDocumentPosition;return ve||(ve=(te.ownerDocument||te)==(ae.ownerDocument||ae)?te.compareDocumentPosition(ae):1,ve&1||!I.sortDetached&&ae.compareDocumentPosition(te)===ve?te===D||te.ownerDocument==V&&Dt.contains(V,te)?-1:ae===D||ae.ownerDocument==V&&Dt.contains(V,ae)?1:m?a.call(m,te)-a.call(m,ae):0:ve&4?-1:1)}),D}Dt.matches=function(O,z){return Dt(O,null,null,z)},Dt.matchesSelector=function(O,z){if(Vi(O),L&&!vn[z+" "]&&(!Z||!Z.test(z)))try{var X=ne.call(O,z);if(X||I.disconnectedMatch||O.document&&O.document.nodeType!==11)return X}catch{vn(z,!0)}return Dt(z,D,null,[O]).length>0},Dt.contains=function(O,z){return(O.ownerDocument||O)!=D&&Vi(O),g.contains(O,z)},Dt.attr=function(O,z){(O.ownerDocument||O)!=D&&Vi(O);var X=d.attrHandle[z.toLowerCase()],te=X&&h.call(d.attrHandle,z.toLowerCase())?X(O,z,!L):void 0;return te!==void 0?te:O.getAttribute(z)},Dt.error=function(O){throw new Error("Syntax error, unrecognized expression: "+O)},g.uniqueSort=function(O){var z,X=[],te=0,ae=0;if(C=!I.sortStable,m=!I.sortStable&&i.call(O,0),E.call(O,rn),C){for(;z=O[ae++];)z===O[ae]&&(te=X.push(ae));for(;te--;)j.call(O,X[te],1)}return m=null,O},g.fn.uniqueSort=function(){return this.pushStack(g.uniqueSort(i.apply(this)))},d=g.expr={cacheLength:50,createPseudo:Wr,match:ai,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(O){return O[1]=O[1].replace(Ai,bi),O[3]=(O[3]||O[4]||O[5]||"").replace(Ai,bi),O[2]==="~="&&(O[3]=" "+O[3]+" "),O.slice(0,4)},CHILD:function(O){return O[1]=O[1].toLowerCase(),O[1].slice(0,3)==="nth"?(O[3]||Dt.error(O[0]),O[4]=+(O[4]?O[5]+(O[6]||1):2*(O[3]==="even"||O[3]==="odd")),O[5]=+(O[7]+O[8]||O[3]==="odd")):O[3]&&Dt.error(O[0]),O},PSEUDO:function(O){var z,X=!O[6]&&O[2];return ai.CHILD.test(O[0])?null:(O[3]?O[2]=O[4]||O[5]||"":X&&si.test(X)&&(z=vu(X,!0))&&(z=X.indexOf(")",X.length-z)-X.length)&&(O[0]=O[0].slice(0,z),O[2]=X.slice(0,z)),O.slice(0,3))}},filter:{TAG:function(O){var z=O.replace(Ai,bi).toLowerCase();return O==="*"?function(){return!0}:function(X){return b(X,z)}},CLASS:function(O){var z=Fe[O+" "];return z||(z=new RegExp("(^|"+B+")"+O+"("+B+"|$)"))&&Fe(O,function(X){return z.test(typeof X.className=="string"&&X.className||typeof X.getAttribute<"u"&&X.getAttribute("class")||"")})},ATTR:function(O,z,X){return function(te){var ae=Dt.attr(te,O);return ae==null?z==="!=":z?(ae+="",z==="="?ae===X:z==="!="?ae!==X:z==="^="?X&&ae.indexOf(X)===0:z==="*="?X&&ae.indexOf(X)>-1:z==="$="?X&&ae.slice(-X.length)===X:z==="~="?(" "+ae.replace(vt," ")+" ").indexOf(X)>-1:z==="|="?ae===X||ae.slice(0,X.length+1)===X+"-":!1):!0}},CHILD:function(O,z,X,te,ae){var ve=O.slice(0,3)!=="nth",we=O.slice(-4)!=="last",De=z==="of-type";return te===1&&ae===0?function(Ae){return!!Ae.parentNode}:function(Ae,tt,ke){var ze,nt,Ee,Ft,qn,Sn=ve!==we?"nextSibling":"previousSibling",xr=Ae.parentNode,ui=De&&Ae.nodeName.toLowerCase(),Ps=!ke&&!De,_n=!1;if(xr){if(ve){for(;Sn;){for(Ee=Ae;Ee=Ee[Sn];)if(De?b(Ee,ui):Ee.nodeType===1)return!1;qn=Sn=O==="only"&&!qn&&"nextSibling"}return!0}if(qn=[we?xr.firstChild:xr.lastChild],we&&Ps){for(nt=xr[ue]||(xr[ue]={}),ze=nt[O]||[],Ft=ze[0]===K&&ze[1],_n=Ft&&ze[2],Ee=Ft&&xr.childNodes[Ft];Ee=++Ft&&Ee&&Ee[Sn]||(_n=Ft=0)||qn.pop();)if(Ee.nodeType===1&&++_n&&Ee===Ae){nt[O]=[K,Ft,_n];break}}else if(Ps&&(nt=Ae[ue]||(Ae[ue]={}),ze=nt[O]||[],Ft=ze[0]===K&&ze[1],_n=Ft),_n===!1)for(;(Ee=++Ft&&Ee&&Ee[Sn]||(_n=Ft=0)||qn.pop())&&!((De?b(Ee,ui):Ee.nodeType===1)&&++_n&&(Ps&&(nt=Ee[ue]||(Ee[ue]={}),nt[O]=[K,_n]),Ee===Ae)););return _n-=ae,_n===te||_n%te===0&&_n/te>=0}}},PSEUDO:function(O,z){var X,te=d.pseudos[O]||d.setFilters[O.toLowerCase()]||Dt.error("unsupported pseudo: "+O);return te[ue]?te(z):te.length>1?(X=[O,O,"",z],d.setFilters.hasOwnProperty(O.toLowerCase())?Wr(function(ae,ve){for(var we,De=te(ae,z),Ae=De.length;Ae--;)we=a.call(ae,De[Ae]),ae[we]=!(ve[we]=De[Ae])}):function(ae){return te(ae,0,X)}):te}},pseudos:{not:Wr(function(O){var z=[],X=[],te=Yp(O.replace(W,"$1"));return te[ue]?Wr(function(ae,ve,we,De){for(var Ae,tt=te(ae,null,De,[]),ke=ae.length;ke--;)(Ae=tt[ke])&&(ae[ke]=!(ve[ke]=Ae))}):function(ae,ve,we){return z[0]=ae,te(z,null,we,X),z[0]=null,!X.pop()}}),has:Wr(function(O){return function(z){return Dt(O,z).length>0}}),contains:Wr(function(O){return O=O.replace(Ai,bi),function(z){return(z.textContent||g.text(z)).indexOf(O)>-1}}),lang:Wr(function(O){return mu.test(O||"")||Dt.error("unsupported lang: "+O),O=O.replace(Ai,bi).toLowerCase(),function(z){var X;do if(X=L?z.lang:z.getAttribute("xml:lang")||z.getAttribute("lang"))return X=X.toLowerCase(),X===O||X.indexOf(O+"-")===0;while((z=z.parentNode)&&z.nodeType===1);return!1}}),target:function(O){var z=e.location&&e.location.hash;return z&&z.slice(1)===O.id},root:function(O){return O===_},focus:function(O){return O===jE()&&D.hasFocus()&&!!(O.type||O.href||~O.tabIndex)},enabled:DC(!1),disabled:DC(!0),checked:function(O){return b(O,"input")&&!!O.checked||b(O,"option")&&!!O.selected},selected:function(O){return O.parentNode&&O.parentNode.selectedIndex,O.selected===!0},empty:function(O){for(O=O.firstChild;O;O=O.nextSibling)if(O.nodeType<6)return!1;return!0},parent:function(O){return!d.pseudos.empty(O)},header:function(O){return Ui.test(O.nodeName)},input:function(O){return Gi.test(O.nodeName)},button:function(O){return b(O,"input")&&O.type==="button"||b(O,"button")},text:function(O){var z;return b(O,"input")&&O.type==="text"&&((z=O.getAttribute("type"))==null||z.toLowerCase()==="text")},first:Eo(function(){return[0]}),last:Eo(function(O,z){return[z-1]}),eq:Eo(function(O,z,X){return[X<0?X+z:X]}),even:Eo(function(O,z){for(var X=0;X<z;X+=2)O.push(X);return O}),odd:Eo(function(O,z){for(var X=1;X<z;X+=2)O.push(X);return O}),lt:Eo(function(O,z,X){var te;for(X<0?te=X+z:X>z?te=z:te=X;--te>=0;)O.push(te);return O}),gt:Eo(function(O,z,X){for(var te=X<0?X+z:X;++te<z;)O.push(te);return O})}},d.pseudos.nth=d.pseudos.eq;for(c in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[c]=BE(c);for(c in{submit:!0,reset:!0})d.pseudos[c]=zE(c);function MC(){}MC.prototype=d.filters=d.pseudos,d.setFilters=new MC;function vu(O,z){var X,te,ae,ve,we,De,Ae,tt=ht[O+" "];if(tt)return z?0:tt.slice(0);for(we=O,De=[],Ae=d.preFilter;we;){(!X||(te=Jt.exec(we)))&&(te&&(we=we.slice(te[0].length)||we),De.push(ae=[])),X=!1,(te=gu.exec(we))&&(X=te.shift(),ae.push({value:X,type:te[0].replace(W," ")}),we=we.slice(X.length));for(ve in d.filter)(te=ai[ve].exec(we))&&(!Ae[ve]||(te=Ae[ve](te)))&&(X=te.shift(),ae.push({value:X,type:ve,matches:te}),we=we.slice(X.length));if(!X)break}return z?we.length:we?Dt.error(O):ht(O,De).slice(0)}function Tl(O){for(var z=0,X=O.length,te="";z<X;z++)te+=O[z].value;return te}function Sl(O,z,X){var te=z.dir,ae=z.next,ve=ae||te,we=X&&ve==="parentNode",De=de++;return z.first?function(Ae,tt,ke){for(;Ae=Ae[te];)if(Ae.nodeType===1||we)return O(Ae,tt,ke);return!1}:function(Ae,tt,ke){var ze,nt,Ee=[K,De];if(ke){for(;Ae=Ae[te];)if((Ae.nodeType===1||we)&&O(Ae,tt,ke))return!0}else for(;Ae=Ae[te];)if(Ae.nodeType===1||we)if(nt=Ae[ue]||(Ae[ue]={}),ae&&b(Ae,ae))Ae=Ae[te]||Ae;else{if((ze=nt[ve])&&ze[0]===K&&ze[1]===De)return Ee[2]=ze[2];if(nt[ve]=Ee,Ee[2]=O(Ae,tt,ke))return!0}return!1}}function Zp(O){return O.length>1?function(z,X,te){for(var ae=O.length;ae--;)if(!O[ae](z,X,te))return!1;return!0}:O[0]}function GE(O,z,X){for(var te=0,ae=z.length;te<ae;te++)Dt(O,z[te],X);return X}function Nl(O,z,X,te,ae){for(var ve,we=[],De=0,Ae=O.length,tt=z!=null;De<Ae;De++)(ve=O[De])&&(!X||X(ve,te,ae))&&(we.push(ve),tt&&z.push(De));return we}function Wp(O,z,X,te,ae,ve){return te&&!te[ue]&&(te=Wp(te)),ae&&!ae[ue]&&(ae=Wp(ae,ve)),Wr(function(we,De,Ae,tt){var ke,ze,nt,Ee,Ft=[],qn=[],Sn=De.length,xr=we||GE(z||"*",Ae.nodeType?[Ae]:Ae,[]),ui=O&&(we||!z)?Nl(xr,Ft,O,Ae,tt):xr;if(X?(Ee=ae||(we?O:Sn||te)?[]:De,X(ui,Ee,Ae,tt)):Ee=ui,te)for(ke=Nl(Ee,qn),te(ke,[],Ae,tt),ze=ke.length;ze--;)(nt=ke[ze])&&(Ee[qn[ze]]=!(ui[qn[ze]]=nt));if(we){if(ae||O){if(ae){for(ke=[],ze=Ee.length;ze--;)(nt=Ee[ze])&&ke.push(ui[ze]=nt);ae(null,Ee=[],ke,tt)}for(ze=Ee.length;ze--;)(nt=Ee[ze])&&(ke=ae?a.call(we,nt):Ft[ze])>-1&&(we[ke]=!(De[ke]=nt))}}else Ee=Nl(Ee===De?Ee.splice(Sn,Ee.length):Ee),ae?ae(null,De,Ee,tt):A.apply(De,Ee)})}function Hp(O){for(var z,X,te,ae=O.length,ve=d.relative[O[0].type],we=ve||d.relative[" "],De=ve?1:0,Ae=Sl(function(ze){return ze===z},we,!0),tt=Sl(function(ze){return a.call(z,ze)>-1},we,!0),ke=[function(ze,nt,Ee){var Ft=!ve&&(Ee||nt!=p)||((z=nt).nodeType?Ae(ze,nt,Ee):tt(ze,nt,Ee));return z=null,Ft}];De<ae;De++)if(X=d.relative[O[De].type])ke=[Sl(Zp(ke),X)];else{if(X=d.filter[O[De].type].apply(null,O[De].matches),X[ue]){for(te=++De;te<ae&&!d.relative[O[te].type];te++);return Wp(De>1&&Zp(ke),De>1&&Tl(O.slice(0,De-1).concat({value:O[De-2].type===" "?"*":""})).replace(W,"$1"),X,De<te&&Hp(O.slice(De,te)),te<ae&&Hp(O=O.slice(te)),te<ae&&Tl(O))}ke.push(X)}return Zp(ke)}function UE(O,z){var X=z.length>0,te=O.length>0,ae=function(ve,we,De,Ae,tt){var ke,ze,nt,Ee=0,Ft="0",qn=ve&&[],Sn=[],xr=p,ui=ve||te&&d.find.TAG("*",tt),Ps=K+=xr==null?1:Math.random()||.1,_n=ui.length;for(tt&&(p=we==D||we||tt);Ft!==_n&&(ke=ui[Ft])!=null;Ft++){if(te&&ke){for(ze=0,!we&&ke.ownerDocument!=D&&(Vi(ke),De=!L);nt=O[ze++];)if(nt(ke,we||D,De)){A.call(Ae,ke);break}tt&&(K=Ps)}X&&((ke=!nt&&ke)&&Ee--,ve&&qn.push(ke))}if(Ee+=Ft,X&&Ft!==Ee){for(ze=0;nt=z[ze++];)nt(qn,Sn,we,De);if(ve){if(Ee>0)for(;Ft--;)qn[Ft]||Sn[Ft]||(Sn[Ft]=M.call(Ae));Sn=Nl(Sn)}A.apply(Ae,Sn),tt&&!ve&&Sn.length>0&&Ee+z.length>1&&g.uniqueSort(Ae)}return tt&&(K=Ps,p=xr),qn};return X?Wr(ae):ae}function Yp(O,z){var X,te=[],ae=[],ve=Je[O+" "];if(!ve){for(z||(z=vu(O)),X=z.length;X--;)ve=Hp(z[X]),ve[ue]?te.push(ve):ae.push(ve);ve=Je(O,UE(ae,te)),ve.selector=O}return ve}function TC(O,z,X,te){var ae,ve,we,De,Ae,tt=typeof O=="function"&&O,ke=!te&&vu(O=tt.selector||O);if(X=X||[],ke.length===1){if(ve=ke[0]=ke[0].slice(0),ve.length>2&&(we=ve[0]).type==="ID"&&z.nodeType===9&&L&&d.relative[ve[1].type]){if(z=(d.find.ID(we.matches[0].replace(Ai,bi),z)||[])[0],z)tt&&(z=z.parentNode);else return X;O=O.slice(ve.shift().value.length)}for(ae=ai.needsContext.test(O)?0:ve.length;ae--&&(we=ve[ae],!d.relative[De=we.type]);)if((Ae=d.find[De])&&(te=Ae(we.matches[0].replace(Ai,bi),Up.test(ve[0].type)&&Vp(z.parentNode)||z))){if(ve.splice(ae,1),O=te.length&&Tl(ve),!O)return A.apply(X,te),X;break}}return(tt||Yp(O,ke))(te,z,!L,X,!z||Up.test(O)&&Vp(z.parentNode)||z),X}I.sortStable=ue.split("").sort(rn).join("")===ue,Vi(),I.sortDetached=Es(function(O){return O.compareDocumentPosition(D.createElement("fieldset"))&1}),g.find=Dt,g.expr[":"]=g.expr.pseudos,g.unique=g.uniqueSort,Dt.compile=Yp,Dt.select=TC,Dt.setDocument=Vi,Dt.tokenize=vu,Dt.escape=g.escapeSelector,Dt.getText=g.text,Dt.isXML=g.isXMLDoc,Dt.selectors=g.expr,Dt.support=g.support,Dt.uniqueSort=g.uniqueSort})();var $=function(c,d,p){for(var m=[],C=p!==void 0;(c=c[d])&&c.nodeType!==9;)if(c.nodeType===1){if(C&&g(c).is(p))break;m.push(c)}return m},q=function(c,d){for(var p=[];c;c=c.nextSibling)c.nodeType===1&&c!==d&&p.push(c);return p},Pe=g.expr.match.needsContext,Me=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Ct(c,d,p){return x(d)?g.grep(c,function(m,C){return!!d.call(m,C,m)!==p}):d.nodeType?g.grep(c,function(m){return m===d!==p}):typeof d!="string"?g.grep(c,function(m){return a.call(d,m)>-1!==p}):g.filter(d,c,p)}g.filter=function(c,d,p){var m=d[0];return p&&(c=":not("+c+")"),d.length===1&&m.nodeType===1?g.find.matchesSelector(m,c)?[m]:[]:g.find.matches(c,g.grep(d,function(C){return C.nodeType===1}))},g.fn.extend({find:function(c){var d,p,m=this.length,C=this;if(typeof c!="string")return this.pushStack(g(c).filter(function(){for(d=0;d<m;d++)if(g.contains(C[d],this))return!0}));for(p=this.pushStack([]),d=0;d<m;d++)g.find(c,C[d],p);return m>1?g.uniqueSort(p):p},filter:function(c){return this.pushStack(Ct(this,c||[],!1))},not:function(c){return this.pushStack(Ct(this,c||[],!0))},is:function(c){return!!Ct(this,typeof c=="string"&&Pe.test(c)?g(c):c||[],!1).length}});var Pt,xe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Te=g.fn.init=function(c,d,p){var m,C;if(!c)return this;if(p=p||Pt,typeof c=="string")if(c[0]==="<"&&c[c.length-1]===">"&&c.length>=3?m=[null,c,null]:m=xe.exec(c),m&&(m[1]||!d))if(m[1]){if(d=d instanceof g?d[0]:d,g.merge(this,g.parseHTML(m[1],d&&d.nodeType?d.ownerDocument||d:N,!0)),Me.test(m[1])&&g.isPlainObject(d))for(m in d)x(this[m])?this[m](d[m]):this.attr(m,d[m]);return this}else return C=N.getElementById(m[2]),C&&(this[0]=C,this.length=1),this;else return!d||d.jquery?(d||p).find(c):this.constructor(d).find(c);else{if(c.nodeType)return this[0]=c,this.length=1,this;if(x(c))return p.ready!==void 0?p.ready(c):c(g)}return g.makeArray(c,this)};Te.prototype=g.fn,Pt=g(N);var oe=/^(?:parents|prev(?:Until|All))/,re={children:!0,contents:!0,next:!0,prev:!0};g.fn.extend({has:function(c){var d=g(c,this),p=d.length;return this.filter(function(){for(var m=0;m<p;m++)if(g.contains(this,d[m]))return!0})},closest:function(c,d){var p,m=0,C=this.length,A=[],D=typeof c!="string"&&g(c);if(!Pe.test(c)){for(;m<C;m++)for(p=this[m];p&&p!==d;p=p.parentNode)if(p.nodeType<11&&(D?D.index(p)>-1:p.nodeType===1&&g.find.matchesSelector(p,c))){A.push(p);break}}return this.pushStack(A.length>1?g.uniqueSort(A):A)},index:function(c){return c?typeof c=="string"?a.call(g(c),this[0]):a.call(this,c.jquery?c[0]:c):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(c,d){return this.pushStack(g.uniqueSort(g.merge(this.get(),g(c,d))))},addBack:function(c){return this.add(c==null?this.prevObject:this.prevObject.filter(c))}});function he(c,d){for(;(c=c[d])&&c.nodeType!==1;);return c}g.each({parent:function(c){var d=c.parentNode;return d&&d.nodeType!==11?d:null},parents:function(c){return $(c,"parentNode")},parentsUntil:function(c,d,p){return $(c,"parentNode",p)},next:function(c){return he(c,"nextSibling")},prev:function(c){return he(c,"previousSibling")},nextAll:function(c){return $(c,"nextSibling")},prevAll:function(c){return $(c,"previousSibling")},nextUntil:function(c,d,p){return $(c,"nextSibling",p)},prevUntil:function(c,d,p){return $(c,"previousSibling",p)},siblings:function(c){return q((c.parentNode||{}).firstChild,c)},children:function(c){return q(c.firstChild)},contents:function(c){return c.contentDocument!=null&&r(c.contentDocument)?c.contentDocument:(b(c,"template")&&(c=c.content||c),g.merge([],c.childNodes))}},function(c,d){g.fn[c]=function(p,m){var C=g.map(this,d,p);return c.slice(-5)!=="Until"&&(m=p),m&&typeof m=="string"&&(C=g.filter(m,C)),this.length>1&&(re[c]||g.uniqueSort(C),oe.test(c)&&C.reverse()),this.pushStack(C)}});var Be=/[^\x20\t\r\n\f]+/g;function it(c){var d={};return g.each(c.match(Be)||[],function(p,m){d[m]=!0}),d}g.Callbacks=function(c){c=typeof c=="string"?it(c):g.extend({},c);var d,p,m,C,A=[],D=[],_=-1,L=function(){for(C=C||c.once,m=d=!0;D.length;_=-1)for(p=D.shift();++_<A.length;)A[_].apply(p[0],p[1])===!1&&c.stopOnFalse&&(_=A.length,p=!1);c.memory||(p=!1),d=!1,C&&(p?A=[]:A="")},Z={add:function(){return A&&(p&&!d&&(_=A.length-1,D.push(p)),function ne(ue){g.each(ue,function(K,de){x(de)?(!c.unique||!Z.has(de))&&A.push(de):de&&de.length&&H(de)!=="string"&&ne(de)})}(arguments),p&&!d&&L()),this},remove:function(){return g.each(arguments,function(ne,ue){for(var K;(K=g.inArray(ue,A,K))>-1;)A.splice(K,1),K<=_&&_--}),this},has:function(ne){return ne?g.inArray(ne,A)>-1:A.length>0},empty:function(){return A&&(A=[]),this},disable:function(){return C=D=[],A=p="",this},disabled:function(){return!A},lock:function(){return C=D=[],!p&&!d&&(A=p=""),this},locked:function(){return!!C},fireWith:function(ne,ue){return C||(ue=ue||[],ue=[ne,ue.slice?ue.slice():ue],D.push(ue),d||L()),this},fire:function(){return Z.fireWith(this,arguments),this},fired:function(){return!!m}};return Z};function Se(c){return c}function dt(c){throw c}function w(c,d,p,m){var C;try{c&&x(C=c.promise)?C.call(c).done(d).fail(p):c&&x(C=c.then)?C.call(c,d,p):d.apply(void 0,[c].slice(m))}catch(A){p.apply(void 0,[A])}}g.extend({Deferred:function(c){var d=[["notify","progress",g.Callbacks("memory"),g.Callbacks("memory"),2],["resolve","done",g.Callbacks("once memory"),g.Callbacks("once memory"),0,"resolved"],["reject","fail",g.Callbacks("once memory"),g.Callbacks("once memory"),1,"rejected"]],p="pending",m={state:function(){return p},always:function(){return C.done(arguments).fail(arguments),this},catch:function(A){return m.then(null,A)},pipe:function(){var A=arguments;return g.Deferred(function(D){g.each(d,function(_,L){var Z=x(A[L[4]])&&A[L[4]];C[L[1]](function(){var ne=Z&&Z.apply(this,arguments);ne&&x(ne.promise)?ne.promise().progress(D.notify).done(D.resolve).fail(D.reject):D[L[0]+"With"](this,Z?[ne]:arguments)})}),A=null}).promise()},then:function(A,D,_){var L=0;function Z(ne,ue,K,de){return function(){var Fe=this,ht=arguments,Je=function(){var rn,ii;if(!(ne<L)){if(rn=K.apply(Fe,ht),rn===ue.promise())throw new TypeError("Thenable self-resolution");ii=rn&&(typeof rn=="object"||typeof rn=="function")&&rn.then,x(ii)?de?ii.call(rn,Z(L,ue,Se,de),Z(L,ue,dt,de)):(L++,ii.call(rn,Z(L,ue,Se,de),Z(L,ue,dt,de),Z(L,ue,Se,ue.notifyWith))):(K!==Se&&(Fe=void 0,ht=[rn]),(de||ue.resolveWith)(Fe,ht))}},vn=de?Je:function(){try{Je()}catch(rn){g.Deferred.exceptionHook&&g.Deferred.exceptionHook(rn,vn.error),ne+1>=L&&(K!==dt&&(Fe=void 0,ht=[rn]),ue.rejectWith(Fe,ht))}};ne?vn():(g.Deferred.getErrorHook?vn.error=g.Deferred.getErrorHook():g.Deferred.getStackHook&&(vn.error=g.Deferred.getStackHook()),e.setTimeout(vn))}}return g.Deferred(function(ne){d[0][3].add(Z(0,ne,x(_)?_:Se,ne.notifyWith)),d[1][3].add(Z(0,ne,x(A)?A:Se)),d[2][3].add(Z(0,ne,x(D)?D:dt))}).promise()},promise:function(A){return A!=null?g.extend(A,m):m}},C={};return g.each(d,function(A,D){var _=D[2],L=D[5];m[D[1]]=_.add,L&&_.add(function(){p=L},d[3-A][2].disable,d[3-A][3].disable,d[0][2].lock,d[0][3].lock),_.add(D[3].fire),C[D[0]]=function(){return C[D[0]+"With"](this===C?void 0:this,arguments),this},C[D[0]+"With"]=_.fireWith}),m.promise(C),c&&c.call(C,C),C},when:function(c){var d=arguments.length,p=d,m=Array(p),C=i.call(arguments),A=g.Deferred(),D=function(_){return function(L){m[_]=this,C[_]=arguments.length>1?i.call(arguments):L,--d||A.resolveWith(m,C)}};if(d<=1&&(w(c,A.done(D(p)).resolve,A.reject,!d),A.state()==="pending"||x(C[p]&&C[p].then)))return A.then();for(;p--;)w(C[p],D(p),A.reject);return A.promise()}});var T=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;g.Deferred.exceptionHook=function(c,d){e.console&&e.console.warn&&c&&T.test(c.name)&&e.console.warn("jQuery.Deferred exception: "+c.message,c.stack,d)},g.readyException=function(c){e.setTimeout(function(){throw c})};var R=g.Deferred();g.fn.ready=function(c){return R.then(c).catch(function(d){g.readyException(d)}),this},g.extend({isReady:!1,readyWait:1,ready:function(c){(c===!0?--g.readyWait:g.isReady)||(g.isReady=!0,!(c!==!0&&--g.readyWait>0)&&R.resolveWith(N,[g]))}}),g.ready.then=R.then;function F(){N.removeEventListener("DOMContentLoaded",F),e.removeEventListener("load",F),g.ready()}N.readyState==="complete"||N.readyState!=="loading"&&!N.documentElement.doScroll?e.setTimeout(g.ready):(N.addEventListener("DOMContentLoaded",F),e.addEventListener("load",F));var G=function(c,d,p,m,C,A,D){var _=0,L=c.length,Z=p==null;if(H(p)==="object"){C=!0;for(_ in p)G(c,d,_,p[_],!0,A,D)}else if(m!==void 0&&(C=!0,x(m)||(D=!0),Z&&(D?(d.call(c,m),d=null):(Z=d,d=function(ne,ue,K){return Z.call(g(ne),K)})),d))for(;_<L;_++)d(c[_],p,D?m:m.call(c[_],_,d(c[_],p)));return C?c:Z?d.call(c):L?d(c[0],p):A},se=/^-ms-/,ye=/-([a-z])/g;function Oe(c,d){return d.toUpperCase()}function Qe(c){return c.replace(se,"ms-").replace(ye,Oe)}var Zt=function(c){return c.nodeType===1||c.nodeType===9||!+c.nodeType};function Wt(){this.expando=g.expando+Wt.uid++}Wt.uid=1,Wt.prototype={cache:function(c){var d=c[this.expando];return d||(d={},Zt(c)&&(c.nodeType?c[this.expando]=d:Object.defineProperty(c,this.expando,{value:d,configurable:!0}))),d},set:function(c,d,p){var m,C=this.cache(c);if(typeof d=="string")C[Qe(d)]=p;else for(m in d)C[Qe(m)]=d[m];return C},get:function(c,d){return d===void 0?this.cache(c):c[this.expando]&&c[this.expando][Qe(d)]},access:function(c,d,p){return d===void 0||d&&typeof d=="string"&&p===void 0?this.get(c,d):(this.set(c,d,p),p!==void 0?p:d)},remove:function(c,d){var p,m=c[this.expando];if(m!==void 0){if(d!==void 0)for(Array.isArray(d)?d=d.map(Qe):(d=Qe(d),d=d in m?[d]:d.match(Be)||[]),p=d.length;p--;)delete m[d[p]];(d===void 0||g.isEmptyObject(m))&&(c.nodeType?c[this.expando]=void 0:delete c[this.expando])}},hasData:function(c){var d=c[this.expando];return d!==void 0&&!g.isEmptyObject(d)}};var me=new Wt,It=new Wt,Ot=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,zt=/[A-Z]/g;function Gt(c){return c==="true"?!0:c==="false"?!1:c==="null"?null:c===+c+""?+c:Ot.test(c)?JSON.parse(c):c}function Kt(c,d,p){var m;if(p===void 0&&c.nodeType===1)if(m="data-"+d.replace(zt,"-$&").toLowerCase(),p=c.getAttribute(m),typeof p=="string"){try{p=Gt(p)}catch{}It.set(c,d,p)}else p=void 0;return p}g.extend({hasData:function(c){return It.hasData(c)||me.hasData(c)},data:function(c,d,p){return It.access(c,d,p)},removeData:function(c,d){It.remove(c,d)},_data:function(c,d,p){return me.access(c,d,p)},_removeData:function(c,d){me.remove(c,d)}}),g.fn.extend({data:function(c,d){var p,m,C,A=this[0],D=A&&A.attributes;if(c===void 0){if(this.length&&(C=It.get(A),A.nodeType===1&&!me.get(A,"hasDataAttrs"))){for(p=D.length;p--;)D[p]&&(m=D[p].name,m.indexOf("data-")===0&&(m=Qe(m.slice(5)),Kt(A,m,C[m])));me.set(A,"hasDataAttrs",!0)}return C}return typeof c=="object"?this.each(function(){It.set(this,c)}):G(this,function(_){var L;if(A&&_===void 0)return L=It.get(A,c),L!==void 0||(L=Kt(A,c),L!==void 0)?L:void 0;this.each(function(){It.set(this,c,_)})},null,d,arguments.length>1,null,!0)},removeData:function(c){return this.each(function(){It.remove(this,c)})}}),g.extend({queue:function(c,d,p){var m;if(c)return d=(d||"fx")+"queue",m=me.get(c,d),p&&(!m||Array.isArray(p)?m=me.access(c,d,g.makeArray(p)):m.push(p)),m||[]},dequeue:function(c,d){d=d||"fx";var p=g.queue(c,d),m=p.length,C=p.shift(),A=g._queueHooks(c,d),D=function(){g.dequeue(c,d)};C==="inprogress"&&(C=p.shift(),m--),C&&(d==="fx"&&p.unshift("inprogress"),delete A.stop,C.call(c,D,A)),!m&&A&&A.empty.fire()},_queueHooks:function(c,d){var p=d+"queueHooks";return me.get(c,p)||me.access(c,p,{empty:g.Callbacks("once memory").add(function(){me.remove(c,[d+"queue",p])})})}}),g.fn.extend({queue:function(c,d){var p=2;return typeof c!="string"&&(d=c,c="fx",p--),arguments.length<p?g.queue(this[0],c):d===void 0?this:this.each(function(){var m=g.queue(this,c,d);g._queueHooks(this,c),c==="fx"&&m[0]!=="inprogress"&&g.dequeue(this,c)})},dequeue:function(c){return this.each(function(){g.dequeue(this,c)})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,d){var p,m=1,C=g.Deferred(),A=this,D=this.length,_=function(){--m||C.resolveWith(A,[A])};for(typeof c!="string"&&(d=c,c=void 0),c=c||"fx";D--;)p=me.get(A[D],c+"queueHooks"),p&&p.empty&&(m++,p.empty.add(_));return _(),C.promise(d)}});var kn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ur=new RegExp("^(?:([+-])=|)("+kn+")([a-z%]*)$","i"),$n=["Top","Right","Bottom","Left"],Vr=N.documentElement,ri=function(c){return g.contains(c.ownerDocument,c)},su={composed:!0};Vr.getRootNode&&(ri=function(c){return g.contains(c.ownerDocument,c)||c.getRootNode(su)===c.ownerDocument});var Mo=function(c,d){return c=d||c,c.style.display==="none"||c.style.display===""&&ri(c)&&g.css(c,"display")==="none"};function au(c,d,p,m){var C,A,D=20,_=m?function(){return m.cur()}:function(){return g.css(c,d,"")},L=_(),Z=p&&p[3]||(g.cssNumber[d]?"":"px"),ne=c.nodeType&&(g.cssNumber[d]||Z!=="px"&&+L)&&Ur.exec(g.css(c,d));if(ne&&ne[3]!==Z){for(L=L/2,Z=Z||ne[3],ne=+L||1;D--;)g.style(c,d,ne+Z),(1-A)*(1-(A=_()/L||.5))<=0&&(D=0),ne=ne/A;ne=ne*2,g.style(c,d,ne+Z),p=p||[]}return p&&(ne=+ne||+L||0,C=p[1]?ne+(p[1]+1)*p[2]:+p[2],m&&(m.unit=Z,m.start=ne,m.end=C)),C}var uu={};function wl(c){var d,p=c.ownerDocument,m=c.nodeName,C=uu[m];return C||(d=p.body.appendChild(p.createElement(m)),C=g.css(d,"display"),d.parentNode.removeChild(d),C==="none"&&(C="block"),uu[m]=C,C)}function sr(c,d){for(var p,m,C=[],A=0,D=c.length;A<D;A++)m=c[A],m.style&&(p=m.style.display,d?(p==="none"&&(C[A]=me.get(m,"display")||null,C[A]||(m.style.display="")),m.style.display===""&&Mo(m)&&(C[A]=wl(m))):p!=="none"&&(C[A]="none",me.set(m,"display",p)));for(A=0;A<D;A++)C[A]!=null&&(c[A].style.display=C[A]);return c}g.fn.extend({show:function(){return sr(this,!0)},hide:function(){return sr(this)},toggle:function(c){return typeof c=="boolean"?c?this.show():this.hide():this.each(function(){Mo(this)?g(this).show():g(this).hide()})}});var zi=/^(?:checkbox|radio)$/i,cu=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,lu=/^$|^module$|\/(?:java|ecma)script/i;(function(){var c=N.createDocumentFragment(),d=c.appendChild(N.createElement("div")),p=N.createElement("input");p.setAttribute("type","radio"),p.setAttribute("checked","checked"),p.setAttribute("name","t"),d.appendChild(p),I.checkClone=d.cloneNode(!0).cloneNode(!0).lastChild.checked,d.innerHTML="<textarea>x</textarea>",I.noCloneChecked=!!d.cloneNode(!0).lastChild.defaultValue,d.innerHTML="<option></option>",I.option=!!d.lastChild})();var Xn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Xn.tbody=Xn.tfoot=Xn.colgroup=Xn.caption=Xn.thead,Xn.th=Xn.td,I.option||(Xn.optgroup=Xn.option=[1,"<select multiple='multiple'>","</select>"]);function $t(c,d){var p;return typeof c.getElementsByTagName<"u"?p=c.getElementsByTagName(d||"*"):typeof c.querySelectorAll<"u"?p=c.querySelectorAll(d||"*"):p=[],d===void 0||d&&b(c,d)?g.merge([c],p):p}function Tp(c,d){for(var p=0,m=c.length;p<m;p++)me.set(c[p],"globalEval",!d||me.get(d[p],"globalEval"))}var nE=/<|&#?\w+;/;function eC(c,d,p,m,C){for(var A,D,_,L,Z,ne,ue=d.createDocumentFragment(),K=[],de=0,Fe=c.length;de<Fe;de++)if(A=c[de],A||A===0)if(H(A)==="object")g.merge(K,A.nodeType?[A]:A);else if(!nE.test(A))K.push(d.createTextNode(A));else{for(D=D||ue.appendChild(d.createElement("div")),_=(cu.exec(A)||["",""])[1].toLowerCase(),L=Xn[_]||Xn._default,D.innerHTML=L[1]+g.htmlPrefilter(A)+L[2],ne=L[0];ne--;)D=D.lastChild;g.merge(K,D.childNodes),D=ue.firstChild,D.textContent=""}for(ue.textContent="",de=0;A=K[de++];){if(m&&g.inArray(A,m)>-1){C&&C.push(A);continue}if(Z=ri(A),D=$t(ue.appendChild(A),"script"),Z&&Tp(D),p)for(ne=0;A=D[ne++];)lu.test(A.type||"")&&p.push(A)}return ue}var tC=/^([^.]*)(?:\.(.+)|)/;function Ms(){return!0}function Ts(){return!1}function Sp(c,d,p,m,C,A){var D,_;if(typeof d=="object"){typeof p!="string"&&(m=m||p,p=void 0);for(_ in d)Sp(c,_,p,m,d[_],A);return c}if(m==null&&C==null?(C=p,m=p=void 0):C==null&&(typeof p=="string"?(C=m,m=void 0):(C=m,m=p,p=void 0)),C===!1)C=Ts;else if(!C)return c;return A===1&&(D=C,C=function(L){return g().off(L),D.apply(this,arguments)},C.guid=D.guid||(D.guid=g.guid++)),c.each(function(){g.event.add(this,d,C,m,p)})}g.event={global:{},add:function(c,d,p,m,C){var A,D,_,L,Z,ne,ue,K,de,Fe,ht,Je=me.get(c);if(Zt(c))for(p.handler&&(A=p,p=A.handler,C=A.selector),C&&g.find.matchesSelector(Vr,C),p.guid||(p.guid=g.guid++),(L=Je.events)||(L=Je.events=Object.create(null)),(D=Je.handle)||(D=Je.handle=function(vn){return typeof g<"u"&&g.event.triggered!==vn.type?g.event.dispatch.apply(c,arguments):void 0}),d=(d||"").match(Be)||[""],Z=d.length;Z--;)_=tC.exec(d[Z])||[],de=ht=_[1],Fe=(_[2]||"").split(".").sort(),de&&(ue=g.event.special[de]||{},de=(C?ue.delegateType:ue.bindType)||de,ue=g.event.special[de]||{},ne=g.extend({type:de,origType:ht,data:m,handler:p,guid:p.guid,selector:C,needsContext:C&&g.expr.match.needsContext.test(C),namespace:Fe.join(".")},A),(K=L[de])||(K=L[de]=[],K.delegateCount=0,(!ue.setup||ue.setup.call(c,m,Fe,D)===!1)&&c.addEventListener&&c.addEventListener(de,D)),ue.add&&(ue.add.call(c,ne),ne.handler.guid||(ne.handler.guid=p.guid)),C?K.splice(K.delegateCount++,0,ne):K.push(ne),g.event.global[de]=!0)},remove:function(c,d,p,m,C){var A,D,_,L,Z,ne,ue,K,de,Fe,ht,Je=me.hasData(c)&&me.get(c);if(!(!Je||!(L=Je.events))){for(d=(d||"").match(Be)||[""],Z=d.length;Z--;){if(_=tC.exec(d[Z])||[],de=ht=_[1],Fe=(_[2]||"").split(".").sort(),!de){for(de in L)g.event.remove(c,de+d[Z],p,m,!0);continue}for(ue=g.event.special[de]||{},de=(m?ue.delegateType:ue.bindType)||de,K=L[de]||[],_=_[2]&&new RegExp("(^|\\.)"+Fe.join("\\.(?:.*\\.|)")+"(\\.|$)"),D=A=K.length;A--;)ne=K[A],(C||ht===ne.origType)&&(!p||p.guid===ne.guid)&&(!_||_.test(ne.namespace))&&(!m||m===ne.selector||m==="**"&&ne.selector)&&(K.splice(A,1),ne.selector&&K.delegateCount--,ue.remove&&ue.remove.call(c,ne));D&&!K.length&&((!ue.teardown||ue.teardown.call(c,Fe,Je.handle)===!1)&&g.removeEvent(c,de,Je.handle),delete L[de])}g.isEmptyObject(L)&&me.remove(c,"handle events")}},dispatch:function(c){var d,p,m,C,A,D,_=new Array(arguments.length),L=g.event.fix(c),Z=(me.get(this,"events")||Object.create(null))[L.type]||[],ne=g.event.special[L.type]||{};for(_[0]=L,d=1;d<arguments.length;d++)_[d]=arguments[d];if(L.delegateTarget=this,!(ne.preDispatch&&ne.preDispatch.call(this,L)===!1)){for(D=g.event.handlers.call(this,L,Z),d=0;(C=D[d++])&&!L.isPropagationStopped();)for(L.currentTarget=C.elem,p=0;(A=C.handlers[p++])&&!L.isImmediatePropagationStopped();)(!L.rnamespace||A.namespace===!1||L.rnamespace.test(A.namespace))&&(L.handleObj=A,L.data=A.data,m=((g.event.special[A.origType]||{}).handle||A.handler).apply(C.elem,_),m!==void 0&&(L.result=m)===!1&&(L.preventDefault(),L.stopPropagation()));return ne.postDispatch&&ne.postDispatch.call(this,L),L.result}},handlers:function(c,d){var p,m,C,A,D,_=[],L=d.delegateCount,Z=c.target;if(L&&Z.nodeType&&!(c.type==="click"&&c.button>=1)){for(;Z!==this;Z=Z.parentNode||this)if(Z.nodeType===1&&!(c.type==="click"&&Z.disabled===!0)){for(A=[],D={},p=0;p<L;p++)m=d[p],C=m.selector+" ",D[C]===void 0&&(D[C]=m.needsContext?g(C,this).index(Z)>-1:g.find(C,this,null,[Z]).length),D[C]&&A.push(m);A.length&&_.push({elem:Z,handlers:A})}}return Z=this,L<d.length&&_.push({elem:Z,handlers:d.slice(L)}),_},addProp:function(c,d){Object.defineProperty(g.Event.prototype,c,{enumerable:!0,configurable:!0,get:x(d)?function(){if(this.originalEvent)return d(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[c]},set:function(p){Object.defineProperty(this,c,{enumerable:!0,configurable:!0,writable:!0,value:p})}})},fix:function(c){return c[g.expando]?c:new g.Event(c)},special:{load:{noBubble:!0},click:{setup:function(c){var d=this||c;return zi.test(d.type)&&d.click&&b(d,"input")&&Al(d,"click",!0),!1},trigger:function(c){var d=this||c;return zi.test(d.type)&&d.click&&b(d,"input")&&Al(d,"click"),!0},_default:function(c){var d=c.target;return zi.test(d.type)&&d.click&&b(d,"input")&&me.get(d,"click")||b(d,"a")}},beforeunload:{postDispatch:function(c){c.result!==void 0&&c.originalEvent&&(c.originalEvent.returnValue=c.result)}}}};function Al(c,d,p){if(!p){me.get(c,d)===void 0&&g.event.add(c,d,Ms);return}me.set(c,d,!1),g.event.add(c,d,{namespace:!1,handler:function(m){var C,A=me.get(this,d);if(m.isTrigger&1&&this[d]){if(A)(g.event.special[d]||{}).delegateType&&m.stopPropagation();else if(A=i.call(arguments),me.set(this,d,A),this[d](),C=me.get(this,d),me.set(this,d,!1),A!==C)return m.stopImmediatePropagation(),m.preventDefault(),C}else A&&(me.set(this,d,g.event.trigger(A[0],A.slice(1),this)),m.stopPropagation(),m.isImmediatePropagationStopped=Ms)}})}g.removeEvent=function(c,d,p){c.removeEventListener&&c.removeEventListener(d,p)},g.Event=function(c,d){if(!(this instanceof g.Event))return new g.Event(c,d);c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||c.defaultPrevented===void 0&&c.returnValue===!1?Ms:Ts,this.target=c.target&&c.target.nodeType===3?c.target.parentNode:c.target,this.currentTarget=c.currentTarget,this.relatedTarget=c.relatedTarget):this.type=c,d&&g.extend(this,d),this.timeStamp=c&&c.timeStamp||Date.now(),this[g.expando]=!0},g.Event.prototype={constructor:g.Event,isDefaultPrevented:Ts,isPropagationStopped:Ts,isImmediatePropagationStopped:Ts,isSimulated:!1,preventDefault:function(){var c=this.originalEvent;this.isDefaultPrevented=Ms,c&&!this.isSimulated&&c.preventDefault()},stopPropagation:function(){var c=this.originalEvent;this.isPropagationStopped=Ms,c&&!this.isSimulated&&c.stopPropagation()},stopImmediatePropagation:function(){var c=this.originalEvent;this.isImmediatePropagationStopped=Ms,c&&!this.isSimulated&&c.stopImmediatePropagation(),this.stopPropagation()}},g.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},g.event.addProp),g.each({focus:"focusin",blur:"focusout"},function(c,d){function p(m){if(N.documentMode){var C=me.get(this,"handle"),A=g.event.fix(m);A.type=m.type==="focusin"?"focus":"blur",A.isSimulated=!0,C(m),A.target===A.currentTarget&&C(A)}else g.event.simulate(d,m.target,g.event.fix(m))}g.event.special[c]={setup:function(){var m;if(Al(this,c,!0),N.documentMode)m=me.get(this,d),m||this.addEventListener(d,p),me.set(this,d,(m||0)+1);else return!1},trigger:function(){return Al(this,c),!0},teardown:function(){var m;if(N.documentMode)m=me.get(this,d)-1,m?me.set(this,d,m):(this.removeEventListener(d,p),me.remove(this,d));else return!1},_default:function(m){return me.get(m.target,c)},delegateType:d},g.event.special[d]={setup:function(){var m=this.ownerDocument||this.document||this,C=N.documentMode?this:m,A=me.get(C,d);A||(N.documentMode?this.addEventListener(d,p):m.addEventListener(c,p,!0)),me.set(C,d,(A||0)+1)},teardown:function(){var m=this.ownerDocument||this.document||this,C=N.documentMode?this:m,A=me.get(C,d)-1;A?me.set(C,d,A):(N.documentMode?this.removeEventListener(d,p):m.removeEventListener(c,p,!0),me.remove(C,d))}}}),g.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(c,d){g.event.special[c]={delegateType:d,bindType:d,handle:function(p){var m,C=this,A=p.relatedTarget,D=p.handleObj;return(!A||A!==C&&!g.contains(C,A))&&(p.type=D.origType,m=D.handler.apply(this,arguments),p.type=d),m}}}),g.fn.extend({on:function(c,d,p,m){return Sp(this,c,d,p,m)},one:function(c,d,p,m){return Sp(this,c,d,p,m,1)},off:function(c,d,p){var m,C;if(c&&c.preventDefault&&c.handleObj)return m=c.handleObj,g(c.delegateTarget).off(m.namespace?m.origType+"."+m.namespace:m.origType,m.selector,m.handler),this;if(typeof c=="object"){for(C in c)this.off(C,d,c[C]);return this}return(d===!1||typeof d=="function")&&(p=d,d=void 0),p===!1&&(p=Ts),this.each(function(){g.event.remove(this,c,p,d)})}});var rE=/<script|<style|<link/i,iE=/checked\s*(?:[^=]|=\s*.checked.)/i,oE=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function nC(c,d){return b(c,"table")&&b(d.nodeType!==11?d:d.firstChild,"tr")&&g(c).children("tbody")[0]||c}function sE(c){return c.type=(c.getAttribute("type")!==null)+"/"+c.type,c}function aE(c){return(c.type||"").slice(0,5)==="true/"?c.type=c.type.slice(5):c.removeAttribute("type"),c}function rC(c,d){var p,m,C,A,D,_,L;if(d.nodeType===1){if(me.hasData(c)&&(A=me.get(c),L=A.events,L)){me.remove(d,"handle events");for(C in L)for(p=0,m=L[C].length;p<m;p++)g.event.add(d,C,L[C][p])}It.hasData(c)&&(D=It.access(c),_=g.extend({},D),It.set(d,_))}}function uE(c,d){var p=d.nodeName.toLowerCase();p==="input"&&zi.test(c.type)?d.checked=c.checked:(p==="input"||p==="textarea")&&(d.defaultValue=c.defaultValue)}function Ss(c,d,p,m){d=o(d);var C,A,D,_,L,Z,ne=0,ue=c.length,K=ue-1,de=d[0],Fe=x(de);if(Fe||ue>1&&typeof de=="string"&&!I.checkClone&&iE.test(de))return c.each(function(ht){var Je=c.eq(ht);Fe&&(d[0]=de.call(this,ht,Je.html())),Ss(Je,d,p,m)});if(ue&&(C=eC(d,c[0].ownerDocument,!1,c,m),A=C.firstChild,C.childNodes.length===1&&(C=A),A||m)){for(D=g.map($t(C,"script"),sE),_=D.length;ne<ue;ne++)L=C,ne!==K&&(L=g.clone(L,!0,!0),_&&g.merge(D,$t(L,"script"))),p.call(c[ne],L,ne);if(_)for(Z=D[D.length-1].ownerDocument,g.map(D,aE),ne=0;ne<_;ne++)L=D[ne],lu.test(L.type||"")&&!me.access(L,"globalEval")&&g.contains(Z,L)&&(L.src&&(L.type||"").toLowerCase()!=="module"?g._evalUrl&&!L.noModule&&g._evalUrl(L.src,{nonce:L.nonce||L.getAttribute("nonce")},Z):U(L.textContent.replace(oE,""),L,Z))}return c}function iC(c,d,p){for(var m,C=d?g.filter(d,c):c,A=0;(m=C[A])!=null;A++)!p&&m.nodeType===1&&g.cleanData($t(m)),m.parentNode&&(p&&ri(m)&&Tp($t(m,"script")),m.parentNode.removeChild(m));return c}g.extend({htmlPrefilter:function(c){return c},clone:function(c,d,p){var m,C,A,D,_=c.cloneNode(!0),L=ri(c);if(!I.noCloneChecked&&(c.nodeType===1||c.nodeType===11)&&!g.isXMLDoc(c))for(D=$t(_),A=$t(c),m=0,C=A.length;m<C;m++)uE(A[m],D[m]);if(d)if(p)for(A=A||$t(c),D=D||$t(_),m=0,C=A.length;m<C;m++)rC(A[m],D[m]);else rC(c,_);return D=$t(_,"script"),D.length>0&&Tp(D,!L&&$t(c,"script")),_},cleanData:function(c){for(var d,p,m,C=g.event.special,A=0;(p=c[A])!==void 0;A++)if(Zt(p)){if(d=p[me.expando]){if(d.events)for(m in d.events)C[m]?g.event.remove(p,m):g.removeEvent(p,m,d.handle);p[me.expando]=void 0}p[It.expando]&&(p[It.expando]=void 0)}}}),g.fn.extend({detach:function(c){return iC(this,c,!0)},remove:function(c){return iC(this,c)},text:function(c){return G(this,function(d){return d===void 0?g.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=d)})},null,c,arguments.length)},append:function(){return Ss(this,arguments,function(c){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var d=nC(this,c);d.appendChild(c)}})},prepend:function(){return Ss(this,arguments,function(c){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var d=nC(this,c);d.insertBefore(c,d.firstChild)}})},before:function(){return Ss(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this)})},after:function(){return Ss(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this.nextSibling)})},empty:function(){for(var c,d=0;(c=this[d])!=null;d++)c.nodeType===1&&(g.cleanData($t(c,!1)),c.textContent="");return this},clone:function(c,d){return c=c??!1,d=d??c,this.map(function(){return g.clone(this,c,d)})},html:function(c){return G(this,function(d){var p=this[0]||{},m=0,C=this.length;if(d===void 0&&p.nodeType===1)return p.innerHTML;if(typeof d=="string"&&!rE.test(d)&&!Xn[(cu.exec(d)||["",""])[1].toLowerCase()]){d=g.htmlPrefilter(d);try{for(;m<C;m++)p=this[m]||{},p.nodeType===1&&(g.cleanData($t(p,!1)),p.innerHTML=d);p=0}catch{}}p&&this.empty().append(d)},null,c,arguments.length)},replaceWith:function(){var c=[];return Ss(this,arguments,function(d){var p=this.parentNode;g.inArray(this,c)<0&&(g.cleanData($t(this)),p&&p.replaceChild(d,this))},c)}}),g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,d){g.fn[c]=function(p){for(var m,C=[],A=g(p),D=A.length-1,_=0;_<=D;_++)m=_===D?this:this.clone(!0),g(A[_])[d](m),s.apply(C,m.get());return this.pushStack(C)}});var Np=new RegExp("^("+kn+")(?!px)[a-z%]+$","i"),Ep=/^--/,bl=function(c){var d=c.ownerDocument.defaultView;return(!d||!d.opener)&&(d=e),d.getComputedStyle(c)},oC=function(c,d,p){var m,C,A={};for(C in d)A[C]=c.style[C],c.style[C]=d[C];m=p.call(c);for(C in d)c.style[C]=A[C];return m},cE=new RegExp($n.join("|"),"i");(function(){function c(){if(Z){L.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Z.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Vr.appendChild(L).appendChild(Z);var ne=e.getComputedStyle(Z);p=ne.top!=="1%",_=d(ne.marginLeft)===12,Z.style.right="60%",A=d(ne.right)===36,m=d(ne.width)===36,Z.style.position="absolute",C=d(Z.offsetWidth/3)===12,Vr.removeChild(L),Z=null}}function d(ne){return Math.round(parseFloat(ne))}var p,m,C,A,D,_,L=N.createElement("div"),Z=N.createElement("div");Z.style&&(Z.style.backgroundClip="content-box",Z.cloneNode(!0).style.backgroundClip="",I.clearCloneStyle=Z.style.backgroundClip==="content-box",g.extend(I,{boxSizingReliable:function(){return c(),m},pixelBoxStyles:function(){return c(),A},pixelPosition:function(){return c(),p},reliableMarginLeft:function(){return c(),_},scrollboxSize:function(){return c(),C},reliableTrDimensions:function(){var ne,ue,K,de;return D==null&&(ne=N.createElement("table"),ue=N.createElement("tr"),K=N.createElement("div"),ne.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ue.style.cssText="box-sizing:content-box;border:1px solid",ue.style.height="1px",K.style.height="9px",K.style.display="block",Vr.appendChild(ne).appendChild(ue).appendChild(K),de=e.getComputedStyle(ue),D=parseInt(de.height,10)+parseInt(de.borderTopWidth,10)+parseInt(de.borderBottomWidth,10)===ue.offsetHeight,Vr.removeChild(ne)),D}}))})();function fu(c,d,p){var m,C,A,D,_=Ep.test(d),L=c.style;return p=p||bl(c),p&&(D=p.getPropertyValue(d)||p[d],_&&D&&(D=D.replace(W,"$1")||void 0),D===""&&!ri(c)&&(D=g.style(c,d)),!I.pixelBoxStyles()&&Np.test(D)&&cE.test(d)&&(m=L.width,C=L.minWidth,A=L.maxWidth,L.minWidth=L.maxWidth=L.width=D,D=p.width,L.width=m,L.minWidth=C,L.maxWidth=A)),D!==void 0?D+"":D}function sC(c,d){return{get:function(){if(c()){delete this.get;return}return(this.get=d).apply(this,arguments)}}}var aC=["Webkit","Moz","ms"],uC=N.createElement("div").style,cC={};function lE(c){for(var d=c[0].toUpperCase()+c.slice(1),p=aC.length;p--;)if(c=aC[p]+d,c in uC)return c}function Pp(c){var d=g.cssProps[c]||cC[c];return d||(c in uC?c:cC[c]=lE(c)||c)}var fE=/^(none|table(?!-c[ea]).+)/,dE={position:"absolute",visibility:"hidden",display:"block"},lC={letterSpacing:"0",fontWeight:"400"};function fC(c,d,p){var m=Ur.exec(d);return m?Math.max(0,m[2]-(p||0))+(m[3]||"px"):d}function Op(c,d,p,m,C,A){var D=d==="width"?1:0,_=0,L=0,Z=0;if(p===(m?"border":"content"))return 0;for(;D<4;D+=2)p==="margin"&&(Z+=g.css(c,p+$n[D],!0,C)),m?(p==="content"&&(L-=g.css(c,"padding"+$n[D],!0,C)),p!=="margin"&&(L-=g.css(c,"border"+$n[D]+"Width",!0,C))):(L+=g.css(c,"padding"+$n[D],!0,C),p!=="padding"?L+=g.css(c,"border"+$n[D]+"Width",!0,C):_+=g.css(c,"border"+$n[D]+"Width",!0,C));return!m&&A>=0&&(L+=Math.max(0,Math.ceil(c["offset"+d[0].toUpperCase()+d.slice(1)]-A-L-_-.5))||0),L+Z}function dC(c,d,p){var m=bl(c),C=!I.boxSizingReliable()||p,A=C&&g.css(c,"boxSizing",!1,m)==="border-box",D=A,_=fu(c,d,m),L="offset"+d[0].toUpperCase()+d.slice(1);if(Np.test(_)){if(!p)return _;_="auto"}return(!I.boxSizingReliable()&&A||!I.reliableTrDimensions()&&b(c,"tr")||_==="auto"||!parseFloat(_)&&g.css(c,"display",!1,m)==="inline")&&c.getClientRects().length&&(A=g.css(c,"boxSizing",!1,m)==="border-box",D=L in c,D&&(_=c[L])),_=parseFloat(_)||0,_+Op(c,d,p||(A?"border":"content"),D,m,_)+"px"}g.extend({cssHooks:{opacity:{get:function(c,d){if(d){var p=fu(c,"opacity");return p===""?"1":p}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(c,d,p,m){if(!(!c||c.nodeType===3||c.nodeType===8||!c.style)){var C,A,D,_=Qe(d),L=Ep.test(d),Z=c.style;if(L||(d=Pp(_)),D=g.cssHooks[d]||g.cssHooks[_],p!==void 0){if(A=typeof p,A==="string"&&(C=Ur.exec(p))&&C[1]&&(p=au(c,d,C),A="number"),p==null||p!==p)return;A==="number"&&!L&&(p+=C&&C[3]||(g.cssNumber[_]?"":"px")),!I.clearCloneStyle&&p===""&&d.indexOf("background")===0&&(Z[d]="inherit"),(!D||!("set"in D)||(p=D.set(c,p,m))!==void 0)&&(L?Z.setProperty(d,p):Z[d]=p)}else return D&&"get"in D&&(C=D.get(c,!1,m))!==void 0?C:Z[d]}},css:function(c,d,p,m){var C,A,D,_=Qe(d),L=Ep.test(d);return L||(d=Pp(_)),D=g.cssHooks[d]||g.cssHooks[_],D&&"get"in D&&(C=D.get(c,!0,p)),C===void 0&&(C=fu(c,d,m)),C==="normal"&&d in lC&&(C=lC[d]),p===""||p?(A=parseFloat(C),p===!0||isFinite(A)?A||0:C):C}}),g.each(["height","width"],function(c,d){g.cssHooks[d]={get:function(p,m,C){if(m)return fE.test(g.css(p,"display"))&&(!p.getClientRects().length||!p.getBoundingClientRect().width)?oC(p,dE,function(){return dC(p,d,C)}):dC(p,d,C)},set:function(p,m,C){var A,D=bl(p),_=!I.scrollboxSize()&&D.position==="absolute",L=_||C,Z=L&&g.css(p,"boxSizing",!1,D)==="border-box",ne=C?Op(p,d,C,Z,D):0;return Z&&_&&(ne-=Math.ceil(p["offset"+d[0].toUpperCase()+d.slice(1)]-parseFloat(D[d])-Op(p,d,"border",!1,D)-.5)),ne&&(A=Ur.exec(m))&&(A[3]||"px")!=="px"&&(p.style[d]=m,m=g.css(p,d)),fC(p,m,ne)}}}),g.cssHooks.marginLeft=sC(I.reliableMarginLeft,function(c,d){if(d)return(parseFloat(fu(c,"marginLeft"))||c.getBoundingClientRect().left-oC(c,{marginLeft:0},function(){return c.getBoundingClientRect().left}))+"px"}),g.each({margin:"",padding:"",border:"Width"},function(c,d){g.cssHooks[c+d]={expand:function(p){for(var m=0,C={},A=typeof p=="string"?p.split(" "):[p];m<4;m++)C[c+$n[m]+d]=A[m]||A[m-2]||A[0];return C}},c!=="margin"&&(g.cssHooks[c+d].set=fC)}),g.fn.extend({css:function(c,d){return G(this,function(p,m,C){var A,D,_={},L=0;if(Array.isArray(m)){for(A=bl(p),D=m.length;L<D;L++)_[m[L]]=g.css(p,m[L],!1,A);return _}return C!==void 0?g.style(p,m,C):g.css(p,m)},c,d,arguments.length>1)}});function Jn(c,d,p,m,C){return new Jn.prototype.init(c,d,p,m,C)}g.Tween=Jn,Jn.prototype={constructor:Jn,init:function(c,d,p,m,C,A){this.elem=c,this.prop=p,this.easing=C||g.easing._default,this.options=d,this.start=this.now=this.cur(),this.end=m,this.unit=A||(g.cssNumber[p]?"":"px")},cur:function(){var c=Jn.propHooks[this.prop];return c&&c.get?c.get(this):Jn.propHooks._default.get(this)},run:function(c){var d,p=Jn.propHooks[this.prop];return this.options.duration?this.pos=d=g.easing[this.easing](c,this.options.duration*c,0,1,this.options.duration):this.pos=d=c,this.now=(this.end-this.start)*d+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),p&&p.set?p.set(this):Jn.propHooks._default.set(this),this}},Jn.prototype.init.prototype=Jn.prototype,Jn.propHooks={_default:{get:function(c){var d;return c.elem.nodeType!==1||c.elem[c.prop]!=null&&c.elem.style[c.prop]==null?c.elem[c.prop]:(d=g.css(c.elem,c.prop,""),!d||d==="auto"?0:d)},set:function(c){g.fx.step[c.prop]?g.fx.step[c.prop](c):c.elem.nodeType===1&&(g.cssHooks[c.prop]||c.elem.style[Pp(c.prop)]!=null)?g.style(c.elem,c.prop,c.now+c.unit):c.elem[c.prop]=c.now}}},Jn.propHooks.scrollTop=Jn.propHooks.scrollLeft={set:function(c){c.elem.nodeType&&c.elem.parentNode&&(c.elem[c.prop]=c.now)}},g.easing={linear:function(c){return c},swing:function(c){return .5-Math.cos(c*Math.PI)/2},_default:"swing"},g.fx=Jn.prototype.init,g.fx.step={};var Ns,xl,hE=/^(?:toggle|show|hide)$/,pE=/queueHooks$/;function Rp(){xl&&(N.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(Rp):e.setTimeout(Rp,g.fx.interval),g.fx.tick())}function hC(){return e.setTimeout(function(){Ns=void 0}),Ns=Date.now()}function Dl(c,d){var p,m=0,C={height:c};for(d=d?1:0;m<4;m+=2-d)p=$n[m],C["margin"+p]=C["padding"+p]=c;return d&&(C.opacity=C.width=c),C}function pC(c,d,p){for(var m,C=(Zr.tweeners[d]||[]).concat(Zr.tweeners["*"]),A=0,D=C.length;A<D;A++)if(m=C[A].call(p,d,c))return m}function gE(c,d,p){var m,C,A,D,_,L,Z,ne,ue="width"in d||"height"in d,K=this,de={},Fe=c.style,ht=c.nodeType&&Mo(c),Je=me.get(c,"fxshow");p.queue||(D=g._queueHooks(c,"fx"),D.unqueued==null&&(D.unqueued=0,_=D.empty.fire,D.empty.fire=function(){D.unqueued||_()}),D.unqueued++,K.always(function(){K.always(function(){D.unqueued--,g.queue(c,"fx").length||D.empty.fire()})}));for(m in d)if(C=d[m],hE.test(C)){if(delete d[m],A=A||C==="toggle",C===(ht?"hide":"show"))if(C==="show"&&Je&&Je[m]!==void 0)ht=!0;else continue;de[m]=Je&&Je[m]||g.style(c,m)}if(L=!g.isEmptyObject(d),!(!L&&g.isEmptyObject(de))){ue&&c.nodeType===1&&(p.overflow=[Fe.overflow,Fe.overflowX,Fe.overflowY],Z=Je&&Je.display,Z==null&&(Z=me.get(c,"display")),ne=g.css(c,"display"),ne==="none"&&(Z?ne=Z:(sr([c],!0),Z=c.style.display||Z,ne=g.css(c,"display"),sr([c]))),(ne==="inline"||ne==="inline-block"&&Z!=null)&&g.css(c,"float")==="none"&&(L||(K.done(function(){Fe.display=Z}),Z==null&&(ne=Fe.display,Z=ne==="none"?"":ne)),Fe.display="inline-block")),p.overflow&&(Fe.overflow="hidden",K.always(function(){Fe.overflow=p.overflow[0],Fe.overflowX=p.overflow[1],Fe.overflowY=p.overflow[2]})),L=!1;for(m in de)L||(Je?"hidden"in Je&&(ht=Je.hidden):Je=me.access(c,"fxshow",{display:Z}),A&&(Je.hidden=!ht),ht&&sr([c],!0),K.done(function(){ht||sr([c]),me.remove(c,"fxshow");for(m in de)g.style(c,m,de[m])})),L=pC(ht?Je[m]:0,m,K),m in Je||(Je[m]=L.start,ht&&(L.end=L.start,L.start=0))}}function mE(c,d){var p,m,C,A,D;for(p in c)if(m=Qe(p),C=d[m],A=c[p],Array.isArray(A)&&(C=A[1],A=c[p]=A[0]),p!==m&&(c[m]=A,delete c[p]),D=g.cssHooks[m],D&&"expand"in D){A=D.expand(A),delete c[m];for(p in A)p in c||(c[p]=A[p],d[p]=C)}else d[m]=C}function Zr(c,d,p){var m,C,A=0,D=Zr.prefilters.length,_=g.Deferred().always(function(){delete L.elem}),L=function(){if(C)return!1;for(var ue=Ns||hC(),K=Math.max(0,Z.startTime+Z.duration-ue),de=K/Z.duration||0,Fe=1-de,ht=0,Je=Z.tweens.length;ht<Je;ht++)Z.tweens[ht].run(Fe);return _.notifyWith(c,[Z,Fe,K]),Fe<1&&Je?K:(Je||_.notifyWith(c,[Z,1,0]),_.resolveWith(c,[Z]),!1)},Z=_.promise({elem:c,props:g.extend({},d),opts:g.extend(!0,{specialEasing:{},easing:g.easing._default},p),originalProperties:d,originalOptions:p,startTime:Ns||hC(),duration:p.duration,tweens:[],createTween:function(ue,K){var de=g.Tween(c,Z.opts,ue,K,Z.opts.specialEasing[ue]||Z.opts.easing);return Z.tweens.push(de),de},stop:function(ue){var K=0,de=ue?Z.tweens.length:0;if(C)return this;for(C=!0;K<de;K++)Z.tweens[K].run(1);return ue?(_.notifyWith(c,[Z,1,0]),_.resolveWith(c,[Z,ue])):_.rejectWith(c,[Z,ue]),this}}),ne=Z.props;for(mE(ne,Z.opts.specialEasing);A<D;A++)if(m=Zr.prefilters[A].call(Z,c,ne,Z.opts),m)return x(m.stop)&&(g._queueHooks(Z.elem,Z.opts.queue).stop=m.stop.bind(m)),m;return g.map(ne,pC,Z),x(Z.opts.start)&&Z.opts.start.call(c,Z),Z.progress(Z.opts.progress).done(Z.opts.done,Z.opts.complete).fail(Z.opts.fail).always(Z.opts.always),g.fx.timer(g.extend(L,{elem:c,anim:Z,queue:Z.opts.queue})),Z}g.Animation=g.extend(Zr,{tweeners:{"*":[function(c,d){var p=this.createTween(c,d);return au(p.elem,c,Ur.exec(d),p),p}]},tweener:function(c,d){x(c)?(d=c,c=["*"]):c=c.match(Be);for(var p,m=0,C=c.length;m<C;m++)p=c[m],Zr.tweeners[p]=Zr.tweeners[p]||[],Zr.tweeners[p].unshift(d)},prefilters:[gE],prefilter:function(c,d){d?Zr.prefilters.unshift(c):Zr.prefilters.push(c)}}),g.speed=function(c,d,p){var m=c&&typeof c=="object"?g.extend({},c):{complete:p||!p&&d||x(c)&&c,duration:c,easing:p&&d||d&&!x(d)&&d};return g.fx.off?m.duration=0:typeof m.duration!="number"&&(m.duration in g.fx.speeds?m.duration=g.fx.speeds[m.duration]:m.duration=g.fx.speeds._default),(m.queue==null||m.queue===!0)&&(m.queue="fx"),m.old=m.complete,m.complete=function(){x(m.old)&&m.old.call(this),m.queue&&g.dequeue(this,m.queue)},m},g.fn.extend({fadeTo:function(c,d,p,m){return this.filter(Mo).css("opacity",0).show().end().animate({opacity:d},c,p,m)},animate:function(c,d,p,m){var C=g.isEmptyObject(c),A=g.speed(d,p,m),D=function(){var _=Zr(this,g.extend({},c),A);(C||me.get(this,"finish"))&&_.stop(!0)};return D.finish=D,C||A.queue===!1?this.each(D):this.queue(A.queue,D)},stop:function(c,d,p){var m=function(C){var A=C.stop;delete C.stop,A(p)};return typeof c!="string"&&(p=d,d=c,c=void 0),d&&this.queue(c||"fx",[]),this.each(function(){var C=!0,A=c!=null&&c+"queueHooks",D=g.timers,_=me.get(this);if(A)_[A]&&_[A].stop&&m(_[A]);else for(A in _)_[A]&&_[A].stop&&pE.test(A)&&m(_[A]);for(A=D.length;A--;)D[A].elem===this&&(c==null||D[A].queue===c)&&(D[A].anim.stop(p),C=!1,D.splice(A,1));(C||!p)&&g.dequeue(this,c)})},finish:function(c){return c!==!1&&(c=c||"fx"),this.each(function(){var d,p=me.get(this),m=p[c+"queue"],C=p[c+"queueHooks"],A=g.timers,D=m?m.length:0;for(p.finish=!0,g.queue(this,c,[]),C&&C.stop&&C.stop.call(this,!0),d=A.length;d--;)A[d].elem===this&&A[d].queue===c&&(A[d].anim.stop(!0),A.splice(d,1));for(d=0;d<D;d++)m[d]&&m[d].finish&&m[d].finish.call(this);delete p.finish})}}),g.each(["toggle","show","hide"],function(c,d){var p=g.fn[d];g.fn[d]=function(m,C,A){return m==null||typeof m=="boolean"?p.apply(this,arguments):this.animate(Dl(d,!0),m,C,A)}}),g.each({slideDown:Dl("show"),slideUp:Dl("hide"),slideToggle:Dl("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(c,d){g.fn[c]=function(p,m,C){return this.animate(d,p,m,C)}}),g.timers=[],g.fx.tick=function(){var c,d=0,p=g.timers;for(Ns=Date.now();d<p.length;d++)c=p[d],!c()&&p[d]===c&&p.splice(d--,1);p.length||g.fx.stop(),Ns=void 0},g.fx.timer=function(c){g.timers.push(c),g.fx.start()},g.fx.interval=13,g.fx.start=function(){xl||(xl=!0,Rp())},g.fx.stop=function(){xl=null},g.fx.speeds={slow:600,fast:200,_default:400},g.fn.delay=function(c,d){return c=g.fx&&g.fx.speeds[c]||c,d=d||"fx",this.queue(d,function(p,m){var C=e.setTimeout(p,c);m.stop=function(){e.clearTimeout(C)}})},function(){var c=N.createElement("input"),d=N.createElement("select"),p=d.appendChild(N.createElement("option"));c.type="checkbox",I.checkOn=c.value!=="",I.optSelected=p.selected,c=N.createElement("input"),c.value="t",c.type="radio",I.radioValue=c.value==="t"}();var gC,du=g.expr.attrHandle;g.fn.extend({attr:function(c,d){return G(this,g.attr,c,d,arguments.length>1)},removeAttr:function(c){return this.each(function(){g.removeAttr(this,c)})}}),g.extend({attr:function(c,d,p){var m,C,A=c.nodeType;if(!(A===3||A===8||A===2)){if(typeof c.getAttribute>"u")return g.prop(c,d,p);if((A!==1||!g.isXMLDoc(c))&&(C=g.attrHooks[d.toLowerCase()]||(g.expr.match.bool.test(d)?gC:void 0)),p!==void 0){if(p===null){g.removeAttr(c,d);return}return C&&"set"in C&&(m=C.set(c,p,d))!==void 0?m:(c.setAttribute(d,p+""),p)}return C&&"get"in C&&(m=C.get(c,d))!==null?m:(m=g.find.attr(c,d),m??void 0)}},attrHooks:{type:{set:function(c,d){if(!I.radioValue&&d==="radio"&&b(c,"input")){var p=c.value;return c.setAttribute("type",d),p&&(c.value=p),d}}}},removeAttr:function(c,d){var p,m=0,C=d&&d.match(Be);if(C&&c.nodeType===1)for(;p=C[m++];)c.removeAttribute(p)}}),gC={set:function(c,d,p){return d===!1?g.removeAttr(c,p):c.setAttribute(p,p),p}},g.each(g.expr.match.bool.source.match(/\w+/g),function(c,d){var p=du[d]||g.find.attr;du[d]=function(m,C,A){var D,_,L=C.toLowerCase();return A||(_=du[L],du[L]=D,D=p(m,C,A)!=null?L:null,du[L]=_),D}});var vE=/^(?:input|select|textarea|button)$/i,yE=/^(?:a|area)$/i;g.fn.extend({prop:function(c,d){return G(this,g.prop,c,d,arguments.length>1)},removeProp:function(c){return this.each(function(){delete this[g.propFix[c]||c]})}}),g.extend({prop:function(c,d,p){var m,C,A=c.nodeType;if(!(A===3||A===8||A===2))return(A!==1||!g.isXMLDoc(c))&&(d=g.propFix[d]||d,C=g.propHooks[d]),p!==void 0?C&&"set"in C&&(m=C.set(c,p,d))!==void 0?m:c[d]=p:C&&"get"in C&&(m=C.get(c,d))!==null?m:c[d]},propHooks:{tabIndex:{get:function(c){var d=g.find.attr(c,"tabindex");return d?parseInt(d,10):vE.test(c.nodeName)||yE.test(c.nodeName)&&c.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),I.optSelected||(g.propHooks.selected={get:function(c){var d=c.parentNode;return d&&d.parentNode&&d.parentNode.selectedIndex,null},set:function(c){var d=c.parentNode;d&&(d.selectedIndex,d.parentNode&&d.parentNode.selectedIndex)}}),g.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){g.propFix[this.toLowerCase()]=this});function To(c){var d=c.match(Be)||[];return d.join(" ")}function So(c){return c.getAttribute&&c.getAttribute("class")||""}function Lp(c){return Array.isArray(c)?c:typeof c=="string"?c.match(Be)||[]:[]}g.fn.extend({addClass:function(c){var d,p,m,C,A,D;return x(c)?this.each(function(_){g(this).addClass(c.call(this,_,So(this)))}):(d=Lp(c),d.length?this.each(function(){if(m=So(this),p=this.nodeType===1&&" "+To(m)+" ",p){for(A=0;A<d.length;A++)C=d[A],p.indexOf(" "+C+" ")<0&&(p+=C+" ");D=To(p),m!==D&&this.setAttribute("class",D)}}):this)},removeClass:function(c){var d,p,m,C,A,D;return x(c)?this.each(function(_){g(this).removeClass(c.call(this,_,So(this)))}):arguments.length?(d=Lp(c),d.length?this.each(function(){if(m=So(this),p=this.nodeType===1&&" "+To(m)+" ",p){for(A=0;A<d.length;A++)for(C=d[A];p.indexOf(" "+C+" ")>-1;)p=p.replace(" "+C+" "," ");D=To(p),m!==D&&this.setAttribute("class",D)}}):this):this.attr("class","")},toggleClass:function(c,d){var p,m,C,A,D=typeof c,_=D==="string"||Array.isArray(c);return x(c)?this.each(function(L){g(this).toggleClass(c.call(this,L,So(this),d),d)}):typeof d=="boolean"&&_?d?this.addClass(c):this.removeClass(c):(p=Lp(c),this.each(function(){if(_)for(A=g(this),C=0;C<p.length;C++)m=p[C],A.hasClass(m)?A.removeClass(m):A.addClass(m);else(c===void 0||D==="boolean")&&(m=So(this),m&&me.set(this,"__className__",m),this.setAttribute&&this.setAttribute("class",m||c===!1?"":me.get(this,"__className__")||""))}))},hasClass:function(c){var d,p,m=0;for(d=" "+c+" ";p=this[m++];)if(p.nodeType===1&&(" "+To(So(p))+" ").indexOf(d)>-1)return!0;return!1}});var IE=/\r/g;g.fn.extend({val:function(c){var d,p,m,C=this[0];return arguments.length?(m=x(c),this.each(function(A){var D;this.nodeType===1&&(m?D=c.call(this,A,g(this).val()):D=c,D==null?D="":typeof D=="number"?D+="":Array.isArray(D)&&(D=g.map(D,function(_){return _==null?"":_+""})),d=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()],(!d||!("set"in d)||d.set(this,D,"value")===void 0)&&(this.value=D))})):C?(d=g.valHooks[C.type]||g.valHooks[C.nodeName.toLowerCase()],d&&"get"in d&&(p=d.get(C,"value"))!==void 0?p:(p=C.value,typeof p=="string"?p.replace(IE,""):p??"")):void 0}}),g.extend({valHooks:{option:{get:function(c){var d=g.find.attr(c,"value");return d??To(g.text(c))}},select:{get:function(c){var d,p,m,C=c.options,A=c.selectedIndex,D=c.type==="select-one",_=D?null:[],L=D?A+1:C.length;for(A<0?m=L:m=D?A:0;m<L;m++)if(p=C[m],(p.selected||m===A)&&!p.disabled&&(!p.parentNode.disabled||!b(p.parentNode,"optgroup"))){if(d=g(p).val(),D)return d;_.push(d)}return _},set:function(c,d){for(var p,m,C=c.options,A=g.makeArray(d),D=C.length;D--;)m=C[D],(m.selected=g.inArray(g.valHooks.option.get(m),A)>-1)&&(p=!0);return p||(c.selectedIndex=-1),A}}}}),g.each(["radio","checkbox"],function(){g.valHooks[this]={set:function(c,d){if(Array.isArray(d))return c.checked=g.inArray(g(c).val(),d)>-1}},I.checkOn||(g.valHooks[this].get=function(c){return c.getAttribute("value")===null?"on":c.value})});var hu=e.location,mC={guid:Date.now()},kp=/\?/;g.parseXML=function(c){var d,p;if(!c||typeof c!="string")return null;try{d=new e.DOMParser().parseFromString(c,"text/xml")}catch{}return p=d&&d.getElementsByTagName("parsererror")[0],(!d||p)&&g.error("Invalid XML: "+(p?g.map(p.childNodes,function(m){return m.textContent}).join(`
`):c)),d};var vC=/^(?:focusinfocus|focusoutblur)$/,yC=function(c){c.stopPropagation()};g.extend(g.event,{trigger:function(c,d,p,m){var C,A,D,_,L,Z,ne,ue,K=[p||N],de=h.call(c,"type")?c.type:c,Fe=h.call(c,"namespace")?c.namespace.split("."):[];if(A=ue=D=p=p||N,!(p.nodeType===3||p.nodeType===8)&&!vC.test(de+g.event.triggered)&&(de.indexOf(".")>-1&&(Fe=de.split("."),de=Fe.shift(),Fe.sort()),L=de.indexOf(":")<0&&"on"+de,c=c[g.expando]?c:new g.Event(de,typeof c=="object"&&c),c.isTrigger=m?2:3,c.namespace=Fe.join("."),c.rnamespace=c.namespace?new RegExp("(^|\\.)"+Fe.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=void 0,c.target||(c.target=p),d=d==null?[c]:g.makeArray(d,[c]),ne=g.event.special[de]||{},!(!m&&ne.trigger&&ne.trigger.apply(p,d)===!1))){if(!m&&!ne.noBubble&&!S(p)){for(_=ne.delegateType||de,vC.test(_+de)||(A=A.parentNode);A;A=A.parentNode)K.push(A),D=A;D===(p.ownerDocument||N)&&K.push(D.defaultView||D.parentWindow||e)}for(C=0;(A=K[C++])&&!c.isPropagationStopped();)ue=A,c.type=C>1?_:ne.bindType||de,Z=(me.get(A,"events")||Object.create(null))[c.type]&&me.get(A,"handle"),Z&&Z.apply(A,d),Z=L&&A[L],Z&&Z.apply&&Zt(A)&&(c.result=Z.apply(A,d),c.result===!1&&c.preventDefault());return c.type=de,!m&&!c.isDefaultPrevented()&&(!ne._default||ne._default.apply(K.pop(),d)===!1)&&Zt(p)&&L&&x(p[de])&&!S(p)&&(D=p[L],D&&(p[L]=null),g.event.triggered=de,c.isPropagationStopped()&&ue.addEventListener(de,yC),p[de](),c.isPropagationStopped()&&ue.removeEventListener(de,yC),g.event.triggered=void 0,D&&(p[L]=D)),c.result}},simulate:function(c,d,p){var m=g.extend(new g.Event,p,{type:c,isSimulated:!0});g.event.trigger(m,null,d)}}),g.fn.extend({trigger:function(c,d){return this.each(function(){g.event.trigger(c,d,this)})},triggerHandler:function(c,d){var p=this[0];if(p)return g.event.trigger(c,d,p,!0)}});var CE=/\[\]$/,IC=/\r?\n/g,wE=/^(?:submit|button|image|reset|file)$/i,AE=/^(?:input|select|textarea|keygen)/i;function _p(c,d,p,m){var C;if(Array.isArray(d))g.each(d,function(A,D){p||CE.test(c)?m(c,D):_p(c+"["+(typeof D=="object"&&D!=null?A:"")+"]",D,p,m)});else if(!p&&H(d)==="object")for(C in d)_p(c+"["+C+"]",d[C],p,m);else m(c,d)}g.param=function(c,d){var p,m=[],C=function(A,D){var _=x(D)?D():D;m[m.length]=encodeURIComponent(A)+"="+encodeURIComponent(_??"")};if(c==null)return"";if(Array.isArray(c)||c.jquery&&!g.isPlainObject(c))g.each(c,function(){C(this.name,this.value)});else for(p in c)_p(p,c[p],d,C);return m.join("&")},g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var c=g.prop(this,"elements");return c?g.makeArray(c):this}).filter(function(){var c=this.type;return this.name&&!g(this).is(":disabled")&&AE.test(this.nodeName)&&!wE.test(c)&&(this.checked||!zi.test(c))}).map(function(c,d){var p=g(this).val();return p==null?null:Array.isArray(p)?g.map(p,function(m){return{name:d.name,value:m.replace(IC,`\r
`)}}):{name:d.name,value:p.replace(IC,`\r
`)}}).get()}});var bE=/%20/g,xE=/#.*$/,DE=/([?&])_=[^&]*/,ME=/^(.*?):[ \t]*([^\r\n]*)$/mg,TE=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,SE=/^(?:GET|HEAD)$/,NE=/^\/\//,CC={},Fp={},wC="*/".concat("*"),jp=N.createElement("a");jp.href=hu.href;function AC(c){return function(d,p){typeof d!="string"&&(p=d,d="*");var m,C=0,A=d.toLowerCase().match(Be)||[];if(x(p))for(;m=A[C++];)m[0]==="+"?(m=m.slice(1)||"*",(c[m]=c[m]||[]).unshift(p)):(c[m]=c[m]||[]).push(p)}}function bC(c,d,p,m){var C={},A=c===Fp;function D(_){var L;return C[_]=!0,g.each(c[_]||[],function(Z,ne){var ue=ne(d,p,m);if(typeof ue=="string"&&!A&&!C[ue])return d.dataTypes.unshift(ue),D(ue),!1;if(A)return!(L=ue)}),L}return D(d.dataTypes[0])||!C["*"]&&D("*")}function Bp(c,d){var p,m,C=g.ajaxSettings.flatOptions||{};for(p in d)d[p]!==void 0&&((C[p]?c:m||(m={}))[p]=d[p]);return m&&g.extend(!0,c,m),c}function EE(c,d,p){for(var m,C,A,D,_=c.contents,L=c.dataTypes;L[0]==="*";)L.shift(),m===void 0&&(m=c.mimeType||d.getResponseHeader("Content-Type"));if(m){for(C in _)if(_[C]&&_[C].test(m)){L.unshift(C);break}}if(L[0]in p)A=L[0];else{for(C in p){if(!L[0]||c.converters[C+" "+L[0]]){A=C;break}D||(D=C)}A=A||D}if(A)return A!==L[0]&&L.unshift(A),p[A]}function PE(c,d,p,m){var C,A,D,_,L,Z={},ne=c.dataTypes.slice();if(ne[1])for(D in c.converters)Z[D.toLowerCase()]=c.converters[D];for(A=ne.shift();A;)if(c.responseFields[A]&&(p[c.responseFields[A]]=d),!L&&m&&c.dataFilter&&(d=c.dataFilter(d,c.dataType)),L=A,A=ne.shift(),A){if(A==="*")A=L;else if(L!=="*"&&L!==A){if(D=Z[L+" "+A]||Z["* "+A],!D){for(C in Z)if(_=C.split(" "),_[1]===A&&(D=Z[L+" "+_[0]]||Z["* "+_[0]],D)){D===!0?D=Z[C]:Z[C]!==!0&&(A=_[0],ne.unshift(_[1]));break}}if(D!==!0)if(D&&c.throws)d=D(d);else try{d=D(d)}catch(ue){return{state:"parsererror",error:D?ue:"No conversion from "+L+" to "+A}}}}return{state:"success",data:d}}g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:hu.href,type:"GET",isLocal:TE.test(hu.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":wC,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(c,d){return d?Bp(Bp(c,g.ajaxSettings),d):Bp(g.ajaxSettings,c)},ajaxPrefilter:AC(CC),ajaxTransport:AC(Fp),ajax:function(c,d){typeof c=="object"&&(d=c,c=void 0),d=d||{};var p,m,C,A,D,_,L,Z,ne,ue,K=g.ajaxSetup({},d),de=K.context||K,Fe=K.context&&(de.nodeType||de.jquery)?g(de):g.event,ht=g.Deferred(),Je=g.Callbacks("once memory"),vn=K.statusCode||{},rn={},ii={},oi="canceled",ot={readyState:0,getResponseHeader:function(vt){var Jt;if(L){if(!A)for(A={};Jt=ME.exec(C);)A[Jt[1].toLowerCase()+" "]=(A[Jt[1].toLowerCase()+" "]||[]).concat(Jt[2]);Jt=A[vt.toLowerCase()+" "]}return Jt==null?null:Jt.join(", ")},getAllResponseHeaders:function(){return L?C:null},setRequestHeader:function(vt,Jt){return L==null&&(vt=ii[vt.toLowerCase()]=ii[vt.toLowerCase()]||vt,rn[vt]=Jt),this},overrideMimeType:function(vt){return L==null&&(K.mimeType=vt),this},statusCode:function(vt){var Jt;if(vt)if(L)ot.always(vt[ot.status]);else for(Jt in vt)vn[Jt]=[vn[Jt],vt[Jt]];return this},abort:function(vt){var Jt=vt||oi;return p&&p.abort(Jt),No(0,Jt),this}};if(ht.promise(ot),K.url=((c||K.url||hu.href)+"").replace(NE,hu.protocol+"//"),K.type=d.method||d.type||K.method||K.type,K.dataTypes=(K.dataType||"*").toLowerCase().match(Be)||[""],K.crossDomain==null){_=N.createElement("a");try{_.href=K.url,_.href=_.href,K.crossDomain=jp.protocol+"//"+jp.host!=_.protocol+"//"+_.host}catch{K.crossDomain=!0}}if(K.data&&K.processData&&typeof K.data!="string"&&(K.data=g.param(K.data,K.traditional)),bC(CC,K,d,ot),L)return ot;Z=g.event&&K.global,Z&&g.active++===0&&g.event.trigger("ajaxStart"),K.type=K.type.toUpperCase(),K.hasContent=!SE.test(K.type),m=K.url.replace(xE,""),K.hasContent?K.data&&K.processData&&(K.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(K.data=K.data.replace(bE,"+")):(ue=K.url.slice(m.length),K.data&&(K.processData||typeof K.data=="string")&&(m+=(kp.test(m)?"&":"?")+K.data,delete K.data),K.cache===!1&&(m=m.replace(DE,"$1"),ue=(kp.test(m)?"&":"?")+"_="+mC.guid+++ue),K.url=m+ue),K.ifModified&&(g.lastModified[m]&&ot.setRequestHeader("If-Modified-Since",g.lastModified[m]),g.etag[m]&&ot.setRequestHeader("If-None-Match",g.etag[m])),(K.data&&K.hasContent&&K.contentType!==!1||d.contentType)&&ot.setRequestHeader("Content-Type",K.contentType),ot.setRequestHeader("Accept",K.dataTypes[0]&&K.accepts[K.dataTypes[0]]?K.accepts[K.dataTypes[0]]+(K.dataTypes[0]!=="*"?", "+wC+"; q=0.01":""):K.accepts["*"]);for(ne in K.headers)ot.setRequestHeader(ne,K.headers[ne]);if(K.beforeSend&&(K.beforeSend.call(de,ot,K)===!1||L))return ot.abort();if(oi="abort",Je.add(K.complete),ot.done(K.success),ot.fail(K.error),p=bC(Fp,K,d,ot),!p)No(-1,"No Transport");else{if(ot.readyState=1,Z&&Fe.trigger("ajaxSend",[ot,K]),L)return ot;K.async&&K.timeout>0&&(D=e.setTimeout(function(){ot.abort("timeout")},K.timeout));try{L=!1,p.send(rn,No)}catch(vt){if(L)throw vt;No(-1,vt)}}function No(vt,Jt,gu,Gp){var si,mu,ai,Gi,Ui,br=Jt;L||(L=!0,D&&e.clearTimeout(D),p=void 0,C=Gp||"",ot.readyState=vt>0?4:0,si=vt>=200&&vt<300||vt===304,gu&&(Gi=EE(K,ot,gu)),!si&&g.inArray("script",K.dataTypes)>-1&&g.inArray("json",K.dataTypes)<0&&(K.converters["text script"]=function(){}),Gi=PE(K,Gi,ot,si),si?(K.ifModified&&(Ui=ot.getResponseHeader("Last-Modified"),Ui&&(g.lastModified[m]=Ui),Ui=ot.getResponseHeader("etag"),Ui&&(g.etag[m]=Ui)),vt===204||K.type==="HEAD"?br="nocontent":vt===304?br="notmodified":(br=Gi.state,mu=Gi.data,ai=Gi.error,si=!ai)):(ai=br,(vt||!br)&&(br="error",vt<0&&(vt=0))),ot.status=vt,ot.statusText=(Jt||br)+"",si?ht.resolveWith(de,[mu,br,ot]):ht.rejectWith(de,[ot,br,ai]),ot.statusCode(vn),vn=void 0,Z&&Fe.trigger(si?"ajaxSuccess":"ajaxError",[ot,K,si?mu:ai]),Je.fireWith(de,[ot,br]),Z&&(Fe.trigger("ajaxComplete",[ot,K]),--g.active||g.event.trigger("ajaxStop")))}return ot},getJSON:function(c,d,p){return g.get(c,d,p,"json")},getScript:function(c,d){return g.get(c,void 0,d,"script")}}),g.each(["get","post"],function(c,d){g[d]=function(p,m,C,A){return x(m)&&(A=A||C,C=m,m=void 0),g.ajax(g.extend({url:p,type:d,dataType:A,data:m,success:C},g.isPlainObject(p)&&p))}}),g.ajaxPrefilter(function(c){var d;for(d in c.headers)d.toLowerCase()==="content-type"&&(c.contentType=c.headers[d]||"")}),g._evalUrl=function(c,d,p){return g.ajax({url:c,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(m){g.globalEval(m,d,p)}})},g.fn.extend({wrapAll:function(c){var d;return this[0]&&(x(c)&&(c=c.call(this[0])),d=g(c,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&d.insertBefore(this[0]),d.map(function(){for(var p=this;p.firstElementChild;)p=p.firstElementChild;return p}).append(this)),this},wrapInner:function(c){return x(c)?this.each(function(d){g(this).wrapInner(c.call(this,d))}):this.each(function(){var d=g(this),p=d.contents();p.length?p.wrapAll(c):d.append(c)})},wrap:function(c){var d=x(c);return this.each(function(p){g(this).wrapAll(d?c.call(this,p):c)})},unwrap:function(c){return this.parent(c).not("body").each(function(){g(this).replaceWith(this.childNodes)}),this}}),g.expr.pseudos.hidden=function(c){return!g.expr.pseudos.visible(c)},g.expr.pseudos.visible=function(c){return!!(c.offsetWidth||c.offsetHeight||c.getClientRects().length)},g.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var OE={0:200,1223:204},pu=g.ajaxSettings.xhr();I.cors=!!pu&&"withCredentials"in pu,I.ajax=pu=!!pu,g.ajaxTransport(function(c){var d,p;if(I.cors||pu&&!c.crossDomain)return{send:function(m,C){var A,D=c.xhr();if(D.open(c.type,c.url,c.async,c.username,c.password),c.xhrFields)for(A in c.xhrFields)D[A]=c.xhrFields[A];c.mimeType&&D.overrideMimeType&&D.overrideMimeType(c.mimeType),!c.crossDomain&&!m["X-Requested-With"]&&(m["X-Requested-With"]="XMLHttpRequest");for(A in m)D.setRequestHeader(A,m[A]);d=function(_){return function(){d&&(d=p=D.onload=D.onerror=D.onabort=D.ontimeout=D.onreadystatechange=null,_==="abort"?D.abort():_==="error"?typeof D.status!="number"?C(0,"error"):C(D.status,D.statusText):C(OE[D.status]||D.status,D.statusText,(D.responseType||"text")!=="text"||typeof D.responseText!="string"?{binary:D.response}:{text:D.responseText},D.getAllResponseHeaders()))}},D.onload=d(),p=D.onerror=D.ontimeout=d("error"),D.onabort!==void 0?D.onabort=p:D.onreadystatechange=function(){D.readyState===4&&e.setTimeout(function(){d&&p()})},d=d("abort");try{D.send(c.hasContent&&c.data||null)}catch(_){if(d)throw _}},abort:function(){d&&d()}}}),g.ajaxPrefilter(function(c){c.crossDomain&&(c.contents.script=!1)}),g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(c){return g.globalEval(c),c}}}),g.ajaxPrefilter("script",function(c){c.cache===void 0&&(c.cache=!1),c.crossDomain&&(c.type="GET")}),g.ajaxTransport("script",function(c){if(c.crossDomain||c.scriptAttrs){var d,p;return{send:function(m,C){d=g("<script>").attr(c.scriptAttrs||{}).prop({charset:c.scriptCharset,src:c.url}).on("load error",p=function(A){d.remove(),p=null,A&&C(A.type==="error"?404:200,A.type)}),N.head.appendChild(d[0])},abort:function(){p&&p()}}}});var xC=[],zp=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var c=xC.pop()||g.expando+"_"+mC.guid++;return this[c]=!0,c}}),g.ajaxPrefilter("json jsonp",function(c,d,p){var m,C,A,D=c.jsonp!==!1&&(zp.test(c.url)?"url":typeof c.data=="string"&&(c.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&zp.test(c.data)&&"data");if(D||c.dataTypes[0]==="jsonp")return m=c.jsonpCallback=x(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,D?c[D]=c[D].replace(zp,"$1"+m):c.jsonp!==!1&&(c.url+=(kp.test(c.url)?"&":"?")+c.jsonp+"="+m),c.converters["script json"]=function(){return A||g.error(m+" was not called"),A[0]},c.dataTypes[0]="json",C=e[m],e[m]=function(){A=arguments},p.always(function(){C===void 0?g(e).removeProp(m):e[m]=C,c[m]&&(c.jsonpCallback=d.jsonpCallback,xC.push(m)),A&&x(C)&&C(A[0]),A=C=void 0}),"script"}),I.createHTMLDocument=function(){var c=N.implementation.createHTMLDocument("").body;return c.innerHTML="<form></form><form></form>",c.childNodes.length===2}(),g.parseHTML=function(c,d,p){if(typeof c!="string")return[];typeof d=="boolean"&&(p=d,d=!1);var m,C,A;return d||(I.createHTMLDocument?(d=N.implementation.createHTMLDocument(""),m=d.createElement("base"),m.href=N.location.href,d.head.appendChild(m)):d=N),C=Me.exec(c),A=!p&&[],C?[d.createElement(C[1])]:(C=eC([c],d,A),A&&A.length&&g(A).remove(),g.merge([],C.childNodes))},g.fn.load=function(c,d,p){var m,C,A,D=this,_=c.indexOf(" ");return _>-1&&(m=To(c.slice(_)),c=c.slice(0,_)),x(d)?(p=d,d=void 0):d&&typeof d=="object"&&(C="POST"),D.length>0&&g.ajax({url:c,type:C||"GET",dataType:"html",data:d}).done(function(L){A=arguments,D.html(m?g("<div>").append(g.parseHTML(L)).find(m):L)}).always(p&&function(L,Z){D.each(function(){p.apply(this,A||[L.responseText,Z,L])})}),this},g.expr.pseudos.animated=function(c){return g.grep(g.timers,function(d){return c===d.elem}).length},g.offset={setOffset:function(c,d,p){var m,C,A,D,_,L,Z,ne=g.css(c,"position"),ue=g(c),K={};ne==="static"&&(c.style.position="relative"),_=ue.offset(),A=g.css(c,"top"),L=g.css(c,"left"),Z=(ne==="absolute"||ne==="fixed")&&(A+L).indexOf("auto")>-1,Z?(m=ue.position(),D=m.top,C=m.left):(D=parseFloat(A)||0,C=parseFloat(L)||0),x(d)&&(d=d.call(c,p,g.extend({},_))),d.top!=null&&(K.top=d.top-_.top+D),d.left!=null&&(K.left=d.left-_.left+C),"using"in d?d.using.call(c,K):ue.css(K)}},g.fn.extend({offset:function(c){if(arguments.length)return c===void 0?this:this.each(function(C){g.offset.setOffset(this,c,C)});var d,p,m=this[0];if(m)return m.getClientRects().length?(d=m.getBoundingClientRect(),p=m.ownerDocument.defaultView,{top:d.top+p.pageYOffset,left:d.left+p.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var c,d,p,m=this[0],C={top:0,left:0};if(g.css(m,"position")==="fixed")d=m.getBoundingClientRect();else{for(d=this.offset(),p=m.ownerDocument,c=m.offsetParent||p.documentElement;c&&(c===p.body||c===p.documentElement)&&g.css(c,"position")==="static";)c=c.parentNode;c&&c!==m&&c.nodeType===1&&(C=g(c).offset(),C.top+=g.css(c,"borderTopWidth",!0),C.left+=g.css(c,"borderLeftWidth",!0))}return{top:d.top-C.top-g.css(m,"marginTop",!0),left:d.left-C.left-g.css(m,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent;c&&g.css(c,"position")==="static";)c=c.offsetParent;return c||Vr})}}),g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(c,d){var p=d==="pageYOffset";g.fn[c]=function(m){return G(this,function(C,A,D){var _;if(S(C)?_=C:C.nodeType===9&&(_=C.defaultView),D===void 0)return _?_[d]:C[A];_?_.scrollTo(p?_.pageXOffset:D,p?D:_.pageYOffset):C[A]=D},c,m,arguments.length)}}),g.each(["top","left"],function(c,d){g.cssHooks[d]=sC(I.pixelPosition,function(p,m){if(m)return m=fu(p,d),Np.test(m)?g(p).position()[d]+"px":m})}),g.each({Height:"height",Width:"width"},function(c,d){g.each({padding:"inner"+c,content:d,"":"outer"+c},function(p,m){g.fn[m]=function(C,A){var D=arguments.length&&(p||typeof C!="boolean"),_=p||(C===!0||A===!0?"margin":"border");return G(this,function(L,Z,ne){var ue;return S(L)?m.indexOf("outer")===0?L["inner"+c]:L.document.documentElement["client"+c]:L.nodeType===9?(ue=L.documentElement,Math.max(L.body["scroll"+c],ue["scroll"+c],L.body["offset"+c],ue["offset"+c],ue["client"+c])):ne===void 0?g.css(L,Z,_):g.style(L,Z,ne,_)},d,D?C:void 0,D)}})}),g.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(c,d){g.fn[d]=function(p){return this.on(d,p)}}),g.fn.extend({bind:function(c,d,p){return this.on(c,null,d,p)},unbind:function(c,d){return this.off(c,null,d)},delegate:function(c,d,p,m){return this.on(d,c,p,m)},undelegate:function(c,d,p){return arguments.length===1?this.off(c,"**"):this.off(d,c||"**",p)},hover:function(c,d){return this.on("mouseenter",c).on("mouseleave",d||c)}}),g.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(c,d){g.fn[d]=function(p,m){return arguments.length>0?this.on(d,null,p,m):this.trigger(d)}});var RE=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;g.proxy=function(c,d){var p,m,C;if(typeof d=="string"&&(p=c[d],d=c,c=p),!!x(c))return m=i.call(arguments,2),C=function(){return c.apply(d||this,m.concat(i.call(arguments)))},C.guid=c.guid=c.guid||g.guid++,C},g.holdReady=function(c){c?g.readyWait++:g.ready(!0)},g.isArray=Array.isArray,g.parseJSON=JSON.parse,g.nodeName=b,g.isFunction=x,g.isWindow=S,g.camelCase=Qe,g.type=H,g.now=Date.now,g.isNumeric=function(c){var d=g.type(c);return(d==="number"||d==="string")&&!isNaN(c-parseFloat(c))},g.trim=function(c){return c==null?"":(c+"").replace(RE,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return g});var LE=e.jQuery,kE=e.$;return g.noConflict=function(c){return e.$===g&&(e.$=kE),c&&e.jQuery===g&&(e.jQuery=LE),g},typeof t>"u"&&(e.jQuery=e.$=g),g})});var Wc=PC(jI=>{"use strict";(function(e){var t=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global;if(typeof define=="function"&&define.amd)define(["underscore","jquery","exports"],function(i,o,s){t.Backbone=e(t,s,i,o)});else if(typeof jI<"u"){var n=(UT(),XE(GT)),r;try{r=vo()}catch{}e(t,jI,n,r)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)})(function(e,t,n,r){var i=e.Backbone,o=Array.prototype.slice;t.VERSION="1.4.1",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s=t.Events={},a=/\s+/,u,l=function(w,T,R,F,G){var se=0,ye;if(R&&typeof R=="object")for(F!==void 0&&("context"in G)&&G.context===void 0&&(G.context=F),ye=n.keys(R);se<ye.length;se++)T=l(w,T,ye[se],R[ye[se]],G);else if(R&&a.test(R))for(ye=R.split(a);se<ye.length;se++)T=w(T,ye[se],F,G);else T=w(T,R,F,G);return T};s.on=function(w,T,R){if(this._events=l(h,this._events||{},w,T,{context:R,ctx:this,listening:u}),u){var F=this._listeners||(this._listeners={});F[u.id]=u,u.interop=!1}return this},s.listenTo=function(w,T,R){if(!w)return this;var F=w._listenId||(w._listenId=n.uniqueId("l")),G=this._listeningTo||(this._listeningTo={}),se=u=G[F];se||(this._listenId||(this._listenId=n.uniqueId("l")),se=u=G[F]=new N(this,w));var ye=f(w,T,R,this);if(u=void 0,ye)throw ye;return se.interop&&se.on(T,R),this};var h=function(w,T,R,F){if(R){var G=w[T]||(w[T]=[]),se=F.context,ye=F.ctx,Oe=F.listening;Oe&&Oe.count++,G.push({callback:R,context:se,ctx:se||ye,listening:Oe})}return w},f=function(w,T,R,F){try{w.on(T,R,F)}catch(G){return G}};s.off=function(w,T,R){return this._events?(this._events=l(y,this._events,w,T,{context:R,listeners:this._listeners}),this):this},s.stopListening=function(w,T,R){var F=this._listeningTo;if(!F)return this;for(var G=w?[w._listenId]:n.keys(F),se=0;se<G.length;se++){var ye=F[G[se]];if(!ye)break;ye.obj.off(T,R,this),ye.interop&&ye.off(T,R)}return n.isEmpty(F)&&(this._listeningTo=void 0),this};var y=function(w,T,R,F){if(w){var G=F.context,se=F.listeners,ye=0,Oe;if(!T&&!G&&!R){for(Oe=n.keys(se);ye<Oe.length;ye++)se[Oe[ye]].cleanup();return}for(Oe=T?[T]:n.keys(w);ye<Oe.length;ye++){T=Oe[ye];var Qe=w[T];if(!Qe)break;for(var Zt=[],Wt=0;Wt<Qe.length;Wt++){var me=Qe[Wt];if(R&&R!==me.callback&&R!==me.callback._callback||G&&G!==me.context)Zt.push(me);else{var It=me.listening;It&&It.off(T,R)}}Zt.length?w[T]=Zt:delete w[T]}return w}};s.once=function(w,T,R){var F=l(I,{},w,T,this.off.bind(this));return typeof w=="string"&&R==null&&(T=void 0),this.on(F,T,R)},s.listenToOnce=function(w,T,R){var F=l(I,{},T,R,this.stopListening.bind(this,w));return this.listenTo(w,F)};var I=function(w,T,R,F){if(R){var G=w[T]=n.once(function(){F(T,G),R.apply(this,arguments)});G._callback=R}return w};s.trigger=function(w){if(!this._events)return this;for(var T=Math.max(0,arguments.length-1),R=Array(T),F=0;F<T;F++)R[F]=arguments[F+1];return l(x,this._events,w,void 0,R),this};var x=function(w,T,R,F){if(w){var G=w[T],se=w.all;G&&se&&(se=se.slice()),G&&S(G,F),se&&S(se,[T].concat(F))}return w},S=function(w,T){var R,F=-1,G=w.length,se=T[0],ye=T[1],Oe=T[2];switch(T.length){case 0:for(;++F<G;)(R=w[F]).callback.call(R.ctx);return;case 1:for(;++F<G;)(R=w[F]).callback.call(R.ctx,se);return;case 2:for(;++F<G;)(R=w[F]).callback.call(R.ctx,se,ye);return;case 3:for(;++F<G;)(R=w[F]).callback.call(R.ctx,se,ye,Oe);return;default:for(;++F<G;)(R=w[F]).callback.apply(R.ctx,T);return}},N=function(w,T){this.id=w._listenId,this.listener=w,this.obj=T,this.interop=!0,this.count=0,this._events=void 0};N.prototype.on=s.on,N.prototype.off=function(w,T){var R;this.interop?(this._events=l(y,this._events,w,T,{context:void 0,listeners:void 0}),R=!this._events):(this.count--,R=this.count===0),R&&this.cleanup()},N.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},s.bind=s.on,s.unbind=s.off,n.extend(t,s);var P=t.Model=function(w,T){var R=w||{};T||(T={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},T.collection&&(this.collection=T.collection),T.parse&&(R=this.parse(R,T)||{});var F=n.result(this,"defaults");R=n.defaults(n.extend({},F,R),F),this.set(R,T),this.changed={},this.initialize.apply(this,arguments)};n.extend(P.prototype,s,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(w){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(w){return this.attributes[w]},escape:function(w){return n.escape(this.get(w))},has:function(w){return this.get(w)!=null},matches:function(w){return!!n.iteratee(w,this)(this.attributes)},set:function(w,T,R){if(w==null)return this;var F;if(typeof w=="object"?(F=w,R=T):(F={})[w]=T,R||(R={}),!this._validate(F,R))return!1;var G=R.unset,se=R.silent,ye=[],Oe=this._changing;this._changing=!0,Oe||(this._previousAttributes=n.clone(this.attributes),this.changed={});var Qe=this.attributes,Zt=this.changed,Wt=this._previousAttributes;for(var me in F)T=F[me],n.isEqual(Qe[me],T)||ye.push(me),n.isEqual(Wt[me],T)?delete Zt[me]:Zt[me]=T,G?delete Qe[me]:Qe[me]=T;if(this.idAttribute in F){var It=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,It,R)}if(!se){ye.length&&(this._pending=R);for(var Ot=0;Ot<ye.length;Ot++)this.trigger("change:"+ye[Ot],this,Qe[ye[Ot]],R)}if(Oe)return this;if(!se)for(;this._pending;)R=this._pending,this._pending=!1,this.trigger("change",this,R);return this._pending=!1,this._changing=!1,this},unset:function(w,T){return this.set(w,void 0,n.extend({},T,{unset:!0}))},clear:function(w){var T={};for(var R in this.attributes)T[R]=void 0;return this.set(T,n.extend({},w,{unset:!0}))},hasChanged:function(w){return w==null?!n.isEmpty(this.changed):n.has(this.changed,w)},changedAttributes:function(w){if(!w)return this.hasChanged()?n.clone(this.changed):!1;var T=this._changing?this._previousAttributes:this.attributes,R={},F;for(var G in w){var se=w[G];n.isEqual(T[G],se)||(R[G]=se,F=!0)}return F?R:!1},previous:function(w){return w==null||!this._previousAttributes?null:this._previousAttributes[w]},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(w){w=n.extend({parse:!0},w);var T=this,R=w.success;return w.success=function(F){var G=w.parse?T.parse(F,w):F;if(!T.set(G,w))return!1;R&&R.call(w.context,T,F,w),T.trigger("sync",T,F,w)},dt(this,w),this.sync("read",this,w)},save:function(w,T,R){var F;w==null||typeof w=="object"?(F=w,R=T):(F={})[w]=T,R=n.extend({validate:!0,parse:!0},R);var G=R.wait;if(F&&!G){if(!this.set(F,R))return!1}else if(!this._validate(F,R))return!1;var se=this,ye=R.success,Oe=this.attributes;R.success=function(Wt){se.attributes=Oe;var me=R.parse?se.parse(Wt,R):Wt;if(G&&(me=n.extend({},F,me)),me&&!se.set(me,R))return!1;ye&&ye.call(R.context,se,Wt,R),se.trigger("sync",se,Wt,R)},dt(this,R),F&&G&&(this.attributes=n.extend({},Oe,F));var Qe=this.isNew()?"create":R.patch?"patch":"update";Qe==="patch"&&!R.attrs&&(R.attrs=F);var Zt=this.sync(Qe,this,R);return this.attributes=Oe,Zt},destroy:function(w){w=w?n.clone(w):{};var T=this,R=w.success,F=w.wait,G=function(){T.stopListening(),T.trigger("destroy",T,T.collection,w)};w.success=function(ye){F&&G(),R&&R.call(w.context,T,ye,w),T.isNew()||T.trigger("sync",T,ye,w)};var se=!1;return this.isNew()?n.defer(w.success):(dt(this,w),se=this.sync("delete",this,w)),F||G(),se},url:function(){var w=n.result(this,"urlRoot")||n.result(this.collection,"url")||Se();if(this.isNew())return w;var T=this.get(this.idAttribute);return w.replace(/[^\/]$/,"$&/")+encodeURIComponent(T)},parse:function(w,T){return w},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(w){return this._validate({},n.extend({},w,{validate:!0}))},_validate:function(w,T){if(!T.validate||!this.validate)return!0;w=n.extend({},this.attributes,w);var R=this.validationError=this.validate(w,T)||null;return R?(this.trigger("invalid",this,R,n.extend(T,{validationError:R})),!1):!0}});var U=t.Collection=function(w,T){T||(T={}),this.preinitialize.apply(this,arguments),T.model&&(this.model=T.model),T.comparator!==void 0&&(this.comparator=T.comparator),this._reset(),this.initialize.apply(this,arguments),w&&this.reset(w,n.extend({silent:!0},T))},H={add:!0,remove:!0,merge:!0},J={add:!0,remove:!1},ie=function(w,T,R){R=Math.min(Math.max(R,0),w.length);var F=Array(w.length-R),G=T.length,se;for(se=0;se<F.length;se++)F[se]=w[se+R];for(se=0;se<G;se++)w[se+R]=T[se];for(se=0;se<F.length;se++)w[se+G+R]=F[se]};n.extend(U.prototype,s,{model:P,preinitialize:function(){},initialize:function(){},toJSON:function(w){return this.map(function(T){return T.toJSON(w)})},sync:function(){return t.sync.apply(this,arguments)},add:function(w,T){return this.set(w,n.extend({merge:!1},T,J))},remove:function(w,T){T=n.extend({},T);var R=!n.isArray(w);w=R?[w]:w.slice();var F=this._removeModels(w,T);return!T.silent&&F.length&&(T.changes={added:[],merged:[],removed:F},this.trigger("update",this,T)),R?F[0]:F},set:function(w,T){if(w!=null){T=n.extend({},H,T),T.parse&&!this._isModel(w)&&(w=this.parse(w,T)||[]);var R=!n.isArray(w);w=R?[w]:w.slice();var F=T.at;F!=null&&(F=+F),F>this.length&&(F=this.length),F<0&&(F+=this.length+1);var G=[],se=[],ye=[],Oe=[],Qe={},Zt=T.add,Wt=T.merge,me=T.remove,It=!1,Ot=this.comparator&&F==null&&T.sort!==!1,zt=n.isString(this.comparator)?this.comparator:null,Gt,Kt;for(Kt=0;Kt<w.length;Kt++){Gt=w[Kt];var kn=this.get(Gt);if(kn){if(Wt&&Gt!==kn){var Ur=this._isModel(Gt)?Gt.attributes:Gt;T.parse&&(Ur=kn.parse(Ur,T)),kn.set(Ur,T),ye.push(kn),Ot&&!It&&(It=kn.hasChanged(zt))}Qe[kn.cid]||(Qe[kn.cid]=!0,G.push(kn)),w[Kt]=kn}else Zt&&(Gt=w[Kt]=this._prepareModel(Gt,T),Gt&&(se.push(Gt),this._addReference(Gt,T),Qe[Gt.cid]=!0,G.push(Gt)))}if(me){for(Kt=0;Kt<this.length;Kt++)Gt=this.models[Kt],Qe[Gt.cid]||Oe.push(Gt);Oe.length&&this._removeModels(Oe,T)}var $n=!1,Vr=!Ot&&Zt&&me;if(G.length&&Vr?($n=this.length!==G.length||n.some(this.models,function(ri,su){return ri!==G[su]}),this.models.length=0,ie(this.models,G,0),this.length=this.models.length):se.length&&(Ot&&(It=!0),ie(this.models,se,F??this.length),this.length=this.models.length),It&&this.sort({silent:!0}),!T.silent){for(Kt=0;Kt<se.length;Kt++)F!=null&&(T.index=F+Kt),Gt=se[Kt],Gt.trigger("add",Gt,this,T);(It||$n)&&this.trigger("sort",this,T),(se.length||Oe.length||ye.length)&&(T.changes={added:se,removed:Oe,merged:ye},this.trigger("update",this,T))}return R?w[0]:w}},reset:function(w,T){T=T?n.clone(T):{};for(var R=0;R<this.models.length;R++)this._removeReference(this.models[R],T);return T.previousModels=this.models,this._reset(),w=this.add(w,n.extend({silent:!0},T)),T.silent||this.trigger("reset",this,T),w},push:function(w,T){return this.add(w,n.extend({at:this.length},T))},pop:function(w){var T=this.at(this.length-1);return this.remove(T,w)},unshift:function(w,T){return this.add(w,n.extend({at:0},T))},shift:function(w){var T=this.at(0);return this.remove(T,w)},slice:function(){return o.apply(this.models,arguments)},get:function(w){if(w!=null)return this._byId[w]||this._byId[this.modelId(this._isModel(w)?w.attributes:w,w.idAttribute)]||w.cid&&this._byId[w.cid]},has:function(w){return this.get(w)!=null},at:function(w){return w<0&&(w+=this.length),this.models[w]},where:function(w,T){return this[T?"find":"filter"](w)},findWhere:function(w){return this.where(w,!0)},sort:function(w){var T=this.comparator;if(!T)throw new Error("Cannot sort a set without a comparator");w||(w={});var R=T.length;return n.isFunction(T)&&(T=T.bind(this)),R===1||n.isString(T)?this.models=this.sortBy(T):this.models.sort(T),w.silent||this.trigger("sort",this,w),this},pluck:function(w){return this.map(w+"")},fetch:function(w){w=n.extend({parse:!0},w);var T=w.success,R=this;return w.success=function(F){var G=w.reset?"reset":"set";R[G](F,w),T&&T.call(w.context,R,F,w),R.trigger("sync",R,F,w)},dt(this,w),this.sync("read",this,w)},create:function(w,T){T=T?n.clone(T):{};var R=T.wait;if(w=this._prepareModel(w,T),!w)return!1;R||this.add(w,T);var F=this,G=T.success;return T.success=function(se,ye,Oe){R&&F.add(se,Oe),G&&G.call(Oe.context,se,ye,Oe)},w.save(null,T),w},parse:function(w,T){return w},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(w,T){return w[T||this.model.prototype.idAttribute||"id"]},values:function(){return new v(this,b)},keys:function(){return new v(this,M)},entries:function(){return new v(this,E)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(w,T){if(this._isModel(w))return w.collection||(w.collection=this),w;T=T?n.clone(T):{},T.collection=this;var R;return this.model.prototype?R=new this.model(w,T):R=this.model(w,T),R.validationError?(this.trigger("invalid",this,R.validationError,T),!1):R},_removeModels:function(w,T){for(var R=[],F=0;F<w.length;F++){var G=this.get(w[F]);if(G){var se=this.indexOf(G);this.models.splice(se,1),this.length--,delete this._byId[G.cid];var ye=this.modelId(G.attributes,G.idAttribute);ye!=null&&delete this._byId[ye],T.silent||(T.index=se,G.trigger("remove",G,this,T)),R.push(G),this._removeReference(G,T)}}return R},_isModel:function(w){return w instanceof P},_addReference:function(w,T){this._byId[w.cid]=w;var R=this.modelId(w.attributes,w.idAttribute);R!=null&&(this._byId[R]=w),w.on("all",this._onModelEvent,this)},_removeReference:function(w,T){delete this._byId[w.cid];var R=this.modelId(w.attributes,w.idAttribute);R!=null&&delete this._byId[R],this===w.collection&&delete w.collection,w.off("all",this._onModelEvent,this)},_onModelEvent:function(w,T,R,F){if(T){if((w==="add"||w==="remove")&&R!==this)return;if(w==="destroy"&&this.remove(T,F),w==="changeId"){var G=this.modelId(T.previousAttributes(),T.idAttribute),se=this.modelId(T.attributes,T.idAttribute);G!=null&&delete this._byId[G],se!=null&&(this._byId[se]=T)}}this.trigger.apply(this,arguments)}});var g=typeof Symbol=="function"&&Symbol.iterator;g&&(U.prototype[g]=U.prototype.values);var v=function(w,T){this._collection=w,this._kind=T,this._index=0},b=1,M=2,E=3;g&&(v.prototype[g]=function(){return this}),v.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var w=this._collection.at(this._index);this._index++;var T;if(this._kind===b)T=w;else{var R=this._collection.modelId(w.attributes,w.idAttribute);this._kind===M?T=R:T=[R,w]}return{value:T,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var j=t.View=function(w){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(w,W)),this._ensureElement(),this.initialize.apply(this,arguments)},B=/^(\S+)\s*(.*)$/,W=["model","collection","el","id","attributes","className","tagName","events"];n.extend(j.prototype,s,{tagName:"div",$:function(w){return this.$el.find(w)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(w){return this.undelegateEvents(),this._setElement(w),this.delegateEvents(),this},_setElement:function(w){this.$el=w instanceof t.$?w:t.$(w),this.el=this.$el[0]},delegateEvents:function(w){if(w||(w=n.result(this,"events")),!w)return this;this.undelegateEvents();for(var T in w){var R=w[T];if(n.isFunction(R)||(R=this[R]),!!R){var F=T.match(B);this.delegate(F[1],F[2],R.bind(this))}}return this},delegate:function(w,T,R){return this.$el.on(w+".delegateEvents"+this.cid,T,R),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(w,T,R){return this.$el.off(w+".delegateEvents"+this.cid,T,R),this},_createElement:function(w){return document.createElement(w)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var w=n.extend({},n.result(this,"attributes"));this.id&&(w.id=n.result(this,"id")),this.className&&(w.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(w)}},_setAttributes:function(w){this.$el.attr(w)}});var ce=function(w,T,R,F){switch(T){case 1:return function(){return w[R](this[F])};case 2:return function(G){return w[R](this[F],G)};case 3:return function(G,se){return w[R](this[F],V(G,this),se)};case 4:return function(G,se,ye){return w[R](this[F],V(G,this),se,ye)};default:return function(){var G=o.call(arguments);return G.unshift(this[F]),w[R].apply(w,G)}}},pe=function(w,T,R,F){n.each(R,function(G,se){T[se]&&(w.prototype[se]=ce(T,G,se,F))})},V=function(w,T){return n.isFunction(w)?w:n.isObject(w)&&!T._isModel(w)?Q(w):n.isString(w)?function(R){return R.get(w)}:w},Q=function(w){var T=n.matches(w);return function(R){return T(R.attributes)}},$={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},q={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};n.each([[U,$,"models"],[P,q,"attributes"]],function(w){var T=w[0],R=w[1],F=w[2];T.mixin=function(G){var se=n.reduce(n.functions(G),function(ye,Oe){return ye[Oe]=0,ye},{});pe(T,G,se,F)},pe(T,n,R,F)}),t.sync=function(w,T,R){var F=Pe[w];n.defaults(R||(R={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var G={type:F,dataType:"json"};if(R.url||(G.url=n.result(T,"url")||Se()),R.data==null&&T&&(w==="create"||w==="update"||w==="patch")&&(G.contentType="application/json",G.data=JSON.stringify(R.attrs||T.toJSON(R))),R.emulateJSON&&(G.contentType="application/x-www-form-urlencoded",G.data=G.data?{model:G.data}:{}),R.emulateHTTP&&(F==="PUT"||F==="DELETE"||F==="PATCH")){G.type="POST",R.emulateJSON&&(G.data._method=F);var se=R.beforeSend;R.beforeSend=function(Qe){if(Qe.setRequestHeader("X-HTTP-Method-Override",F),se)return se.apply(this,arguments)}}G.type!=="GET"&&!R.emulateJSON&&(G.processData=!1);var ye=R.error;R.error=function(Qe,Zt,Wt){R.textStatus=Zt,R.errorThrown=Wt,ye&&ye.call(R.context,Qe,Zt,Wt)};var Oe=R.xhr=t.ajax(n.extend(G,R));return T.trigger("request",T,Oe,R),Oe};var Pe={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var Me=t.Router=function(w){w||(w={}),this.preinitialize.apply(this,arguments),w.routes&&(this.routes=w.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},Ct=/\((.*?)\)/g,Pt=/(\(\?)?:\w+/g,xe=/\*\w+/g,Te=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(Me.prototype,s,{preinitialize:function(){},initialize:function(){},route:function(w,T,R){n.isRegExp(w)||(w=this._routeToRegExp(w)),n.isFunction(T)&&(R=T,T=""),R||(R=this[T]);var F=this;return t.history.route(w,function(G){var se=F._extractParameters(w,G);F.execute(R,se,T)!==!1&&(F.trigger.apply(F,["route:"+T].concat(se)),F.trigger("route",T,se),t.history.trigger("route",F,T,se))}),this},execute:function(w,T,R){w&&w.apply(this,T)},navigate:function(w,T){return t.history.navigate(w,T),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var w,T=n.keys(this.routes);(w=T.pop())!=null;)this.route(w,this.routes[w])}},_routeToRegExp:function(w){return w=w.replace(Te,"\\$&").replace(Ct,"(?:$1)?").replace(Pt,function(T,R){return R?T:"([^/?]+)"}).replace(xe,"([^?]*?)"),new RegExp("^"+w+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(w,T){var R=w.exec(T).slice(1);return n.map(R,function(F,G){return G===R.length-1?F||null:F?decodeURIComponent(F):null})}});var oe=t.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},re=/^[#\/]|\s+$/g,he=/^\/+|\/+$/g,Be=/#.*$/;oe.started=!1,n.extend(oe.prototype,s,{interval:50,atRoot:function(){var w=this.location.pathname.replace(/[^\/]$/,"$&/");return w===this.root&&!this.getSearch()},matchRoot:function(){var w=this.decodeFragment(this.location.pathname),T=w.slice(0,this.root.length-1)+"/";return T===this.root},decodeFragment:function(w){return decodeURI(w.replace(/%25/g,"%2525"))},getSearch:function(){var w=this.location.href.replace(/#.*/,"").match(/\?.+/);return w?w[0]:""},getHash:function(w){var T=(w||this).location.href.match(/#(.*)$/);return T?T[1]:""},getPath:function(){var w=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return w.charAt(0)==="/"?w.slice(1):w},getFragment:function(w){return w==null&&(this._usePushState||!this._wantsHashChange?w=this.getPath():w=this.getHash()),w.replace(re,"")},start:function(w){if(oe.started)throw new Error("Backbone.history has already been started");if(oe.started=!0,this.options=n.extend({root:"/"},this.options,w),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(he,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var T=this.root.slice(0,-1)||"/";return this.location.replace(T+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var R=document.body,F=R.insertBefore(this.iframe,R.firstChild).contentWindow;F.document.open(),F.document.close(),F.location.hash="#"+this.fragment}var G=window.addEventListener||function(se,ye){return attachEvent("on"+se,ye)};if(this._usePushState?G("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?G("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var w=window.removeEventListener||function(T,R){return detachEvent("on"+T,R)};this._usePushState?w("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&w("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),oe.started=!1},route:function(w,T){this.handlers.unshift({route:w,callback:T})},checkUrl:function(w){var T=this.getFragment();if(T===this.fragment&&this.iframe&&(T=this.getHash(this.iframe.contentWindow)),T===this.fragment)return!1;this.iframe&&this.navigate(T),this.loadUrl()},loadUrl:function(w){return this.matchRoot()?(w=this.fragment=this.getFragment(w),n.some(this.handlers,function(T){if(T.route.test(w))return T.callback(w),!0})):!1},navigate:function(w,T){if(!oe.started)return!1;(!T||T===!0)&&(T={trigger:!!T}),w=this.getFragment(w||"");var R=this.root;(w===""||w.charAt(0)==="?")&&(R=R.slice(0,-1)||"/");var F=R+w;w=w.replace(Be,"");var G=this.decodeFragment(w);if(this.fragment!==G){if(this.fragment=G,this._usePushState)this.history[T.replace?"replaceState":"pushState"]({},document.title,F);else if(this._wantsHashChange){if(this._updateHash(this.location,w,T.replace),this.iframe&&w!==this.getHash(this.iframe.contentWindow)){var se=this.iframe.contentWindow;T.replace||(se.document.open(),se.document.close()),this._updateHash(se.location,w,T.replace)}}else return this.location.assign(F);if(T.trigger)return this.loadUrl(w)}},_updateHash:function(w,T,R){if(R){var F=w.href.replace(/(javascript:|#).*$/,"");w.replace(F+"#"+T)}else w.hash="#"+T}}),t.history=new oe;var it=function(w,T){var R=this,F;return w&&n.has(w,"constructor")?F=w.constructor:F=function(){return R.apply(this,arguments)},n.extend(F,R,T),F.prototype=n.create(R.prototype,w),F.prototype.constructor=F,F.__super__=R.prototype,F};P.extend=U.extend=Me.extend=j.extend=oe.extend=it;var Se=function(){throw new Error('A "url" property or function must be specified')},dt=function(w,T){var R=T.error;T.error=function(F){R&&R.call(T.context,w,F,T),w.trigger("error",w,F,T)}};return t})});var RC=null;var Xp=1,LC=Symbol("SIGNAL");function Lt(e){let t=RC;return RC=e,t}var kC={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function JE(e){if(!(Qp(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Xp)){if(!e.producerMustRecompute(e)&&!Jp(e)){e.dirty=!1,e.lastCleanEpoch=Xp;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Xp}}function _C(e){return e&&(e.nextProducerIndex=0),Lt(e)}function FC(e,t){if(Lt(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Qp(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)qp(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Jp(e){Pl(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(JE(n),r!==n.version))return!0}return!1}function jC(e){if(Pl(e),Qp(e))for(let t=0;t<e.producerNode.length;t++)qp(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function qp(e,t){if(qE(e),Pl(e),e.liveConsumerNode.length===1)for(let r=0;r<e.producerNode.length;r++)qp(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Pl(i),i.producerIndexOfThis[r]=t}}function Qp(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Pl(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function qE(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function QE(){throw new Error}var KE=QE;function BC(e){KE=e}function We(e){return typeof e=="function"}function Os(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ol=Os(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Iu(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var on=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(We(r))try{r()}catch(o){t=o instanceof Ol?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{zC(o)}catch(s){t=t??[],s instanceof Ol?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ol(t)}}add(t){var n;if(t&&t!==this)if(this.closed)zC(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Iu(n,t)}remove(t){let{_finalizers:n}=this;n&&Iu(n,t),t instanceof e&&t._removeParent(this)}};on.EMPTY=(()=>{let e=new on;return e.closed=!0,e})();var Kp=on.EMPTY;function Rl(e){return e instanceof on||e&&"closed"in e&&We(e.remove)&&We(e.add)&&We(e.unsubscribe)}function zC(e){We(e)?e():e.unsubscribe()}var Hr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Rs={setTimeout(e,t,...n){let{delegate:r}=Rs;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Rs;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Ll(e){Rs.setTimeout(()=>{let{onUnhandledError:t}=Hr;if(t)t(e);else throw e})}function Cu(){}var GC=eg("C",void 0,void 0);function UC(e){return eg("E",void 0,e)}function VC(e){return eg("N",e,void 0)}function eg(e,t,n){return{kind:e,value:t,error:n}}var Po=null;function Ls(e){if(Hr.useDeprecatedSynchronousErrorHandling){let t=!Po;if(t&&(Po={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Po;if(Po=null,n)throw r}}else e()}function ZC(e){Hr.useDeprecatedSynchronousErrorHandling&&Po&&(Po.errorThrown=!0,Po.error=e)}var Oo=class extends on{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Rl(t)&&t.add(this)):this.destination=n1}static create(t,n,r){return new ks(t,n,r)}next(t){this.isStopped?ng(VC(t),this):this._next(t)}error(t){this.isStopped?ng(UC(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ng(GC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},e1=Function.prototype.bind;function tg(e,t){return e1.call(e,t)}var rg=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){kl(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){kl(r)}else kl(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){kl(n)}}},ks=class extends Oo{constructor(t,n,r){super();let i;if(We(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Hr.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&tg(t.next,o),error:t.error&&tg(t.error,o),complete:t.complete&&tg(t.complete,o)}):i=t}this.destination=new rg(i)}};function kl(e){Hr.useDeprecatedSynchronousErrorHandling?ZC(e):Ll(e)}function t1(e){throw e}function ng(e,t){let{onStoppedNotification:n}=Hr;n&&Rs.setTimeout(()=>n(e,t))}var n1={closed:!0,next:Cu,error:t1,complete:Cu};var _s=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ar(e){return e}function ig(...e){return og(e)}function og(e){return e.length===0?ar:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var Mt=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=i1(n)?n:new ks(n,r,i);return Ls(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=WC(r),new r((i,o)=>{let s=new ks({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[_s](){return this}pipe(...n){return og(n)(this)}toPromise(n){return n=WC(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function WC(e){var t;return(t=e??Hr.Promise)!==null&&t!==void 0?t:Promise}function r1(e){return e&&We(e.next)&&We(e.error)&&We(e.complete)}function i1(e){return e&&e instanceof Oo||r1(e)&&Rl(e)}function sg(e){return We(e?.lift)}function pt(e){return t=>{if(sg(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function gt(e,t,n,r,i){return new ag(e,t,n,r,i)}var ag=class extends Oo{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){t.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Fs(){return pt((e,t)=>{let n=null;e._refCount++;let r=gt(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var js=class extends Mt{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,sg(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new on;let n=this.getSubject();t.add(this.source.subscribe(gt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=on.EMPTY)}return t}refCount(){return Fs()(this)}};var HC=Os(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Fn=(()=>{class e extends Mt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new _l(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new HC}next(n){Ls(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ls(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ls(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Kp:(this.currentObservers=null,o.push(n),new on(()=>{this.currentObservers=null,Iu(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Mt;return n.source=this,n}}return e.create=(t,n)=>new _l(t,n),e})(),_l=class extends Fn{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Kp}};var yn=class extends Fn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var ur=new Mt(e=>e.complete());function YC(e){return e&&We(e.schedule)}function $C(e){return e[e.length-1]}function XC(e){return We($C(e))?e.pop():void 0}function Zi(e){return YC($C(e))?e.pop():void 0}function qC(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(f){s(f)}}function u(h){try{l(r.throw(h))}catch(f){s(f)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(e,t||[])).next())})}function JC(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ro(e){return this instanceof Ro?(this.v=e,this):new Ro(e)}function QC(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(y){r[y]&&(i[y]=function(I){return new Promise(function(x,S){o.push([y,I,x,S])>1||a(y,I)})})}function a(y,I){try{u(r[y](I))}catch(x){f(o[0][3],x)}}function u(y){y.value instanceof Ro?Promise.resolve(y.value.v).then(l,h):f(o[0][2],y)}function l(y){a("next",y)}function h(y){a("throw",y)}function f(y,I){y(I),o.shift(),o.length&&a(o[0][0],o[0][1])}}function KC(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof JC=="function"?JC(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,u){s=e[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Fl=e=>e&&typeof e.length=="number"&&typeof e!="function";function jl(e){return We(e?.then)}function Bl(e){return We(e[_s])}function zl(e){return Symbol.asyncIterator&&We(e?.[Symbol.asyncIterator])}function Gl(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function o1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ul=o1();function Vl(e){return We(e?.[Ul])}function Zl(e){return QC(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield Ro(n.read());if(i)return yield Ro(void 0);yield yield Ro(r)}}finally{n.releaseLock()}})}function Wl(e){return We(e?.getReader)}function ln(e){if(e instanceof Mt)return e;if(e!=null){if(Bl(e))return s1(e);if(Fl(e))return a1(e);if(jl(e))return u1(e);if(zl(e))return ew(e);if(Vl(e))return c1(e);if(Wl(e))return l1(e)}throw Gl(e)}function s1(e){return new Mt(t=>{let n=e[_s]();if(We(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function a1(e){return new Mt(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function u1(e){return new Mt(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Ll)})}function c1(e){return new Mt(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function ew(e){return new Mt(t=>{f1(e,t).catch(n=>t.error(n))})}function l1(e){return ew(Zl(e))}function f1(e,t){var n,r,i,o;return qC(this,void 0,void 0,function*(){try{for(n=KC(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function Qn(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Hl(e,t=0){return pt((n,r)=>{n.subscribe(gt(r,i=>Qn(r,e,()=>r.next(i),t),()=>Qn(r,e,()=>r.complete(),t),i=>Qn(r,e,()=>r.error(i),t)))})}function Yl(e,t=0){return pt((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function tw(e,t){return ln(e).pipe(Yl(t),Hl(t))}function nw(e,t){return ln(e).pipe(Yl(t),Hl(t))}function rw(e,t){return new Mt(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function iw(e,t){return new Mt(n=>{let r;return Qn(n,t,()=>{r=e[Ul](),Qn(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>We(r?.return)&&r.return()})}function $l(e,t){if(!e)throw new Error("Iterable cannot be null");return new Mt(n=>{Qn(n,t,()=>{let r=e[Symbol.asyncIterator]();Qn(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ow(e,t){return $l(Zl(e),t)}function sw(e,t){if(e!=null){if(Bl(e))return tw(e,t);if(Fl(e))return rw(e,t);if(jl(e))return nw(e,t);if(zl(e))return $l(e,t);if(Vl(e))return iw(e,t);if(Wl(e))return ow(e,t)}throw Gl(e)}function tn(e,t){return t?sw(e,t):ln(e)}function Ge(...e){let t=Zi(e);return tn(e,t)}function Bs(e,t){let n=We(e)?e:()=>e,r=i=>i.error(n());return new Mt(t?i=>t.schedule(r,0,i):r)}function ug(e){return!!e&&(e instanceof Mt||We(e.lift)&&We(e.subscribe))}var xi=Os(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function ft(e,t){return pt((n,r)=>{let i=0;n.subscribe(gt(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:d1}=Array;function h1(e,t){return d1(t)?e(...t):e(t)}function aw(e){return ft(t=>h1(e,t))}var{isArray:p1}=Array,{getPrototypeOf:g1,prototype:m1,keys:v1}=Object;function uw(e){if(e.length===1){let t=e[0];if(p1(t))return{args:t,keys:null};if(y1(t)){let n=v1(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function y1(e){return e&&typeof e=="object"&&g1(e)===m1}function cw(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Xl(...e){let t=Zi(e),n=XC(e),{args:r,keys:i}=uw(e);if(r.length===0)return tn([],t);let o=new Mt(I1(r,t,i?s=>cw(i,s):ar));return n?o.pipe(aw(n)):o}function I1(e,t,n=ar){return r=>{lw(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)lw(t,()=>{let l=tn(e[u],t),h=!1;l.subscribe(gt(r,f=>{o[u]=f,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function lw(e,t,n){e?Qn(n,e,t):t()}function fw(e,t,n,r,i,o,s,a){let u=[],l=0,h=0,f=!1,y=()=>{f&&!u.length&&!l&&t.complete()},I=S=>l<r?x(S):u.push(S),x=S=>{o&&t.next(S),l++;let N=!1;ln(n(S,h++)).subscribe(gt(t,P=>{i?.(P),o?I(P):t.next(P)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let P=u.shift();s?Qn(t,s,()=>x(P)):x(P)}y()}catch(P){t.error(P)}}))};return e.subscribe(gt(t,I,()=>{f=!0,y()})),()=>{a?.()}}function sn(e,t,n=1/0){return We(t)?sn((r,i)=>ft((o,s)=>t(r,o,i,s))(ln(e(r,i))),n):(typeof t=="number"&&(n=t),pt((r,i)=>fw(r,i,e,n)))}function cg(e=1/0){return sn(ar,e)}function dw(){return cg(1)}function zs(...e){return dw()(tn(e,Zi(e)))}function Jl(e){return new Mt(t=>{ln(e()).subscribe(t)})}function Dr(e,t){return pt((n,r)=>{let i=0;n.subscribe(gt(r,o=>e.call(t,o,i++)&&r.next(o)))})}function Wi(e){return pt((t,n)=>{let r=null,i=!1,o;r=t.subscribe(gt(n,void 0,void 0,s=>{o=ln(e(s,Wi(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function hw(e,t,n,r,i){return(o,s)=>{let a=n,u=t,l=0;o.subscribe(gt(s,h=>{let f=l++;u=a?e(u,h,f):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Lo(e,t){return We(t)?sn(e,t,1):sn(e,1)}function Hi(e){return pt((t,n)=>{let r=!1;t.subscribe(gt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function Di(e){return e<=0?()=>ur:pt((t,n)=>{let r=0;t.subscribe(gt(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function lg(e){return ft(()=>e)}function ql(e=C1){return pt((t,n)=>{let r=!1;t.subscribe(gt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function C1(){return new xi}function Gs(e){return pt((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Yr(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Dr((i,o)=>e(i,o,r)):ar,Di(1),n?Hi(t):ql(()=>new xi))}function Us(e){return e<=0?()=>ur:pt((t,n)=>{let r=[];t.subscribe(gt(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function fg(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Dr((i,o)=>e(i,o,r)):ar,Us(1),n?Hi(t):ql(()=>new xi))}function dg(e,t){return pt(hw(e,t,arguments.length>=2,!0))}function hg(...e){let t=Zi(e);return pt((n,r)=>{(t?zs(e,n,t):zs(e,n)).subscribe(r)})}function Mr(e,t){return pt((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(gt(r,u=>{i?.unsubscribe();let l=0,h=o++;ln(e(u,h)).subscribe(i=gt(r,f=>r.next(t?t(u,f,h,l++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function pg(e){return pt((t,n)=>{ln(e).subscribe(gt(n,()=>n.complete(),Cu)),!n.closed&&t.subscribe(n)})}function an(e,t,n){let r=We(e)||t||n?{next:e,error:t,complete:n}:e;return r?pt((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(gt(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):ar}var je=class extends Error{constructor(t,n){super(xf(t,n)),this.code=t}};function xf(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function sm(e){return{toString:e}.toString()}var wu=globalThis;function kt(e){for(let t in e)if(e[t]===kt)return t;throw Error("Could not find renamed property on target object.")}function cr(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(cr).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function pw(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var w1=kt({__forward_ref__:kt});function Xw(e){return e.__forward_ref__=Xw,e.toString=function(){return cr(this())},e}function Sr(e){return Jw(e)?e():e}function Jw(e){return typeof e=="function"&&e.hasOwnProperty(w1)&&e.__forward_ref__===Xw}function Ye(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Df(e){return gw(e,Qw)||gw(e,Kw)}function qw(e){return Df(e)!==null}function gw(e,t){return e.hasOwnProperty(t)?e[t]:null}function A1(e){let t=e&&(e[Qw]||e[Kw]);return t||null}function mw(e){return e&&(e.hasOwnProperty(vw)||e.hasOwnProperty(b1))?e[vw]:null}var Qw=kt({\u0275prov:kt}),vw=kt({\u0275inj:kt}),Kw=kt({ngInjectableDef:kt}),b1=kt({ngInjectorDef:kt}),qe=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Ye({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function eA(e){return e&&!!e.\u0275providers}var x1=kt({\u0275cmp:kt}),D1=kt({\u0275dir:kt}),M1=kt({\u0275pipe:kt}),T1=kt({\u0275mod:kt}),af=kt({\u0275fac:kt}),Au=kt({__NG_ELEMENT_ID__:kt}),yw=kt({__NG_ENV_ID__:kt});function S1(e){return typeof e=="string"?e:e==null?"":String(e)}function N1(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():S1(e)}function E1(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new je(-200,e)}function am(e,t){throw new je(-201,!1)}var Ke=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ke||{}),Tg;function tA(){return Tg}function Tr(e){let t=Tg;return Tg=e,t}function nA(e,t,n){let r=Df(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Ke.Optional)return null;if(t!==void 0)return t;am(e,"Injector")}var P1={},bu=P1,O1="__NG_DI_FLAG__",uf="ngTempTokenPath",R1="ngTokenPath",L1=/\n/gm,k1="\u0275",Iw="__source",Hs;function _1(){return Hs}function Yi(e){let t=Hs;return Hs=e,t}function F1(e,t=Ke.Default){if(Hs===void 0)throw new je(-203,!1);return Hs===null?nA(e,void 0,t):Hs.get(e,t&Ke.Optional?null:void 0,t)}function mt(e,t=Ke.Default){return(tA()||F1)(Sr(e),t)}function Ie(e,t=Ke.Default){return mt(e,Mf(t))}function Mf(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Sg(e){let t=[];for(let n=0;n<e.length;n++){let r=Sr(e[n]);if(Array.isArray(r)){if(r.length===0)throw new je(900,!1);let i,o=Ke.Default;for(let s=0;s<r.length;s++){let a=r[s],u=j1(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}t.push(mt(i,o))}else t.push(mt(r))}return t}function j1(e){return e[O1]}function B1(e,t,n,r){let i=e[uf];throw t[Iw]&&i.unshift(t[Iw]),e.message=z1(`
`+e.message,i,n,r),e[R1]=i,e[uf]=null,e}function z1(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==k1?e.slice(2):e;let i=cr(t);if(Array.isArray(t))i=t.map(cr).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):cr(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(L1,`
  `)}`}function $s(e,t){let n=e.hasOwnProperty(af);return n?e[af]:null}function um(e,t){e.forEach(n=>Array.isArray(n)?um(n,t):t(n))}function rA(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function cf(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}var xu={},_o=[],Fo=new qe(""),iA=new qe("",-1),oA=new qe(""),lf=class{get(t,n=bu){if(n===bu){let r=new Error(`NullInjectorError: No provider for ${cr(t)}!`);throw r.name="NullInjectorError",r}return n}},sA=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(sA||{}),fi=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(fi||{}),Ji=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ji||{});function G1(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Ng(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];V1(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function U1(e){return e===3||e===4||e===6}function V1(e){return e.charCodeAt(0)===64}function cm(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Cw(e,n,i,null,t[++r]):Cw(e,n,i,null,null))}}return e}function Cw(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(e[o+1]=i);return}else if(r===e[o+1]){e[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),r!==null&&e.splice(o++,0,r),i!==null&&e.splice(o++,0,i)}var aA="ng-template";function Z1(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&G1(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(lm(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function lm(e){return e.type===4&&e.value!==aA}function W1(e,t,n){let r=e.type===4&&!n?aA:e.value;return t===r}function H1(e,t,n){let r=4,i=e.attrs,o=i!==null?X1(i):0,s=!1;for(let a=0;a<t.length;a++){let u=t[a];if(typeof u=="number"){if(!s&&!$r(r)&&!$r(u))return!1;if(s&&$r(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!W1(e,u,n)||u===""&&t.length===1){if($r(r))return!1;s=!0}}else if(r&8){if(i===null||!Z1(e,i,u,n)){if($r(r))return!1;s=!0}}else{let l=t[++a],h=Y1(u,i,lm(e),n);if(h===-1){if($r(r))return!1;s=!0;continue}if(l!==""){let f;if(h>o?f="":f=i[h+1].toLowerCase(),r&2&&l!==f){if($r(r))return!1;s=!0}}}}return $r(r)||s}function $r(e){return(e&1)===0}function Y1(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return J1(t,e)}function $1(e,t,n=!1){for(let r=0;r<t.length;r++)if(H1(e,t[r],n))return!0;return!1}function X1(e){for(let t=0;t<e.length;t++){let n=e[t];if(U1(n))return t}return e.length}function J1(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function ww(e,t){return e?":not("+t.trim()+")":t}function q1(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!$r(s)&&(t+=ww(o,i),i=""),r=s,o=o||!$r(r);n++}return i!==""&&(t+=ww(o,i)),t}function Q1(e){return e.map(q1).join(",")}function K1(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!$r(i))break;i=o}r++}return{attrs:t,classes:n}}function Qs(e){return sm(()=>{let t=dA(e),n=en(Ne({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===sA.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||fi.Emulated,styles:e.styles||_o,_:null,schemas:e.schemas||null,tView:null,id:""});hA(n);let r=e.dependencies;return n.directiveDefs=bw(r,!1),n.pipeDefs=bw(r,!0),n.id=nP(n),n})}function eP(e){return jo(e)||uA(e)}function tP(e){return e!==null}function Aw(e,t){if(e==null)return xu;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a=Ji.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),t?(n[o]=a!==Ji.None?[r,a]:r,t[o]=s):n[o]=r}return n}function fm(e){return sm(()=>{let t=dA(e);return hA(t),t})}function jo(e){return e[x1]||null}function uA(e){return e[D1]||null}function cA(e){return e[M1]||null}function lA(e){let t=jo(e)||uA(e)||cA(e);return t!==null?t.standalone:!1}function fA(e,t){let n=e[T1]||null;if(!n&&t===!0)throw new Error(`Type ${cr(e)} does not have '\u0275mod' property.`);return n}function dA(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||xu,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||_o,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Aw(e.inputs,t),outputs:Aw(e.outputs),debugInfo:null}}function hA(e){e.features?.forEach(t=>t(e))}function bw(e,t){if(!e)return null;let n=t?cA:eP;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(tP)}function nP(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Go(e){return{\u0275providers:e}}function rP(...e){return{\u0275providers:pA(!0,e),\u0275fromNgModule:!0}}function pA(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return um(t,s=>{let a=s;Eg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&gA(i,o),n}function gA(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];dm(i,o=>{t(o,r)})}}function Eg(e,t,n,r){if(e=Sr(e),!e)return!1;let i=null,o=mw(e),s=!o&&jo(e);if(!o&&!s){let u=e.ngModule;if(o=mw(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Eg(l,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{um(o.imports,h=>{Eg(h,t,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&gA(l,t)}if(!a){let l=$s(i)||(()=>new i);t({provide:i,useFactory:l,deps:_o},i),t({provide:oA,useValue:i,multi:!0},i),t({provide:Fo,useValue:()=>mt(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=e;dm(u,h=>{t(h,l)})}}else return!1;return i!==e&&e.providers!==void 0}function dm(e,t){for(let n of e)eA(n)&&(n=n.\u0275providers),Array.isArray(n)?dm(n,t):t(n)}var iP=kt({provide:String,useValue:kt});function mA(e){return e!==null&&typeof e=="object"&&iP in e}function oP(e){return!!(e&&e.useExisting)}function sP(e){return!!(e&&e.useFactory)}function Pg(e){return typeof e=="function"}var Tf=new qe(""),tf={},aP={},gg;function hm(){return gg===void 0&&(gg=new lf),gg}var Nr=class{},Du=class extends Nr{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Rg(t,s=>this.processProvider(s)),this.records.set(iA,Vs(void 0,this)),i.has("environment")&&this.records.set(Nr,Vs(void 0,this));let o=this.records.get(Tf);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(oA,_o,Ke.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=Lt(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Lt(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=Yi(this),r=Tr(void 0),i;try{return t()}finally{Yi(n),Tr(r)}}get(t,n=bu,r=Ke.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(yw))return t[yw](this);r=Mf(r);let i,o=Yi(this),s=Tr(void 0);try{if(!(r&Ke.SkipSelf)){let u=this.records.get(t);if(u===void 0){let l=hP(t)&&Df(t);l&&this.injectableDefInScope(l)?u=Vs(Og(t),tf):u=null,this.records.set(t,u)}if(u!=null)return this.hydrate(t,u)}let a=r&Ke.Self?hm():this.parent;return n=r&Ke.Optional&&n===bu?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[uf]=a[uf]||[]).unshift(cr(t)),o)throw a;return B1(a,t,"R3InjectorError",this.source)}else throw a}finally{Tr(s),Yi(o)}}resolveInjectorInitializers(){let t=Lt(null),n=Yi(this),r=Tr(void 0),i;try{let o=this.get(Fo,_o,Ke.Self);for(let s of o)s()}finally{Yi(n),Tr(r),Lt(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(cr(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new je(205,!1)}processProvider(t){t=Sr(t);let n=Pg(t)?t:Sr(t&&t.provide),r=cP(t);if(!Pg(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Vs(void 0,tf,!0),i.factory=()=>Sg(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=Lt(null);try{return n.value===tf&&(n.value=aP,n.value=n.factory()),typeof n.value=="object"&&n.value&&dP(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Lt(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Sr(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Og(e){let t=Df(e),n=t!==null?t.factory:$s(e);if(n!==null)return n;if(e instanceof qe)throw new je(204,!1);if(e instanceof Function)return uP(e);throw new je(204,!1)}function uP(e){if(e.length>0)throw new je(204,!1);let n=A1(e);return n!==null?()=>n.factory(e):()=>new e}function cP(e){if(mA(e))return Vs(void 0,e.useValue);{let t=lP(e);return Vs(t,tf)}}function lP(e,t,n){let r;if(Pg(e)){let i=Sr(e);return $s(i)||Og(i)}else if(mA(e))r=()=>Sr(e.useValue);else if(sP(e))r=()=>e.useFactory(...Sg(e.deps||[]));else if(oP(e))r=()=>mt(Sr(e.useExisting));else{let i=Sr(e&&(e.useClass||e.provide));if(fP(e))r=()=>new i(...Sg(e.deps));else return $s(i)||Og(i)}return r}function Vs(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function fP(e){return!!e.deps}function dP(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function hP(e){return typeof e=="function"||typeof e=="object"&&e instanceof qe}function Rg(e,t){for(let n of e)Array.isArray(n)?Rg(n,t):n&&eA(n)?Rg(n.\u0275providers,t):t(n)}function Ki(e,t){e instanceof Du&&e.assertNotDestroyed();let n,r=Yi(e),i=Tr(void 0);try{return t()}finally{Yi(r),Tr(i)}}function pP(){return tA()!==void 0||_1()!=null}function gP(e){return typeof e=="function"}var fr=0,st=1,He=2,In=3,Jr=4,Qr=5,qr=6,xw=7,qi=8,Xs=9,di=10,fn=11,Mu=12,Dw=13,ku=14,Er=15,pm=16,Zs=17,Sf=18,Nf=19,vA=20,Xi=21,mg=22,Bo=23,Pr=25,yA=1,Tu=6,Ti=7,ff=8,df=9,lr=10,gm=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(gm||{});function Mi(e){return Array.isArray(e)&&typeof e[yA]=="object"}function hi(e){return Array.isArray(e)&&e[yA]===!0}function IA(e){return(e.flags&4)!==0}function Ef(e){return e.componentOffset>-1}function mP(e){return(e.flags&1)===1}function _u(e){return!!e.template}function CA(e){return(e[He]&512)!==0}var Lg=class{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function wA(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}function Pf(){return AA}function AA(e){return e.type.prototype.ngOnChanges&&(e.setInput=yP),vP}Pf.ngInherit=!0;function vP(){let e=xA(this),t=e?.current;if(t){let n=e.previous;if(n===xu)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function yP(e,t,n,r,i){let o=this.declaredInputs[r],s=xA(e)||IP(e,{previous:xu,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Lg(l&&l.currentValue,n,u===xu),wA(e,t,i,n)}var bA="__ngSimpleChanges__";function xA(e){return e[bA]||null}function IP(e,t){return e[bA]=t}var Mw=null;var $i=function(e,t,n){Mw?.(e,t,n)},CP="svg",wP="math",AP=!1;function bP(){return AP}function Si(e){for(;Array.isArray(e);)e=e[fr];return e}function pi(e,t){return Si(t[e.index])}function xP(e,t){return e.data[t]}function Ks(e,t){let n=t[e];return Mi(n)?n:n[fr]}function mm(e){return(e[He]&128)===128}function DP(e){return hi(e[In])}function Tw(e,t){return t==null?null:e[t]}function DA(e){e[Zs]=0}function MP(e){e[He]&1024||(e[He]|=1024,mm(e)&&Su(e))}function vm(e){return!!(e[He]&9216||e[Bo]?.dirty)}function kg(e){e[di].changeDetectionScheduler?.notify(1),vm(e)?Su(e):e[He]&64&&(bP()?(e[He]|=1024,Su(e)):e[di].changeDetectionScheduler?.notify())}function Su(e){e[di].changeDetectionScheduler?.notify();let t=Nu(e);for(;t!==null&&!(t[He]&8192||(t[He]|=8192,!mm(t)));)t=Nu(t)}function MA(e,t){if((e[He]&256)===256)throw new je(911,!1);e[Xi]===null&&(e[Xi]=[]),e[Xi].push(t)}function TP(e,t){if(e[Xi]===null)return;let n=e[Xi].indexOf(t);n!==-1&&e[Xi].splice(n,1)}function Nu(e){let t=e[In];return hi(t)?t[In]:t}var Tt={lFrame:RA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function SP(){return Tt.lFrame.elementDepthCount}function NP(){Tt.lFrame.elementDepthCount++}function EP(){Tt.lFrame.elementDepthCount--}function TA(){return Tt.bindingsEnabled}function Fu(){return Tt.skipHydrationRootTNode!==null}function PP(e){return Tt.skipHydrationRootTNode===e}function OP(e){Tt.skipHydrationRootTNode=e}function RP(){Tt.skipHydrationRootTNode=null}function Or(){return Tt.lFrame.lView}function ym(){return Tt.lFrame.tView}function Ei(){let e=SA();for(;e!==null&&e.type===64;)e=e.parent;return e}function SA(){return Tt.lFrame.currentTNode}function LP(){let e=Tt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Of(e,t){let n=Tt.lFrame;n.currentTNode=e,n.isParent=t}function NA(){return Tt.lFrame.isParent}function kP(){Tt.lFrame.isParent=!1}function _P(e){return Tt.lFrame.bindingIndex=e}function FP(){return Tt.lFrame.inI18n}function jP(e,t){let n=Tt.lFrame;n.bindingIndex=n.bindingRootIndex=e,_g(t)}function BP(){return Tt.lFrame.currentDirectiveIndex}function _g(e){Tt.lFrame.currentDirectiveIndex=e}function EA(e){Tt.lFrame.currentQueryIndex=e}function zP(e){let t=e[st];return t.type===2?t.declTNode:t.type===1?e[Qr]:null}function PA(e,t,n){if(n&Ke.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(n&Ke.Host);)if(i=zP(o),i===null||(o=o[ku],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=Tt.lFrame=OA();return r.currentTNode=t,r.lView=e,!0}function Im(e){let t=OA(),n=e[st];Tt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function OA(){let e=Tt.lFrame,t=e===null?null:e.child;return t===null?RA(e):t}function RA(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function LA(){let e=Tt.lFrame;return Tt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var kA=LA;function Cm(){let e=LA();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function GP(){return Tt.lFrame.selectedIndex}function zo(e){Tt.lFrame.selectedIndex=e}function _A(){return Tt.lFrame.currentNamespace}var FA=!0;function jA(){return FA}function gi(e){FA=e}function UP(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=AA(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function BA(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),u&&(e.viewHooks??=[]).push(-n,u),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),h!=null&&(e.destroyHooks??=[]).push(n,h)}}function nf(e,t,n){zA(e,t,3,n)}function rf(e,t,n,r){(e[He]&3)===n&&zA(e,t,n,r)}function vg(e,t){let n=e[He];(n&3)===t&&(n&=16383,n+=1,e[He]=n)}function zA(e,t,n,r){let i=r!==void 0?e[Zs]&65535:0,o=r??-1,s=t.length-1,a=0;for(let u=i;u<s;u++)if(typeof t[u+1]=="number"){if(a=t[u],r!=null&&a>=r)break}else t[u]<0&&(e[Zs]+=65536),(a<o||o==-1)&&(VP(e,n,t,u),e[Zs]=(e[Zs]&4294901760)+u+2),u++}function Sw(e,t){$i(4,e,t);let n=Lt(null);try{t.call(e)}finally{Lt(n),$i(5,e,t)}}function VP(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[He]>>14<e[Zs]>>16&&(e[He]&3)===t&&(e[He]+=16384,Sw(a,o)):Sw(a,o)}var Ys=-1,Eu=class{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function ZP(e){return e instanceof Eu}function WP(e){return(e.flags&8)!==0}function HP(e){return(e.flags&16)!==0}function GA(e){return e!==Ys}function hf(e){return e&32767}function YP(e){return e>>16}function pf(e,t){let n=YP(e),r=t;for(;n>0;)r=r[ku],n--;return r}var Fg=!0;function Nw(e){let t=Fg;return Fg=e,t}var $P=256,UA=$P-1,VA=5,XP=0,li={};function JP(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Au)&&(r=n[Au]),r==null&&(r=n[Au]=XP++);let i=r&UA,o=1<<i;t.data[e+(i>>VA)]|=o}function ZA(e,t){let n=WA(e,t);if(n!==-1)return n;let r=t[st];r.firstCreatePass&&(e.injectorIndex=t.length,yg(r.data,e),yg(t,null),yg(r.blueprint,null));let i=wm(e,t),o=e.injectorIndex;if(GA(i)){let s=hf(i),a=pf(i,t),u=a[st].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|u[s+l]}return t[o+8]=i,o}function yg(e,t){e.push(0,0,0,0,0,0,0,0,t)}function WA(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function wm(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=JA(i),r===null)return Ys;if(n++,i=i[ku],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ys}function qP(e,t,n){JP(e,t,n)}function HA(e,t,n){if(n&Ke.Optional||e!==void 0)return e;am(t,"NodeInjector")}function YA(e,t,n,r){if(n&Ke.Optional&&r===void 0&&(r=null),!(n&(Ke.Self|Ke.Host))){let i=e[Xs],o=Tr(void 0);try{return i?i.get(t,r,n&Ke.Optional):nA(t,r,n&Ke.Optional)}finally{Tr(o)}}return HA(r,t,n)}function $A(e,t,n,r=Ke.Default,i){if(e!==null){if(t[He]&2048&&!(r&Ke.Self)){let s=nO(e,t,n,r,li);if(s!==li)return s}let o=XA(e,t,n,r,li);if(o!==li)return o}return YA(t,n,r,i)}function XA(e,t,n,r,i){let o=eO(n);if(typeof o=="function"){if(!PA(t,e,r))return r&Ke.Host?HA(i,n,r):YA(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&Ke.Optional))am(n);else return s}finally{kA()}}else if(typeof o=="number"){let s=null,a=WA(e,t),u=Ys,l=r&Ke.Host?t[Er][Qr]:null;for((a===-1||r&Ke.SkipSelf)&&(u=a===-1?wm(e,t):t[a+8],u===Ys||!Pw(r,!1)?a=-1:(s=t[st],a=hf(u),t=pf(u,t)));a!==-1;){let h=t[st];if(Ew(o,a,h.data)){let f=QP(a,t,n,s,r,l);if(f!==li)return f}u=t[a+8],u!==Ys&&Pw(r,t[st].data[a+8]===l)&&Ew(o,a,t)?(s=h,a=hf(u),t=pf(u,t)):a=-1}}return i}function QP(e,t,n,r,i,o){let s=t[st],a=s.data[e+8],u=r==null?Ef(a)&&Fg:r!=s&&(a.type&3)!==0,l=i&Ke.Host&&o===a,h=KP(a,s,n,u,l);return h!==null?Pu(t,s,h,a):li}function KP(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,u=e.directiveStart,l=e.directiveEnd,h=o>>20,f=r?a:a+h,y=i?a+h:l;for(let I=f;I<y;I++){let x=s[I];if(I<u&&n===x||I>=u&&x.type===n)return I}if(i){let I=s[u];if(I&&_u(I)&&I.type===n)return u}return null}function Pu(e,t,n,r){let i=e[n],o=t.data;if(ZP(i)){let s=i;s.resolving&&E1(N1(o[n]));let a=Nw(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Tr(s.injectImpl):null,h=PA(e,r,Ke.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&UP(n,o[n],t)}finally{l!==null&&Tr(l),Nw(a),s.resolving=!1,kA()}}return i}function eO(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Au)?e[Au]:void 0;return typeof t=="number"?t>=0?t&UA:tO:t}function Ew(e,t,n){let r=1<<e;return!!(n[t+(e>>VA)]&r)}function Pw(e,t){return!(e&Ke.Self)&&!(e&Ke.Host&&t)}var ko=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return $A(this._tNode,this._lView,t,Mf(r),n)}};function tO(){return new ko(Ei(),Or())}function Am(e){return sm(()=>{let t=e.prototype.constructor,n=t[af]||jg(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[af]||jg(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function jg(e){return Jw(e)?()=>{let t=jg(Sr(e));return t&&t()}:$s(e)}function nO(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[He]&2048&&!(s[He]&512);){let a=XA(o,s,n,r|Ke.Self,li);if(a!==li)return a;let u=o.parent;if(!u){let l=s[vA];if(l){let h=l.get(n,li,r);if(h!==li)return h}u=JA(s),s=s[ku]}o=u}return i}function JA(e){let t=e[st],n=t.type;return n===2?t.declTNode:n===1?e[Qr]:null}function Ow(e,t=null,n=null,r){let i=qA(e,t,n,r);return i.resolveInjectorInitializers(),i}function qA(e,t=null,n=null,r,i=new Set){let o=[n||_o,rP(e)];return r=r||(typeof e=="object"?void 0:cr(e)),new Du(o,t||hm(),r||null,i)}var Uo=(()=>{let t=class t{static create(r,i){if(Array.isArray(r))return Ow({name:""},i,r,"");{let o=r.name??"";return Ow({name:o},r.parent,r.providers,o)}}};t.THROW_IF_NOT_FOUND=bu,t.NULL=new lf,t.\u0275prov=Ye({token:t,providedIn:"any",factory:()=>mt(iA)}),t.__NG_ELEMENT_ID__=-1;let e=t;return e})();var rO="ngOriginalError";function Ig(e){return e[rO]}var Ni=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Ig(t);for(;n&&Ig(n);)n=Ig(n);return n||null}},QA=new qe("",{providedIn:"root",factory:()=>Ie(Ni).handleError.bind(void 0)}),KA=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=iO,t.__NG_ENV_ID__=r=>r;let e=t;return e})(),Bg=class extends KA{constructor(t){super(),this._lView=t}onDestroy(t){return MA(this._lView,t),()=>TP(this._lView,t)}};function iO(){return new Bg(Or())}function oO(){return bm(Ei(),Or())}function bm(e,t){return new Rf(pi(e,t))}var Rf=(()=>{let t=class t{constructor(r){this.nativeElement=r}};t.__NG_ELEMENT_ID__=oO;let e=t;return e})();var zg=class extends Fn{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,pP()&&(this.destroyRef=Ie(KA,{optional:!0})??void 0)}emit(t){let n=Lt(null);try{super.next(t)}finally{Lt(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let u=t;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=Cg(o),i&&(i=Cg(i)),s&&(s=Cg(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof on&&t.add(a),a}};function Cg(e){return t=>{setTimeout(e,void 0,t)}}var Xr=zg;var sO="ngSkipHydration",aO="ngskiphydration";function eb(e){let t=e.mergedAttrs;if(t===null)return!1;for(let n=0;n<t.length;n+=2){let r=t[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===aO)return!0}return!1}function tb(e){return e.hasAttribute(sO)}function gf(e){return(e.flags&128)===128}function uO(e){if(gf(e))return!0;let t=e.parent;for(;t;){if(gf(e)||eb(t))return!0;t=t.parent}return!1}var nb=new Map,cO=0;function lO(){return cO++}function fO(e){nb.set(e[Nf],e)}function dO(e){nb.delete(e[Nf])}var Rw="__ngContext__";function Js(e,t){Mi(t)?(e[Rw]=t[Nf],fO(t)):e[Rw]=t}function rb(e){return ob(e[Mu])}function ib(e){return ob(e[Jr])}function ob(e){for(;e!==null&&!hi(e);)e=e[Jr];return e}var Gg;function sb(e){Gg=e}function Lf(){if(Gg!==void 0)return Gg;if(typeof document<"u")return document;throw new je(210,!1)}var kf=new qe("",{providedIn:"root",factory:()=>hO}),hO="ng",xm=new qe(""),Rr=new qe("",{providedIn:"platform",factory:()=>"unknown"});var Dm=new qe("",{providedIn:"root",factory:()=>Lf().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function pO(){let e=new Vo;return Ie(Rr)==="browser"&&(e.store=gO(Lf(),Ie(kf))),e}var Vo=(()=>{let t=class t{constructor(){this.store={},this.onSerializeCallbacks={}}get(r,i){return this.store[r]!==void 0?this.store[r]:i}set(r,i){this.store[r]=i}remove(r){delete this.store[r]}hasKey(r){return this.store.hasOwnProperty(r)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(r,i){this.onSerializeCallbacks[r]=i}toJson(){for(let r in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(r))try{this.store[r]=this.onSerializeCallbacks[r]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};t.\u0275prov=Ye({token:t,providedIn:"root",factory:pO});let e=t;return e})();function gO(e,t){let n=e.getElementById(t+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}var ab="h",ub="b",Ug=function(e){return e.FirstChild="f",e.NextSibling="n",e}(Ug||{}),mO="e",vO="t",Mm="c",cb="x",mf="r",yO="i",IO="n",CO="d",wO="__nghData__",lb=wO,wg="ngh",AO="nghm",fb=()=>null;function bO(e,t,n=!1){let r=e.getAttribute(wg);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,u={};if(r!==""){let h=t.get(Vo,null,{optional:!0});h!==null&&(u=h.get(lb,[])[Number(r)])}let l={data:u,firstChild:e.firstChild??null};return n&&(l.firstChild=e,_f(l,0,e.nextSibling)),a?e.setAttribute(wg,a):e.removeAttribute(wg),l}function xO(){fb=bO}function Tm(e,t,n=!1){return fb(e,t,n)}function DO(e){let t=e._lView;return t[st].type===2?null:(CA(t)&&(t=t[Pr]),t)}function MO(e){return e.textContent?.replace(/\s/gm,"")}function TO(e){let t=Lf(),n=t.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=MO(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(t.createTextNode("")):o.remove()}function _f(e,t,n){e.segmentHeads??={},e.segmentHeads[t]=n}function Vg(e,t){return e.segmentHeads?.[t]??null}function SO(e,t){let n=e.data,r=n[mO]?.[t]??null;return r===null&&n[Mm]?.[t]&&(r=Sm(e,t)),r}function db(e,t){return e.data[Mm]?.[t]??null}function Sm(e,t){let n=db(e,t)??[],r=0;for(let i of n)r+=i[mf]*(i[cb]??1);return r}function Ff(e,t){if(typeof e.disconnectedNodes>"u"){let n=e.data[CO];e.disconnectedNodes=n?new Set(n):null}return!!e.disconnectedNodes?.has(t)}var Ql=new qe(""),hb=!1,pb=new qe("",{providedIn:"root",factory:()=>hb}),NO=new qe("");var EO=/^>|^->|<!--|-->|--!>|<!-$/g,PO=/(<|>)/g,OO="\u200B$1\u200B";function RO(e){return e.replace(EO,t=>t.replace(PO,OO))}function LO(e){return e.ownerDocument.body}function gb(e){return e instanceof Function?e():e}function Kl(e){return(e??Ie(Uo)).get(Rr)==="browser"}var Zo=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Zo||{}),kO;function Nm(e,t){return kO(e,t)}function Ws(e,t,n,r,i){if(r!=null){let o,s=!1;hi(r)?o=r:Mi(r)&&(s=!0,r=r[fr]);let a=Si(r);e===0&&n!==null?i==null?Ib(t,n,a):vf(t,n,a,i||null,!0):e===1&&n!==null?vf(t,n,a,i||null,!0):e===2?Rm(t,a,s):e===3&&t.destroyNode(a),o!=null&&qO(t,e,o,n,i)}}function Em(e,t){return e.createText(t)}function Pm(e,t){return e.createComment(RO(t))}function jf(e,t,n){return e.createElement(t,n)}function _O(e,t){mb(e,t),t[fr]=null,t[Qr]=null}function FO(e,t,n,r,i,o){r[fr]=i,r[Qr]=t,Bf(e,r,n,1,i,o)}function mb(e,t){t[di].changeDetectionScheduler?.notify(1),Bf(e,t,t[fn],2,null,null)}function jO(e){let t=e[Mu];if(!t)return Ag(e[st],e);for(;t;){let n=null;if(Mi(t))n=t[Mu];else{let r=t[lr];r&&(n=r)}if(!n){for(;t&&!t[Jr]&&t!==e;)Mi(t)&&Ag(t[st],t),t=t[In];t===null&&(t=e),Mi(t)&&Ag(t[st],t),n=t&&t[Jr]}t=n}}function BO(e,t,n,r){let i=lr+r,o=n.length;r>0&&(n[i-1][Jr]=t),r<o-lr?(t[Jr]=n[i],rA(n,lr+r,t)):(n.push(t),t[Jr]=null),t[In]=n;let s=t[pm];s!==null&&n!==s&&zO(s,t);let a=t[Sf];a!==null&&a.insertView(e),kg(t),t[He]|=128}function zO(e,t){let n=e[df],i=t[In][In][Er];t[Er]!==i&&(e[He]|=gm.HasTransplantedViews),n===null?e[df]=[t]:n.push(t)}function vb(e,t){let n=e[df],r=n.indexOf(t);n.splice(r,1)}function Zg(e,t){if(e.length<=lr)return;let n=lr+t,r=e[n];if(r){let i=r[pm];i!==null&&i!==e&&vb(i,r),t>0&&(e[n-1][Jr]=r[Jr]);let o=cf(e,lr+t);_O(r[st],r);let s=o[Sf];s!==null&&s.detachView(o[st]),r[In]=null,r[Jr]=null,r[He]&=-129}return r}function yb(e,t){if(!(t[He]&256)){let n=t[fn];n.destroyNode&&Bf(e,t,n,3,null,null),jO(t)}}function Ag(e,t){if(t[He]&256)return;let n=Lt(null);try{t[He]&=-129,t[He]|=256,t[Bo]&&jC(t[Bo]),UO(e,t),GO(e,t),t[st].type===1&&t[fn].destroy();let r=t[pm];if(r!==null&&hi(t[In])){r!==t[In]&&vb(r,t);let i=t[Sf];i!==null&&i.detachView(e)}dO(t)}finally{Lt(n)}}function GO(e,t){let n=e.cleanup,r=t[xw];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(t[xw]=null);let i=t[Xi];if(i!==null){t[Xi]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function UO(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof Eu)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];$i(4,a,u);try{u.call(a)}finally{$i(5,a,u)}}else{$i(4,i,o);try{o.call(i)}finally{$i(5,i,o)}}}}}function VO(e,t,n){return ZO(e,t.parent,n)}function ZO(e,t,n){let r=t;for(;r!==null&&r.type&40;)t=r,r=t.parent;if(r===null)return n[fr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=e.data[r.directiveStart+i];if(o===fi.None||o===fi.Emulated)return null}return pi(r,n)}}function vf(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Ib(e,t,n){e.appendChild(t,n)}function Lw(e,t,n,r,i){r!==null?vf(e,t,n,r,i):Ib(e,t,n)}function WO(e,t,n,r){e.removeChild(t,n,r)}function Om(e,t){return e.parentNode(t)}function HO(e,t){return e.nextSibling(t)}function YO(e,t,n){return XO(e,t,n)}function $O(e,t,n){return e.type&40?pi(e,n):null}var XO=$O,kw;function Cb(e,t,n,r){let i=VO(e,r,t),o=t[fn],s=r.parent||t[Qr],a=YO(s,r,t);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Lw(o,i,n[u],a,!1);else Lw(o,i,n,a,!1);kw!==void 0&&kw(o,r,t,n,i)}function of(e,t){if(t!==null){let n=t.type;if(n&3)return pi(t,e);if(n&4)return Wg(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return of(e,r);{let i=e[t.index];return hi(i)?Wg(-1,i):Si(i)}}else{if(n&32)return Nm(t,e)()||Si(e[t.index]);{let r=wb(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Nu(e[Er]);return of(i,r)}else return of(e,t.next)}}}return null}function wb(e,t){if(t!==null){let r=e[Er][Qr],i=t.projection;return r.projection[i]}return null}function Wg(e,t){let n=lr+e+1;if(n<t.length){let r=t[n],i=r[st].firstChild;if(i!==null)return of(r,i)}return t[Ti]}function Rm(e,t,n){let r=Om(e,t);r&&WO(e,r,t,n)}function Ab(e){e.textContent=""}function Lm(e,t,n,r,i,o,s){for(;n!=null;){let a=r[n.index],u=n.type;if(s&&t===0&&(a&&Js(Si(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Lm(e,t,n.child,r,i,o,!1),Ws(t,e,i,a,o);else if(u&32){let l=Nm(n,r),h;for(;h=l();)Ws(t,e,i,h,o);Ws(t,e,i,a,o)}else u&16?JO(e,t,r,n,i,o):Ws(t,e,i,a,o);n=s?n.projectionNext:n.next}}function Bf(e,t,n,r,i,o){Lm(n,r,e.firstChild,t,i,o,!1)}function JO(e,t,n,r,i,o){let s=n[Er],u=s[Qr].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Ws(t,e,i,h,o)}else{let l=u,h=s[In];gf(r)&&(l.flags|=128),Lm(e,t,l,h,i,o,!0)}}function qO(e,t,n,r,i){let o=n[Ti],s=Si(n);o!==s&&Ws(t,e,r,o,i);for(let a=lr;a<n.length;a++){let u=n[a];Bf(u[st],u,e,t,r,o)}}function QO(e,t,n){e.setAttribute(t,"style",n)}function bb(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function xb(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Ng(e,t,r),i!==null&&bb(e,t,i),o!==null&&QO(e,t,o)}var Db={};function KO(e,t,n,r){if(!r)if((t[He]&3)===3){let o=e.preOrderCheckHooks;o!==null&&nf(t,o,n)}else{let o=e.preOrderHooks;o!==null&&rf(t,o,0,n)}zo(n)}function ea(e,t=Ke.Default){let n=Or();if(n===null)return mt(e,t);let r=Ei();return $A(r,n,Sr(e),t)}function Mb(e,t,n,r,i,o){let s=Lt(null);try{let a=null;i&Ji.SignalBased&&(a=t[r][LC]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Ji.HasDecoratorInputTransform&&(o=e.inputTransforms[r].call(t,o)),e.setInput!==null?e.setInput(t,a,o,n,r):wA(t,a,r,o)}finally{Lt(s)}}function eR(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)zo(~i);else{let o=i,s=n[++r],a=n[++r];jP(s,o);let u=t[o];a(2,u)}}}finally{zo(-1)}}function km(e,t,n,r,i,o,s,a,u,l,h){let f=t.blueprint.slice();return f[fr]=i,f[He]=r|4|128|8|64,(l!==null||e&&e[He]&2048)&&(f[He]|=2048),DA(f),f[In]=f[ku]=e,f[qi]=n,f[di]=s||e&&e[di],f[fn]=a||e&&e[fn],f[Xs]=u||e&&e[Xs]||null,f[Qr]=o,f[Nf]=lO(),f[qr]=h,f[vA]=l,f[Er]=t.type==2?e[Er]:f,f}function _m(e,t,n,r,i){let o=e.data[t];if(o===null)o=tR(e,t,n,r,i),FP()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=LP();o.injectorIndex=s===null?-1:s.injectorIndex}return Of(o,!0),o}function tR(e,t,n,r,i){let o=SA(),s=NA(),a=s?o:o&&o.parent,u=e.data[t]=cR(e,a,n,t,r,i);return e.firstChild===null&&(e.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function Tb(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Sb(e,t,n,r,i){let o=GP(),s=r&2;try{zo(-1),s&&t.length>Pr&&KO(e,t,Pr,!1),$i(s?2:0,i),n(r,i)}finally{zo(o),$i(s?3:1,i)}}function Nb(e,t,n){if(IA(t)){let r=Lt(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{Lt(r)}}}function nR(e,t,n){TA()&&(pR(e,t,n,pi(n,t)),(n.flags&64)===64&&Lb(e,t,n))}function rR(e,t,n=pi){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function Eb(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Pb(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Pb(e,t,n,r,i,o,s,a,u,l,h){let f=Pr+r,y=f+i,I=iR(f,y),x=typeof l=="function"?l():l;return I[st]={type:e,blueprint:I,template:n,queries:null,viewQuery:a,declTNode:t,data:I.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:x,incompleteFirstPass:!1,ssrId:h}}function iR(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Db);return n}function oR(e,t,n,r){let o=r.get(pb,hb)||n===fi.ShadowDom,s=e.selectRootElement(t,o);return sR(s),s}function sR(e){Ob(e)}var Ob=()=>null;function aR(e){tb(e)?Ab(e):TO(e)}function uR(){Ob=aR}function cR(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return Fu()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function _w(e,t,n,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;r??={};let a,u=Ji.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}e===0?Fw(r,n,l,a,u):Fw(r,n,l,a)}return r}function Fw(e,t,n,r,i){let o;e.hasOwnProperty(n)?(o=e[n]).push(t,r):o=e[n]=[t,r],i!==void 0&&o.push(i)}function lR(e,t,n){let r=t.directiveStart,i=t.directiveEnd,o=e.data,s=t.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let f=o[h],y=n?n.get(f):null,I=y?y.inputs:null,x=y?y.outputs:null;u=_w(0,f.inputs,h,u,I),l=_w(1,f.outputs,h,l,x);let S=u!==null&&s!==null&&!lm(t)?bR(u,h,s):null;a.push(S)}u!==null&&(u.hasOwnProperty("class")&&(t.flags|=8),u.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=u,t.outputs=l}function fR(e,t,n,r){if(TA()){let i=r===null?null:{"":-1},o=mR(e,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Rb(e,t,n,s,i,a),i&&vR(n,r,i)}n.mergedAttrs=cm(n.mergedAttrs,n.attrs)}function Rb(e,t,n,r,i,o){for(let l=0;l<r.length;l++)qP(ZA(n,t),e,r[l].type);IR(n,e.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=Tb(e,t,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=cm(n.mergedAttrs,h.hostAttrs),CR(e,n,t,u,h),yR(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let f=h.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}lR(e,n,o)}function dR(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;hR(s)!=a&&s.push(a),s.push(n,r,o)}}function hR(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function pR(e,t,n,r){let i=n.directiveStart,o=n.directiveEnd;Ef(n)&&wR(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||ZA(n,t),Js(r,t);let s=n.initialInputs;for(let a=i;a<o;a++){let u=e.data[a],l=Pu(t,e,a,n);if(Js(l,t),s!==null&&AR(t,a-i,l,u,n,s),_u(u)){let h=Ks(n.index,t);h[qi]=Pu(t,e,a,n)}}}function Lb(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=BP();try{zo(o);for(let a=r;a<i;a++){let u=e.data[a],l=t[a];_g(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&gR(u,l)}}finally{zo(-1),_g(s)}}function gR(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function mR(e,t){let n=e.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if($1(t,s.selectors,!1))if(r||(r=[]),_u(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Hg(e,t,u)}else r.unshift(s),Hg(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Hg(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function vR(e,t,n){if(t){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new je(-301,!1);r.push(t[i],o)}}}function yR(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;_u(t)&&(n[""]=e)}}function IR(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function CR(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=$s(i.type,!0)),s=new Eu(o,_u(i),ea);e.blueprint[r]=s,n[r]=s,dR(e,t,r,Tb(e,n,i.hostVars,Db),i)}function wR(e,t,n){let r=pi(t,e),i=Eb(n),o=e[di].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Fm(e,km(e,i,null,s,r,t,null,o.createRenderer(r,n),null,null,null));e[t.index]=a}function AR(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],f=s[a++];Mb(r,n,u,l,h,f)}}function bR(e,t,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){r===null&&(r=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function xR(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function kb(e,t){let n=e.contentQueries;if(n!==null){let r=Lt(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];EA(o),a.contentQueries(2,t[s],s)}}}finally{Lt(r)}}}function Fm(e,t){return e[Mu]?e[Dw][Jr]=t:e[Mu]=t,e[Dw]=t,t}function Yg(e,t,n){EA(0);let r=Lt(null);try{t(e,n)}finally{Lt(r)}}function DR(e,t){let n=e[Xs],r=n?n.get(Ni,null):null;r&&r.handleError(t)}function _b(e,t,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=t[s],h=e.data[s];Mb(h,l,r,a,u,i)}}function MR(e,t){let n=Ks(t,e),r=n[st];TR(r,n);let i=n[fr];i!==null&&n[qr]===null&&(n[qr]=Tm(i,n[Xs])),Fb(r,n,n[qi])}function TR(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Fb(e,t,n){Im(t);try{let r=e.viewQuery;r!==null&&Yg(1,r,n);let i=e.template;i!==null&&Sb(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Sf]?.finishViewCreation(e),e.staticContentQueries&&kb(e,t),e.staticViewQueries&&Yg(2,e.viewQuery,n);let o=e.components;o!==null&&SR(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[He]&=-5,Cm()}}function SR(e,t){for(let n=0;n<t.length;n++)MR(e,t[n])}function jw(e,t){return!t||t.firstChild===null||gf(e)}function NR(e,t,n,r=!0){let i=t[st];if(BO(i,t,e,n),r){let s=Wg(n,e),a=t[fn],u=Om(a,e[Ti]);u!==null&&FO(i,e[Qr],a,t,u,s)}let o=t[qr];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function yf(e,t,n,r,i=!1){for(;n!==null;){let o=t[n.index];o!==null&&r.push(Si(o)),hi(o)&&ER(o,r);let s=n.type;if(s&8)yf(e,t,n.child,r);else if(s&32){let a=Nm(n,t),u;for(;u=a();)r.push(u)}else if(s&16){let a=wb(t,n);if(Array.isArray(a))r.push(...a);else{let u=Nu(t[Er]);yf(u[st],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function ER(e,t){for(let n=lr;n<e.length;n++){let r=e[n],i=r[st].firstChild;i!==null&&yf(r[st],r,i,t)}e[Ti]!==e[fr]&&t.push(e[Ti])}var jb=[];function PR(e){return e[Bo]??OR(e)}function OR(e){let t=jb.pop()??Object.create(LR);return t.lView=e,t}function RR(e){e.lView[Bo]!==e&&(e.lView=null,jb.push(e))}var LR=en(Ne({},kC),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Su(e.lView)},consumerOnSignalRead(){this.lView[Bo]=this}}),Bb=100;function zb(e,t=!0,n=0){let r=e[di],i=r.rendererFactory,o=!1;o||i.begin?.();try{kR(e,n)}catch(s){throw t&&DR(e,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function kR(e,t){$g(e,t);let n=0;for(;vm(e);){if(n===Bb)throw new je(103,!1);n++,$g(e,1)}}function _R(e,t,n,r){let i=t[He];if((i&256)===256)return;let o=!1;!o&&t[di].inlineEffectRunner?.flush(),Im(t);let s=null,a=null;!o&&FR(e)&&(a=PR(t),s=_C(a));try{DA(t),_P(e.bindingStartIndex),n!==null&&Sb(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let f=e.preOrderCheckHooks;f!==null&&nf(t,f,null)}else{let f=e.preOrderHooks;f!==null&&rf(t,f,0,null),vg(t,0)}if(jR(t),Gb(t,0),e.contentQueries!==null&&kb(e,t),!o)if(u){let f=e.contentCheckHooks;f!==null&&nf(t,f)}else{let f=e.contentHooks;f!==null&&rf(t,f,1),vg(t,1)}eR(e,t);let l=e.components;l!==null&&Vb(t,l,0);let h=e.viewQuery;if(h!==null&&Yg(2,h,r),!o)if(u){let f=e.viewCheckHooks;f!==null&&nf(t,f)}else{let f=e.viewHooks;f!==null&&rf(t,f,2),vg(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[mg]){for(let f of t[mg])f();t[mg]=null}o||(t[He]&=-73)}catch(u){throw Su(t),u}finally{a!==null&&(FC(a,s),RR(a)),Cm()}}function FR(e){return e.type!==2}function Gb(e,t){for(let n=rb(e);n!==null;n=ib(n))for(let r=lr;r<n.length;r++){let i=n[r];Ub(i,t)}}function jR(e){for(let t=rb(e);t!==null;t=ib(t)){if(!(t[He]&gm.HasTransplantedViews))continue;let n=t[df];for(let r=0;r<n.length;r++){let i=n[r],o=i[In];MP(i)}}}function BR(e,t,n){let r=Ks(t,e);Ub(r,n)}function Ub(e,t){mm(e)&&$g(e,t)}function $g(e,t){let r=e[st],i=e[He],o=e[Bo],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&Jp(o)),o&&(o.dirty=!1),e[He]&=-9217,s)_R(r,e,r.template,e[qi]);else if(i&8192){Gb(e,1);let a=r.components;a!==null&&Vb(e,a,1)}}function Vb(e,t,n){for(let r=0;r<t.length;r++)BR(e,t[r],n)}function Zb(e){for(e[di].changeDetectionScheduler?.notify();e;){e[He]|=64;let t=Nu(e);if(CA(e)&&!t)return e;e=t}return null}var qs=class{get rootNodes(){let t=this._lView,n=t[st];return yf(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qi]}set context(t){this._lView[qi]=t}get destroyed(){return(this._lView[He]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[In];if(hi(t)){let n=t[ff],r=n?n.indexOf(this):-1;r>-1&&(Zg(t,r),cf(n,r))}this._attachedToViewContainer=!1}yb(this._lView[st],this._lView)}onDestroy(t){MA(this._lView,t)}markForCheck(){Zb(this._cdRefInjectingView||this._lView)}detach(){this._lView[He]&=-129}reattach(){kg(this._lView),this._lView[He]|=128}detectChanges(){this._lView[He]|=1024,zb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,mb(this._lView[st],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new je(902,!1);this._appRef=t,kg(this._lView)}};function Wb(e){let t=e[Tu]??[],r=e[In][fn];for(let i of t)zR(i,r);e[Tu]=_o}function zR(e,t){let n=0,r=e.firstChild;if(r){let i=e.data[mf];for(;n<i;){let o=r.nextSibling;Rm(t,r,!1),r=o,n++}}}function Hb(e){Wb(e);for(let t=lr;t<e.length;t++)If(e[t])}function GR(e){let t=e[qr]?.i18nNodes;if(t){let n=e[fn];for(let r of t.values())Rm(n,r,!1);e[qr].i18nNodes=void 0}}function If(e){GR(e);let t=e[st];for(let n=Pr;n<t.bindingStartIndex;n++)if(hi(e[n])){let r=e[n];Hb(r)}else Mi(e[n])&&If(e[n])}function UR(e){let t=e._views;for(let n of t){let r=DO(n);if(r!==null&&r[fr]!==null)if(Mi(r))If(r);else{let i=r[fr];If(i),Hb(r)}}}var VR=new RegExp(`^(\\d+)*(${ub}|${ab})*(.*)`);function ZR(e){let t=e.match(VR),[n,r,i,o]=t,s=r?parseInt(r,10):i,a=[];for(let[u,l,h]of o.matchAll(/(f|n)(\d*)/g)){let f=parseInt(h,10)||1;a.push(l,f)}return[s,...a]}function WR(e){return!e.prev&&e.parent?.type===8}function bg(e){return e.index-Pr}function HR(e,t){let n=e.i18nNodes;if(n){let r=n.get(t);return r&&n.delete(t),r}return null}function zf(e,t,n,r){let i=bg(r),o=HR(e,i);if(!o){let s=e.data[IO];if(s?.[i])o=$R(s[i],n);else if(t.firstChild===r)o=e.firstChild;else{let a=r.prev===null,u=r.prev??r.parent;if(WR(r)){let l=bg(r.parent);o=Vg(e,l)}else{let l=pi(u,n);if(a)o=l.firstChild;else{let h=bg(u),f=Vg(e,h);if(u.type===2&&f){let I=Sm(e,h)+1;o=Gf(I,f)}else o=l.nextSibling}}}}return o}function Gf(e,t){let n=t;for(let r=0;r<e;r++)n=n.nextSibling;return n}function YR(e,t){let n=e;for(let r=0;r<t.length;r+=2){let i=t[r],o=t[r+1];for(let s=0;s<o;s++)switch(i){case Ug.FirstChild:n=n.firstChild;break;case Ug.NextSibling:n=n.nextSibling;break}}return n}function $R(e,t){let[n,...r]=ZR(e),i;if(n===ab)i=t[Er][fr];else if(n===ub)i=LO(t[Er][fr]);else{let o=Number(n);i=Si(t[o+Pr])}return YR(i,r)}function XR(e,t){let n=[];for(let r of t)for(let i=0;i<(r[cb]??1);i++){let o={data:r,firstChild:null};r[mf]>0&&(o.firstChild=e,e=Gf(r[mf],e)),n.push(o)}return[e,n]}var Yb=()=>null;function JR(e,t){let n=e[Tu];return!t||n===null||n.length===0?null:n[0].data[yO]===t?n.shift():(Wb(e),null)}function qR(){Yb=JR}function Bw(e,t){return Yb(e,t)}var Xg=class{},Jg=class{},Cf=class{};function QR(e){let t=Error(`No component factory found for ${cr(e)}.`);return t[KR]=e,t}var KR="ngComponent";var qg=class{resolveComponentFactory(t){throw QR(t)}},Uf=(()=>{let t=class t{};t.NULL=new qg;let e=t;return e})(),Ou=class{},ju=(()=>{let t=class t{constructor(){this.destroyNode=null}};t.__NG_ELEMENT_ID__=()=>e2();let e=t;return e})();function e2(){let e=Or(),t=Ei(),n=Ks(t.index,e);return(Mi(n)?n:e)[fn]}var t2=(()=>{let t=class t{};t.\u0275prov=Ye({token:t,providedIn:"root",factory:()=>null});let e=t;return e})(),xg={};var zw=new Set;function Bu(e){zw.has(e)||(zw.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Gw(...e){}function n2(){let e=typeof wu.requestAnimationFrame=="function",t=wu[e?"requestAnimationFrame":"setTimeout"],n=wu[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){let r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}var Qt=class e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xr(!1),this.onMicrotaskEmpty=new Xr(!1),this.onStable=new Xr(!1),this.onError=new Xr(!1),typeof Zone>"u")throw new je(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=n2().nativeRequestAnimationFrame,o2(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new je(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new je(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,r2,Gw,Gw);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},r2={};function jm(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function i2(e){e.isCheckStableRunning||e.lastRequestAnimationFrameId!==-1||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(wu,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Qg(e),e.isCheckStableRunning=!0,jm(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Qg(e))}function o2(e){let t=()=>{i2(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(s2(a))return n.invokeTask(i,o,s,a);try{return Uw(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Vw(e)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return Uw(e),n.invoke(i,o,s,a,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),Vw(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(e._hasPendingMicrotasks=o.microTask,Qg(e),jm(e)):o.change=="macroTask"&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}function Qg(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.lastRequestAnimationFrameId!==-1?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Uw(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Vw(e){e._nesting--,jm(e)}function s2(e){return!Array.isArray(e)||e.length!==1?!1:e[0].data?.__ignore_ng_zone__===!0}var $b=(()=>{let t=class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};t.\u0275prov=Ye({token:t,providedIn:"root",factory:()=>new t});let e=t;return e})();function Kg(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=pw(i,a);else if(o==2){let u=a,l=t[++s];r=pw(r,u+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var wf=class extends Uf{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=jo(t);return new Ru(n,this.ngModule)}};function Zw(e){let t=[];for(let n in e){if(!e.hasOwnProperty(n))continue;let r=e[n];r!==void 0&&t.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return t}function a2(e){let t=e.toLowerCase();return t==="svg"?CP:t==="math"?wP:null}var em=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Mf(r);let i=this.injector.get(t,xg,r);return i!==xg||n===xg?i:this.parentInjector.get(t,n,r)}},Ru=class extends Cf{get inputs(){let t=this.componentDef,n=t.inputTransforms,r=Zw(t.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Zw(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=Q1(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=Lt(null);try{i=i||this.ngModule;let s=i instanceof Nr?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new em(t,s):t,u=a.get(Ou,null);if(u===null)throw new je(407,!1);let l=a.get(t2,null),h=a.get($b,null),f=a.get(Xg,null),y={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:f},I=u.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",S=r?oR(I,r,this.componentDef.encapsulation,a):jf(I,x,a2(x)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let P=null;S!==null&&(P=Tm(S,a,!0));let U=Pb(0,null,null,1,0,null,null,null,null,null,null),H=km(null,U,null,N,null,null,y,I,a,null,P);Im(H);let J,ie;try{let g=this.componentDef,v,b=null;g.findHostDirectiveDefs?(v=[],b=new Map,g.findHostDirectiveDefs(g,v,b),v.push(g)):v=[g];let M=u2(H,S),E=c2(M,S,g,v,H,y,I);ie=xP(U,Pr),S&&d2(I,g,S,r),n!==void 0&&h2(ie,this.ngContentSelectors,n),J=f2(E,g,v,b,H,[p2]),Fb(U,H,null)}finally{Cm()}return new tm(this.componentType,J,bm(ie,H),H,ie)}finally{Lt(o)}}},tm=class extends Jg{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new qs(i,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView;_b(o[st],o,i,t,n),this.previousInputValues.set(t,n);let s=Ks(this._tNode.index,o);Zb(s)}}get injector(){return new ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function u2(e,t){let n=e[st],r=Pr;return e[r]=t,_m(n,r,2,"#host",null)}function c2(e,t,n,r,i,o,s){let a=i[st];l2(r,e,t,s);let u=null;t!==null&&(u=Tm(t,i[Xs]));let l=o.rendererFactory.createRenderer(t,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let f=km(i,Eb(n),null,h,i[e.index],e,o,l,null,null,u);return a.firstCreatePass&&Hg(a,e,r.length-1),Fm(i,f),i[e.index]=f}function l2(e,t,n,r){for(let i of e)t.mergedAttrs=cm(t.mergedAttrs,i.hostAttrs);t.mergedAttrs!==null&&(Kg(t,t.mergedAttrs,!0),n!==null&&xb(r,n,t))}function f2(e,t,n,r,i,o){let s=Ei(),a=i[st],u=pi(s,i);Rb(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let f=s.directiveStart+h,y=Pu(i,a,f,s);Js(y,i)}Lb(a,i,s),u&&Js(u,i);let l=Pu(i,a,s.directiveStart+s.componentOffset,s);if(e[qi]=i[qi]=l,o!==null)for(let h of o)h(l,t);return Nb(a,s,i),l}function d2(e,t,n,r){if(r)Ng(e,n,["ng-version","17.3.9"]);else{let{attrs:i,classes:o}=K1(t.selectors[0]);i&&Ng(e,n,i),o&&o.length>0&&bb(e,n,o.join(" "))}}function h2(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function p2(){let e=Ei();BA(Or()[st],e)}var Vf=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=g2;let e=t;return e})();function g2(){let e=Ei();return v2(e,Or())}var m2=Vf,Xb=class extends m2{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return bm(this._hostTNode,this._hostLView)}get injector(){return new ko(this._hostTNode,this._hostLView)}get parentInjector(){let t=wm(this._hostTNode,this._hostLView);if(GA(t)){let n=pf(t,this._hostLView),r=hf(t),i=n[st].data[r+8];return new ko(i,n)}else return new ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Ww(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-lr}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Bw(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,jw(this._hostTNode,s)),a}createComponent(t,n,r,i,o){let s=t&&!gP(t),a;if(s)a=n;else{let x=n||{};a=x.index,r=x.injector,i=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef}let u=s?t:new Ru(jo(t)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let S=(s?l:this.parentInjector).get(Nr,null);S&&(o=S)}let h=jo(u.componentType??{}),f=Bw(this._lContainer,h?.id??null),y=f?.firstChild??null,I=u.create(l,i,y,o);return this.insertImpl(I.hostView,a,jw(this._hostTNode,f)),I}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(DP(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let u=i[In],l=new Xb(u,u[Qr],u[In]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return NR(s,i,o,r),t.attachToViewContainerRef(),rA(Dg(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Ww(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Zg(this._lContainer,n);r&&(cf(Dg(this._lContainer),n),yb(r[st],r))}detach(t){let n=this._adjustIndex(t,-1),r=Zg(this._lContainer,n);return r&&cf(Dg(this._lContainer),n)!=null?new qs(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Ww(e){return e[ff]}function Dg(e){return e[ff]||(e[ff]=[])}function v2(e,t){let n,r=t[e.index];return hi(r)?n=r:(n=xR(r,t,null,e),t[e.index]=n,Fm(t,n)),Jb(n,t,e,r),new Xb(n,e,t)}function y2(e,t){let n=e[fn],r=n.createComment(""),i=pi(t,e),o=Om(n,i);return vf(n,o,r,HO(n,i),!1),r}var Jb=Qb,qb=()=>!1;function Qb(e,t,n,r){if(e[Ti])return;let i;n.type&8?i=Si(r):i=y2(t,n),e[Ti]=i}function I2(e,t,n){if(e[Ti]&&e[Tu])return!0;let r=n[qr],i=t.index-Pr;if(!r||uO(t)||Ff(r,i))return!1;let s=Vg(r,i),a=r.data[Mm]?.[i],[u,l]=XR(s,a);return e[Ti]=u,e[Tu]=l,!0}function C2(e,t,n,r){qb(e,n,t)||Qb(e,t,n,r)}function w2(){Jb=C2,qb=I2}var Qi=class{},Lu=class{};var nm=class extends Qi{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new wf(this);let i=fA(t);this._bootstrapComponents=gb(i.bootstrap),this._r3Injector=qA(t,n,[{provide:Qi,useValue:this},{provide:Uf,useValue:this.componentFactoryResolver},...r],cr(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},rm=class extends Lu{constructor(t){super(),this.moduleType=t}create(t){return new nm(this.moduleType,t,[])}};var Af=class extends Qi{constructor(t){super(),this.componentFactoryResolver=new wf(this),this.instance=null;let n=new Du([...t.providers,{provide:Qi,useValue:this},{provide:Uf,useValue:this.componentFactoryResolver}],t.parent||hm(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Bm(e,t,n=null){return new Af({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var zu=(()=>{let t=class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new yn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Gu(e){return(e.flags&32)===32}var A2=Kb;function Kb(e,t,n,r){return gi(!0),t[fn].createComment("")}function b2(e,t,n,r){let i=t[qr],o=!i||Fu()||Gu(n)||Ff(i,r);if(gi(o),o)return Kb(e,t,n,r);let s=i.data[vO]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=zf(i,e,t,n);_f(i,r,a);let u=Sm(i,r);return Gf(u,a)}function x2(){A2=b2}function Hw(e,t,n,r,i){let o=t.inputs,s=i?"class":"style";_b(e,n,o[s],s,r)}function D2(e,t,n,r,i,o){let s=t.consts,a=Tw(s,i),u=_m(t,e,2,r,a);return fR(t,n,u,Tw(s,o)),u.attrs!==null&&Kg(u,u.attrs,!1),u.mergedAttrs!==null&&Kg(u,u.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,u),u}function Zf(e,t,n,r){let i=Or(),o=ym(),s=Pr+e,a=i[fn],u=o.firstCreatePass?D2(s,o,i,t,n,r):o.data[s],l=ex(o,i,u,a,t,e);i[s]=l;let h=mP(u);return Of(u,!0),xb(a,l,u),!Gu(u)&&jA()&&Cb(o,i,l,u),SP()===0&&Js(l,i),NP(),h&&(nR(o,i,u),Nb(o,u,i)),r!==null&&rR(i,u),Zf}function Wf(){let e=Ei();NA()?kP():(e=e.parent,Of(e,!1));let t=e;PP(t)&&RP(),EP();let n=ym();return n.firstCreatePass&&(BA(n,e),IA(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&WP(t)&&Hw(n,t,Or(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&HP(t)&&Hw(n,t,Or(),t.stylesWithoutHost,!1),Wf}function eo(e,t,n,r){return Zf(e,t,n,r),Wf(),eo}var ex=(e,t,n,r,i,o)=>(gi(!0),jf(r,i,_A()));function M2(e,t,n,r,i,o){let s=t[qr],a=!s||Fu()||Gu(n)||Ff(s,o);if(gi(a),a)return jf(r,i,_A());let u=zf(s,e,t,n);return db(s,o)&&_f(s,o,u.nextSibling),s&&(eb(n)||tb(u))&&Ef(n)&&(OP(n),Ab(u)),u}function T2(){ex=M2}var S2=(e,t,n,r)=>(gi(!0),Pm(t[fn],""));function N2(e,t,n,r){let i,o=t[qr],s=!o||Fu()||Gu(n);if(gi(s),s)return Pm(t[fn],"");let a=zf(o,e,t,n),u=SO(o,r);return _f(o,r,a),i=Gf(u,a),i}function E2(){S2=N2}var bf="en-US";var P2=bf;function O2(e){typeof e=="string"&&(P2=e.toLowerCase().replace(/_/g,"-"))}function tx(e,t,n){let r=e[fn];switch(n){case Node.COMMENT_NODE:return Pm(r,t);case Node.TEXT_NODE:return Em(r,t);case Node.ELEMENT_NODE:return jf(r,t,null)}}var R2=(e,t,n,r)=>(gi(!0),tx(e,n,r));function L2(e,t,n,r){return gi(!0),tx(e,n,r)}function k2(){R2=L2}function nx(e,t=""){let n=Or(),r=ym(),i=e+Pr,o=r.firstCreatePass?_m(r,i,1,t,null):r.data[i],s=rx(r,n,o,t,e);n[i]=s,jA()&&Cb(r,n,s,o),Of(o,!1)}var rx=(e,t,n,r,i)=>(gi(!0),Em(t[fn],r));function _2(e,t,n,r,i){let o=t[qr],s=!o||Fu()||Gu(n)||Ff(o,i);return gi(s),s?Em(t[fn],r):zf(o,e,t,n)}function F2(){rx=_2}var j2=(()=>{let t=class t{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=pA(!1,r.type),o=i.length>0?Bm([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};t.\u0275prov=Ye({token:t,providedIn:"environment",factory:()=>new t(mt(Nr))});let e=t;return e})();function ta(e){Bu("NgStandalone"),e.getStandaloneInjector=t=>t.get(j2).getOrCreateStandaloneInjector(e)}var Hf=(()=>{let t=class t{log(r){console.log(r)}warn(r){console.warn(r)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"platform"});let e=t;return e})();var ix=new qe("");function Uu(e){return!!e&&typeof e.then=="function"}function ox(e){return!!e&&typeof e.subscribe=="function"}var sx=new qe(""),ax=(()=>{let t=class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=Ie(sx,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Uu(s))r.push(s);else if(ox(s)){let a=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),na=new qe("");function B2(){BC(()=>{throw new je(600,!1)})}function z2(e){return e.isBoundToModule}function G2(e,t,n){try{let r=n();return Uu(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var to=(()=>{let t=class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ie(QA),this.afterRenderEffectManager=Ie($b),this.externalTestViews=new Set,this.beforeRender=new Fn,this.afterTick=new Fn,this.componentTypes=[],this.components=[],this.isStable=Ie(zu).hasPendingTasks.pipe(ft(r=>!r)),this._injector=Ie(Nr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Cf;if(!this._injector.get(ax).done){let I=!o&&lA(r),x=!1;throw new je(405,x)}let a;o?a=r:a=this._injector.get(Uf).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=z2(a)?void 0:this._injector.get(Qi),l=i||a.selector,h=a.create(Uo.NULL,[],l,u),f=h.location.nativeElement,y=h.injector.get(ix,null);return y?.registerApplication(f),h.onDestroy(()=>{this.detachView(h.hostView),Mg(this.components,h),y?.unregisterApplication(f)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new je(101,!1);let i=Lt(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,Lt(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===Bb)throw new je(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:u}of this._views)U2(a,s,u)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>im(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>im(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Mg(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(na,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Mg(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new je(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Mg(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}var ef;function zm(e){ef??=new WeakMap;let t=ef.get(e);if(t)return t;let n=e.isStable.pipe(Yr(r=>r)).toPromise().then(()=>{});return ef.set(e,n),e.onDestroy(()=>ef?.delete(e)),n}function U2(e,t,n){!t&&!im(e)||V2(e,n,t)}function im(e){return vm(e)}function V2(e,t,n){let r;n?(r=0,e[He]|=1024):e[He]&64?r=0:r=1,zb(e,t,r)}var om=class{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},Gm=(()=>{let t=class t{compileModuleSync(r){return new rm(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=fA(r),s=gb(o.declarations).reduce((a,u)=>{let l=jo(u);return l&&a.push(new Ru(l)),a},[]);return new om(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Z2=(()=>{let t=class t{constructor(){this.zone=Ie(Qt),this.applicationRef=Ie(to)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function W2(e){return[{provide:Qt,useFactory:e},{provide:Fo,multi:!0,useFactory:()=>{let t=Ie(Z2,{optional:!0});return()=>t.initialize()}},{provide:Fo,multi:!0,useFactory:()=>{let t=Ie(X2);return()=>{t.initialize()}}},{provide:QA,useFactory:H2}]}function H2(){let e=Ie(Qt),t=Ie(Ni);return n=>e.runOutsideAngular(()=>t.handleError(n))}function Y2(e){let t=W2(()=>new Qt($2(e)));return Go([[],t])}function $2(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var X2=(()=>{let t=class t{constructor(){this.subscription=new on,this.initialized=!1,this.zone=Ie(Qt),this.pendingTasks=Ie(zu)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Qt.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Qt.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function J2(){return typeof $localize<"u"&&$localize.locale||bf}var Um=new qe("",{providedIn:"root",factory:()=>Ie(Um,Ke.Optional|Ke.SkipSelf)||J2()});var ux=new qe("");var sf=null;function q2(e=[],t){return Uo.create({name:t,providers:[{provide:Tf,useValue:"platform"},{provide:ux,useValue:new Set([()=>sf=null])},...e]})}function Q2(e=[]){if(sf)return sf;let t=q2(e);return sf=t,B2(),K2(t),t}function K2(e){e.get(xm,null)?.forEach(n=>n())}var Vu=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=eL;let e=t;return e})();function eL(e){return tL(Ei(),Or(),(e&16)===16)}function tL(e,t,n){if(Ef(e)&&!n){let r=Ks(e.index,t);return new qs(r,r)}else if(e.type&47){let r=t[Er];return new qs(r,t)}return null}function cx(e){try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=Q2(r),o=[Y2(),...n||[]],a=new Af({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(Qt);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(Ni,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:I=>{l.handleError(I)}})});let f=()=>a.destroy(),y=i.get(ux);return y.add(f),a.onDestroy(()=>{h.unsubscribe(),y.delete(f)}),G2(l,u,()=>{let I=a.get(ax);return I.runInitializers(),I.donePromise.then(()=>{let x=a.get(Um,bf);O2(x||bf);let S=a.get(to);return t!==void 0&&S.bootstrap(t),S})})})}catch(t){return Promise.reject(t)}}var Yw=!1,nL=!1;function rL(){Yw||(Yw=!0,xO(),T2(),F2(),E2(),x2(),w2(),qR(),uR(),k2())}function iL(e,t){return zm(e)}function lx(){return Go([{provide:Ql,useFactory:()=>{let e=!0;return Kl()&&(e=!!Ie(Vo,{optional:!0})?.get(lb,null)),e&&Bu("NgHydration"),e}},{provide:Fo,useValue:()=>{nL=!!Ie(NO,{optional:!0}),Kl()&&Ie(Ql)&&(oL(),rL())},multi:!0},{provide:pb,useFactory:()=>Kl()&&Ie(Ql)},{provide:na,useFactory:()=>{if(Kl()&&Ie(Ql)){let e=Ie(to),t=Ie(Uo);return()=>{iL(e,t).then(()=>{UR(e)})}}return()=>{}},multi:!0}])}function oL(){let e=Lf(),t;for(let n of e.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===AO){t=n;break}if(!t)throw new je(-507,!1)}var mx=null;function ra(){return mx}function vx(e){mx??=e}var Yf=class{};var dr=new qe(""),yx=(()=>{let t=class t{historyGo(r){throw new Error("")}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ye({token:t,factory:()=>Ie(lL),providedIn:"platform"});let e=t;return e})();var lL=(()=>{let t=class t extends yx{constructor(){super(),this._doc=Ie(dr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ra().getBaseHref(this._doc)}onPopState(r){let i=ra().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=ra().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ye({token:t,factory:()=>new t,providedIn:"platform"});let e=t;return e})();function Ix(e,t){if(e.length==0)return t;if(t.length==0)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,n==2?e+t.substring(1):n==1?e+t:e+"/"+t}function fx(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,r=n-(e[n-1]==="/"?1:0);return e.slice(0,r)+e.slice(n)}function Wo(e){return e&&e[0]!=="?"?"?"+e:e}var Xf=(()=>{let t=class t{historyGo(r){throw new Error("")}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ye({token:t,factory:()=>Ie(Cx),providedIn:"root"});let e=t;return e})(),fL=new qe(""),Cx=(()=>{let t=class t extends Xf{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Ie(dr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Ix(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Wo(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Wo(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Wo(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};t.\u0275fac=function(i){return new(i||t)(mt(yx),mt(fL,8))},t.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Wu=(()=>{let t=class t{constructor(r){this._subject=new Xr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=pL(fx(dx(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Wo(i))}normalize(r){return t.stripTrailingSlash(hL(this._basePath,dx(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Wo(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Wo(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};t.normalizeQueryParams=Wo,t.joinWithSlash=Ix,t.stripTrailingSlash=fx,t.\u0275fac=function(i){return new(i||t)(mt(Xf))},t.\u0275prov=Ye({token:t,factory:()=>dL(),providedIn:"root"});let e=t;return e})();function dL(){return new Wu(mt(Xf))}function hL(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function dx(e){return e.replace(/\/index.html$/,"")}function pL(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}function Vm(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var Zm="browser",gL="server";function wx(e){return e===Zm}function Hu(e){return e===gL}var $f=class{};var qf=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var Nx=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Nx||{}),Wm=class{constructor(t,n=Ex.Ok,r="OK"){this.headers=t.headers||new qf,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}};var Qf=class e extends Wm{constructor(t={}){super(t),this.type=Nx.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};var Ex=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(Ex||{});var vL=new qe("");var Ax="b",bx="h",xx="s",Dx="st",Mx="u",Tx="rt",Jf=new qe(""),yL=["GET","HEAD"];function IL(e,t){let f=Ie(Jf),{isCacheActive:n}=f,r=EC(f,["isCacheActive"]),{transferCache:i,method:o}=e;if(!n||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!yL.includes(o)||i===!1||r.filter?.(e)===!1)return t(e);let s=Ie(Vo),a=wL(e),u=s.get(a,null),l=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(l=i.includeHeaders),u){let{[Ax]:y,[Tx]:I,[bx]:x,[xx]:S,[Dx]:N,[Mx]:P}=u,U=y;switch(I){case"arraybuffer":U=new TextEncoder().encode(y).buffer;break;case"blob":U=new Blob([y]);break}let H=new qf(x);return Ge(new Qf({body:U,headers:H,status:S,statusText:N,url:P}))}let h=Hu(Ie(Rr));return t(e).pipe(an(y=>{y instanceof Qf&&h&&s.set(a,{[Ax]:y.body,[bx]:CL(y.headers,l),[xx]:y.status,[Dx]:y.statusText,[Mx]:y.url||"",[Tx]:e.responseType})}))}function CL(e,t){if(!t)return{};let n={};for(let r of t){let i=e.getAll(r);i!==null&&(n[r]=i)}return n}function Sx(e){return[...e.keys()].sort().map(t=>`${t}=${e.getAll(t)}`).join("&")}function wL(e){let{params:t,method:n,responseType:r,url:i}=e,o=Sx(t),s=e.serializeBody();s instanceof URLSearchParams?s=Sx(s):typeof s!="string"&&(s="");let a=[n,r,i,s,o].join("|"),u=AL(a);return u}function AL(e){let t=0;for(let n of e)t=Math.imul(31,t)+n.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function Px(e){return[{provide:Jf,useFactory:()=>(Bu("NgHttpTransferCache"),Ne({isCacheActive:!0},e))},{provide:vL,useValue:IL,multi:!0,deps:[Vo,Jf]},{provide:na,multi:!0,useFactory:()=>{let t=Ie(to),n=Ie(Jf);return()=>{zm(t).then(()=>{n.isCacheActive=!1})}}}]}var $m=class extends Yf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Xm=class e extends $m{static makeCurrent(){vx(new e)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=xL();return n==null?null:DL(n)}resetBaseElement(){Yu=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Vm(document.cookie,t)}},Yu=null;function xL(){return Yu=Yu||document.querySelector("base"),Yu?Yu.getAttribute("href"):null}function DL(e){return new URL(e,document.baseURI).pathname}var ML=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ye({token:t,factory:t.\u0275fac});let e=t;return e})(),Jm=new qe(""),kx=(()=>{let t=class t{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new je(5101,!1);return this._eventNameToPlugin.set(r,i),i}};t.\u0275fac=function(i){return new(i||t)(mt(Jm),mt(Qt))},t.\u0275prov=Ye({token:t,factory:t.\u0275fac});let e=t;return e})(),Kf=class{constructor(t){this._doc=t}},Hm="ng-app-id",_x=(()=>{let t=class t{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Hu(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Hm}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Hm),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Hm,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};t.\u0275fac=function(i){return new(i||t)(mt(dr),mt(kf),mt(Dm,8),mt(Rr))},t.\u0275prov=Ye({token:t,factory:t.\u0275fac});let e=t;return e})(),Ym={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Km=/%COMP%/g,Fx="%COMP%",TL=`_nghost-${Fx}`,SL=`_ngcontent-${Fx}`,NL=!0,EL=new qe("",{providedIn:"root",factory:()=>NL});function PL(e){return SL.replace(Km,e)}function OL(e){return TL.replace(Km,e)}function jx(e,t){return t.map(n=>n.replace(Km,e))}var Ox=(()=>{let t=class t{constructor(r,i,o,s,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Hu(u),this.defaultRenderer=new $u(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===fi.ShadowDom&&(i=en(Ne({},i),{encapsulation:fi.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof ed?o.applyToHost(r):o instanceof Xu&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(i.encapsulation){case fi.Emulated:s=new ed(l,h,i,this.appId,f,a,u,y);break;case fi.ShadowDom:return new qm(l,h,r,i,a,u,this.nonce,y);default:s=new Xu(l,h,i,f,a,u,y);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(i){return new(i||t)(mt(kx),mt(_x),mt(kf),mt(EL),mt(dr),mt(Rr),mt(Qt),mt(Dm))},t.\u0275prov=Ye({token:t,factory:t.\u0275fac});let e=t;return e})(),$u=class{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Ym[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Rx(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Rx(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new je(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=Ym[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=Ym[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Zo.DashCase|Zo.Important)?t.style.setProperty(n,r,i&Zo.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Zo.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if(typeof t=="string"&&(t=ra().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function Rx(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var qm=class extends $u{constructor(t,n,r,i,o,s,a,u){super(t,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=jx(i.id,i.styles);for(let h of l){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Xu=class extends $u{constructor(t,n,r,i,o,s,a,u){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?jx(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ed=class extends Xu{constructor(t,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(t,n,r,o,s,a,u,l),this.contentAttr=PL(l),this.hostAttr=OL(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}},RL=(()=>{let t=class t extends Kf{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};t.\u0275fac=function(i){return new(i||t)(mt(dr))},t.\u0275prov=Ye({token:t,factory:t.\u0275fac});let e=t;return e})(),Lx=["alt","control","meta","shift"],LL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kL={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},_L=(()=>{let t=class t extends Kf{constructor(r){super(r)}supports(r){return t.parseEventName(r)!=null}addEventListener(r,i,o){let s=t.parseEventName(i),a=t.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ra().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=t._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),Lx.forEach(h=>{let f=i.indexOf(h);f>-1&&(i.splice(f,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=LL[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Lx.forEach(a=>{if(a!==o){let u=kL[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{t.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};t.\u0275fac=function(i){return new(i||t)(mt(dr))},t.\u0275prov=Ye({token:t,factory:t.\u0275fac});let e=t;return e})();function Bx(e,t){return cx(Ne({rootComponent:e},FL(t)))}function FL(e){return{appProviders:[...UL,...e?.providers??[]],platformProviders:GL}}function jL(){Xm.makeCurrent()}function BL(){return new Ni}function zL(){return sb(document),document}var GL=[{provide:Rr,useValue:Zm},{provide:xm,useValue:jL,multi:!0},{provide:dr,useFactory:zL,deps:[]}];var UL=[{provide:Tf,useValue:"root"},{provide:Ni,useFactory:BL,deps:[]},{provide:Jm,useClass:RL,multi:!0,deps:[dr,Qt,Rr]},{provide:Jm,useClass:_L,multi:!0,deps:[dr]},Ox,_x,kx,{provide:Ou,useExisting:Ox},{provide:$f,useClass:ML,deps:[]},[]];var zx=(()=>{let t=class t{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};t.\u0275fac=function(i){return new(i||t)(mt(dr))},t.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Qm=function(e){return e[e.NoHttpTransferCache=0]="NoHttpTransferCache",e[e.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",e}(Qm||{});function Gx(...e){let t=[],n=new Set,r=n.has(Qm.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of e)n.add(o),i.length&&t.push(i);return Go([[],lx(),n.has(Qm.NoHttpTransferCache)||r?[]:Px({}),t])}var Xe="primary",lc=Symbol("RouteTitle"),iv=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ua(e){return new iv(e)}function ZL(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function WL(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!mi(e[n],t[n]))return!1;return!0}function mi(e,t){let n=e?ov(e):void 0,r=t?ov(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Yx(e[i],t[i]))return!1;return!0}function ov(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Yx(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function $x(e){return e.length>0?e[e.length-1]:null}function io(e){return ug(e)?e:Uu(e)?tn(Promise.resolve(e)):Ge(e)}var HL={exact:Jx,subset:qx},Xx={exact:YL,subset:$L,ignored:()=>!0};function Ux(e,t,n){return HL[n.paths](e.root,t.root,n.matrixParams)&&Xx[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function YL(e,t){return mi(e,t)}function Jx(e,t,n){if(!Yo(e.segments,t.segments)||!rd(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!Jx(e.children[r],t.children[r],n))return!1;return!0}function $L(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Yx(e[n],t[n]))}function qx(e,t,n){return Qx(e,t,t.segments,n)}function Qx(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!Yo(i,n)||t.hasChildren()||!rd(i,n,r))}else if(e.segments.length===n.length){if(!Yo(e.segments,n)||!rd(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!qx(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Yo(e.segments,i)||!rd(e.segments,i,r)||!e.children[Xe]?!1:Qx(e.children[Xe],t,o,r)}}function rd(e,t,n){return t.every((r,i)=>Xx[n](e[i].parameters,r.parameters))}var no=class{constructor(t=new wt([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ua(this.queryParams),this._queryParamMap}toString(){return qL.serialize(this)}},wt=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return id(this)}},Ho=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=ua(this.parameters),this._parameterMap}toString(){return eD(this)}};function XL(e,t){return Yo(e,t)&&e.every((n,r)=>mi(n.parameters,t[r].parameters))}function Yo(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function JL(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===Xe&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==Xe&&(n=n.concat(t(i,r)))}),n}var Pv=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ye({token:t,factory:()=>new sd,providedIn:"root"});let e=t;return e})(),sd=class{parse(t){let n=new av(t);return new no(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Ju(t.root,!0)}`,r=ek(t.queryParams),i=typeof t.fragment=="string"?`#${QL(t.fragment)}`:"";return`${n}${r}${i}`}},qL=new sd;function id(e){return e.segments.map(t=>eD(t)).join("/")}function Ju(e,t){if(!e.hasChildren())return id(e);if(t){let n=e.children[Xe]?Ju(e.children[Xe],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==Xe&&r.push(`${i}:${Ju(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=JL(e,(r,i)=>i===Xe?[Ju(e.children[Xe],!1)]:[`${i}:${Ju(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[Xe]!=null?`${id(e)}/${n[0]}`:`${id(e)}/(${n.join("//")})`}}function Kx(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function td(e){return Kx(e).replace(/%3B/gi,";")}function QL(e){return encodeURI(e)}function sv(e){return Kx(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function od(e){return decodeURIComponent(e)}function Vx(e){return od(e.replace(/\+/g,"%20"))}function eD(e){return`${sv(e.path)}${KL(e.parameters)}`}function KL(e){return Object.entries(e).map(([t,n])=>`;${sv(t)}=${sv(n)}`).join("")}function ek(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${td(n)}=${td(i)}`).join("&"):`${td(n)}=${td(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var tk=/^[^\/()?;#]+/;function ev(e){let t=e.match(tk);return t?t[0]:""}var nk=/^[^\/()?;=#]+/;function rk(e){let t=e.match(nk);return t?t[0]:""}var ik=/^[^=?&#]+/;function ok(e){let t=e.match(ik);return t?t[0]:""}var sk=/^[^&#]+/;function ak(e){let t=e.match(sk);return t?t[0]:""}var av=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new wt([],{}):new wt([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Xe]=new wt(t,n)),r}parseSegment(){let t=ev(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new je(4009,!1);return this.capture(t),new Ho(od(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=rk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=ev(this.remaining);i&&(r=i,this.capture(r))}t[od(n)]=od(r)}parseQueryParam(t){let n=ok(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=ak(this.remaining);s&&(r=s,this.capture(r))}let i=Vx(n),o=Vx(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ev(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new je(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Xe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[Xe]:new wt([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new je(4011,!1)}};function tD(e){return e.segments.length>0?new wt([],{[Xe]:e}):e}function nD(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=nD(i);if(r===Xe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new wt(e.segments,t);return uk(n)}function uk(e){if(e.numberOfChildren===1&&e.children[Xe]){let t=e.children[Xe];return new wt(e.segments.concat(t.segments),t.children)}return e}function ca(e){return e instanceof no}function ck(e,t,n=null,r=null){let i=rD(e);return iD(i,t,n,r)}function rD(e){let t;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new wt(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=tD(r);return t??i}function iD(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return tv(i,i,i,n,r);let o=lk(t);if(o.toRoot())return tv(i,i,new wt([],{}),n,r);let s=fk(o,i,e),a=s.processChildren?Ku(s.segmentGroup,s.index,o.commands):sD(s.segmentGroup,s.index,o.commands);return tv(i,s.segmentGroup,a,n,r)}function ad(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function nc(e){return typeof e=="object"&&e!=null&&e.outlets}function tv(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;e===t?s=n:s=oD(e,t,n);let a=tD(nD(s));return new no(a,o,i)}function oD(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=oD(o,t,n)}),new wt(e.segments,r)}var ud=class{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&ad(r[0]))throw new je(4003,!1);let i=r.find(nc);if(i&&i!==$x(r))throw new je(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function lk(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new ud(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ud(n,t,r)}var sa=class{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function fk(e,t,n){if(e.isAbsolute)return new sa(t,!0,0);if(!n)return new sa(t,!1,NaN);if(n.parent===null)return new sa(n,!0,0);let r=ad(e.commands[0])?0:1,i=n.segments.length-1+r;return dk(n,i,e.numberOfDoubleDots)}function dk(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new je(4005,!1);i=r.segments.length}return new sa(r,!1,i-o)}function hk(e){return nc(e[0])?e[0].outlets:{[Xe]:e}}function sD(e,t,n){if(e??=new wt([],{}),e.segments.length===0&&e.hasChildren())return Ku(e,t,n);let r=pk(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new wt(e.segments.slice(0,r.pathIndex),{});return o.children[Xe]=new wt(e.segments.slice(r.pathIndex),e.children),Ku(o,0,i)}else return r.match&&i.length===0?new wt(e.segments,{}):r.match&&!e.hasChildren()?uv(e,t,n):r.match?Ku(e,0,i):uv(e,t,n)}function Ku(e,t,n){if(n.length===0)return new wt(e.segments,{});{let r=hk(n),i={};if(Object.keys(r).some(o=>o!==Xe)&&e.children[Xe]&&e.numberOfChildren===1&&e.children[Xe].segments.length===0){let o=Ku(e.children[Xe],t,n);return new wt(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=sD(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new wt(e.segments,i)}}function pk(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(nc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!Wx(u,l,s))return o;r+=2}else{if(!Wx(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function uv(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(nc(o)){let u=gk(o.outlets);return new wt(r,u)}if(i===0&&ad(n[0])){let u=e.segments[t];r.push(new Ho(u.path,Zx(n[0]))),i++;continue}let s=nc(o)?o.outlets[Xe]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&ad(a)?(r.push(new Ho(s,Zx(a))),i+=2):(r.push(new Ho(s,{})),i++)}return new wt(r,{})}function gk(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=uv(new wt([],{}),0,r))}),t}function Zx(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function Wx(e,t,n){return e==n.path&&mi(t,n.parameters)}var ec="imperative",Cn=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Cn||{}),Lr=class{constructor(t,n){this.id=t,this.url=n}},rc=class extends Lr{constructor(t,n,r="imperative",i=null){super(t,n),this.type=Cn.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},$o=class extends Lr{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=Cn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},pr=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(pr||{}),cv=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(cv||{}),ro=class extends Lr{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=Cn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Xo=class extends Lr{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=Cn.NavigationSkipped}},ic=class extends Lr{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=Cn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},cd=class extends Lr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=Cn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lv=class extends Lr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=Cn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fv=class extends Lr{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Cn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},dv=class extends Lr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=Cn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hv=class extends Lr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=Cn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pv=class{constructor(t){this.route=t,this.type=Cn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},gv=class{constructor(t){this.route=t,this.type=Cn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},mv=class{constructor(t){this.snapshot=t,this.type=Cn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vv=class{constructor(t){this.snapshot=t,this.type=Cn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yv=class{constructor(t){this.snapshot=t,this.type=Cn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Iv=class{constructor(t){this.snapshot=t,this.type=Cn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var oc=class{},sc=class{constructor(t){this.url=t}};var Cv=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new gd,this.attachRef=null}},gd=(()=>{let t=class t{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Cv,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),ld=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=wv(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=wv(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Av(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Av(t,this._root).map(n=>n.value)}};function wv(e,t){if(e===t.value)return t;for(let n of t.children){let r=wv(e,n);if(r)return r}return null}function Av(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Av(e,n);if(r.length)return r.unshift(t),r}return[]}var hr=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function oa(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var fd=class extends ld{constructor(t,n){super(t),this.snapshot=n,Rv(this,t)}toString(){return this.snapshot.toString()}};function aD(e){let t=mk(e),n=new yn([new Ho("",{})]),r=new yn({}),i=new yn({}),o=new yn({}),s=new yn(""),a=new la(n,r,o,s,i,Xe,e,t.root);return a.snapshot=t.root,new fd(new hr(a,[]),t)}function mk(e){let t={},n={},r={},i="",o=new ac([],t,r,i,n,Xe,e,null,{});return new dd("",new hr(o,[]))}var la=class{constructor(t,n,r,i,o,s,a,u){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ft(l=>l[lc]))??Ge(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ft(t=>ua(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ft(t=>ua(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ov(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:Ne(Ne({},t.params),e.params),data:Ne(Ne({},t.data),e.data),resolve:Ne(Ne(Ne(Ne({},e.data),t.data),i?.data),e._resolvedData)}:r={params:Ne({},e.params),data:Ne({},e.data),resolve:Ne(Ne({},e.data),e._resolvedData??{})},i&&cD(i)&&(r.resolve[lc]=i.title),r}var ac=class{get title(){return this.data?.[lc]}constructor(t,n,r,i,o,s,a,u,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ua(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ua(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},dd=class extends ld{constructor(t,n){super(n),this.url=t,Rv(this,n)}toString(){return uD(this._root)}};function Rv(e,t){t.value._routerState=e,t.children.forEach(n=>Rv(e,n))}function uD(e){let t=e.children.length>0?` { ${e.children.map(uD).join(", ")} } `:"";return`${e.value}${t}`}function nv(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,mi(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),mi(t.params,n.params)||e.paramsSubject.next(n.params),WL(t.url,n.url)||e.urlSubject.next(n.url),mi(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function bv(e,t){let n=mi(e.params,t.params)&&XL(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||bv(e.parent,t.parent))}function cD(e){return typeof e.title=="string"||e.title===null}var Lv=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Xe,this.activateEvents=new Xr,this.deactivateEvents=new Xr,this.attachEvents=new Xr,this.detachEvents=new Xr,this.parentContexts=Ie(gd),this.location=Ie(Vf),this.changeDetector=Ie(Vu),this.environmentInjector=Ie(Nr),this.inputBinder=Ie(kv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new je(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new je(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new je(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new je(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new xv(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=fm({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Pf]});let e=t;return e})(),xv=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===la?this.route:t===gd?this.childContexts:this.parent.get(t,n)}},kv=new qe("");function vk(e,t,n){let r=uc(e,t._root,n?n._root:void 0);return new fd(r,t)}function uc(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=yk(e,t,n);return new hr(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>uc(e,a)),s}}let r=Ik(t.value),i=t.children.map(o=>uc(e,o));return new hr(r,i)}}function yk(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return uc(e,r,i);return uc(e,r)})}function Ik(e){return new la(new yn(e.url),new yn(e.params),new yn(e.queryParams),new yn(e.fragment),new yn(e.data),e.outlet,e.component,e)}var lD="ngNavigationCancelingError";function fD(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=ca(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=dD(!1,pr.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function dD(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[lD]=!0,n.cancellationCode=t,n}function Ck(e){return hD(e)&&ca(e.url)}function hD(e){return!!e&&e[lD]}var wk=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=Qs({type:t,selectors:[["ng-component"]],standalone:!0,features:[ta],decls:1,vars:0,template:function(i,o){i&1&&eo(0,"router-outlet")},dependencies:[Lv],encapsulation:2});let e=t;return e})();function Ak(e,t){return e.providers&&!e._injector&&(e._injector=Bm(e.providers,t,`Route: ${e.path}`)),e._injector??t}function _v(e){let t=e.children&&e.children.map(_v),n=t?en(Ne({},e),{children:t}):Ne({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Xe&&(n.component=wk),n}function vi(e){return e.outlet||Xe}function bk(e,t){let n=e.filter(r=>vi(r)===t);return n.push(...e.filter(r=>vi(r)!==t)),n}function fc(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var xk=(e,t,n,r)=>ft(i=>(new Dv(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),Dv=class{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),nv(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=oa(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=oa(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=oa(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=oa(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Iv(o.value.snapshot))}),t.children.length&&this.forwardEvent(new vv(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(nv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),nv(a.route.value),this.activateChildRoutes(t,null,s.children)}else{let a=fc(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}},hd=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},aa=class{constructor(t,n){this.component=t,this.route=n}};function Dk(e,t,n){let r=e._root,i=t?t._root:null;return qu(r,i,n,[r.value])}function Mk(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function da(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!qw(e)?e:t.get(e):r}function qu(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=oa(t);return e.children.forEach(s=>{Tk(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>tc(a,n.getContext(s),i)),i}function Tk(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Sk(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new hd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?qu(e,t,a?a.children:null,r,i):qu(e,t,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new aa(a.outlet.component,s))}else s&&tc(t,a,i),i.canActivateChecks.push(new hd(r)),o.component?qu(e,null,a?a.children:null,r,i):qu(e,null,n,r,i);return i}function Sk(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Yo(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Yo(e.url,t.url)||!mi(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bv(e,t)||!mi(e.queryParams,t.queryParams);case"paramsChange":default:return!bv(e,t)}}function tc(e,t,n){let r=oa(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?tc(s,t.children.getContext(o),n):tc(s,null,n):tc(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new aa(t.outlet.component,i)):n.canDeactivateChecks.push(new aa(null,i)):n.canDeactivateChecks.push(new aa(null,i))}function dc(e){return typeof e=="function"}function Nk(e){return typeof e=="boolean"}function Ek(e){return e&&dc(e.canLoad)}function Pk(e){return e&&dc(e.canActivate)}function Ok(e){return e&&dc(e.canActivateChild)}function Rk(e){return e&&dc(e.canDeactivate)}function Lk(e){return e&&dc(e.canMatch)}function pD(e){return e instanceof xi||e?.name==="EmptyError"}var nd=Symbol("INITIAL_VALUE");function fa(){return Mr(e=>Xl(e.map(t=>t.pipe(Di(1),hg(nd)))).pipe(ft(t=>{for(let n of t)if(n!==!0){if(n===nd)return nd;if(n===!1||n instanceof no)return n}return!0}),Dr(t=>t!==nd),Di(1)))}function kk(e,t){return sn(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Ge(en(Ne({},n),{guardsResult:!0})):_k(s,r,i,e).pipe(sn(a=>a&&Nk(a)?Fk(r,o,e,t):Ge(a)),ft(a=>en(Ne({},n),{guardsResult:a})))})}function _k(e,t,n,r){return tn(e).pipe(sn(i=>Uk(i.component,i.route,n,t,r)),Yr(i=>i!==!0,!0))}function Fk(e,t,n,r){return tn(t).pipe(Lo(i=>zs(Bk(i.route.parent,r),jk(i.route,r),Gk(e,i.path,n),zk(e,i.route,n))),Yr(i=>i!==!0,!0))}function jk(e,t){return e!==null&&t&&t(new yv(e)),Ge(!0)}function Bk(e,t){return e!==null&&t&&t(new mv(e)),Ge(!0)}function zk(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return Ge(!0);let i=r.map(o=>Jl(()=>{let s=fc(t)??n,a=da(o,s),u=Pk(a)?a.canActivate(t,e):Ki(s,()=>a(t,e));return io(u).pipe(Yr())}));return Ge(i).pipe(fa())}function Gk(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>Mk(s)).filter(s=>s!==null).map(s=>Jl(()=>{let a=s.guards.map(u=>{let l=fc(s.node)??n,h=da(u,l),f=Ok(h)?h.canActivateChild(r,e):Ki(l,()=>h(r,e));return io(f).pipe(Yr())});return Ge(a).pipe(fa())}));return Ge(o).pipe(fa())}function Uk(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return Ge(!0);let s=o.map(a=>{let u=fc(t)??i,l=da(a,u),h=Rk(l)?l.canDeactivate(e,t,n,r):Ki(u,()=>l(e,t,n,r));return io(h).pipe(Yr())});return Ge(s).pipe(fa())}function Vk(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return Ge(!0);let o=i.map(s=>{let a=da(s,e),u=Ek(a)?a.canLoad(t,n):Ki(e,()=>a(t,n));return io(u)});return Ge(o).pipe(fa(),gD(r))}function gD(e){return ig(an(t=>{if(ca(t))throw fD(e,t)}),ft(t=>t===!0))}function Zk(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return Ge(!0);let o=i.map(s=>{let a=da(s,e),u=Lk(a)?a.canMatch(t,n):Ki(e,()=>a(t,n));return io(u)});return Ge(o).pipe(fa(),gD(r))}var cc=class{constructor(t){this.segmentGroup=t||null}},pd=class extends Error{constructor(t){super(),this.urlTree=t}};function ia(e){return Bs(new cc(e))}function Wk(e){return Bs(new je(4e3,!1))}function Hk(e){return Bs(dD(!1,pr.GuardRejected))}var Mv=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Ge(r);if(i.numberOfChildren>1||!i.children[Xe])return Wk(t.redirectTo);i=i.children[Xe]}}applyRedirectCommands(t,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n.startsWith("/"))throw new pd(i);return i}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new no(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(t,u,r,i)}),new wt(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new je(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}},Tv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Yk(e,t,n,r,i){let o=Fv(e,t,n);return o.matched?(r=Ak(t,r),Zk(r,t,n,i).pipe(ft(s=>s===!0?o:Ne({},Tv)))):Ge(o)}function Fv(e,t,n){if(t.path==="**")return $k(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?Ne({},Tv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||ZL)(n,e,t);if(!i)return Ne({},Tv);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?Ne(Ne({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function $k(e){return{matched:!0,parameters:e.length>0?$x(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Hx(e,t,n,r){return n.length>0&&qk(e,n,r)?{segmentGroup:new wt(t,Jk(r,new wt(n,e.children))),slicedSegments:[]}:n.length===0&&Qk(e,n,r)?{segmentGroup:new wt(e.segments,Xk(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new wt(e.segments,e.children),slicedSegments:n}}function Xk(e,t,n,r){let i={};for(let o of n)if(md(e,t,o)&&!r[vi(o)]){let s=new wt([],{});i[vi(o)]=s}return Ne(Ne({},r),i)}function Jk(e,t){let n={};n[Xe]=t;for(let r of e)if(r.path===""&&vi(r)!==Xe){let i=new wt([],{});n[vi(r)]=i}return n}function qk(e,t,n){return n.some(r=>md(e,t,r)&&vi(r)!==Xe)}function Qk(e,t,n){return n.some(r=>md(e,t,r))}function md(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Kk(e,t,n,r){return vi(e)!==r&&(r===Xe||!md(t,n,e))?!1:Fv(t,e,n).matched}function e_(e,t,n){return t.length===0&&!e.children[n]}var Sv=class{};function t_(e,t,n,r,i,o,s="emptyOnly"){return new Nv(e,t,n,r,i,s,o).recognize()}var n_=31,Nv=class{constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Mv(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new je(4002,`'${t.segmentGroup}'`)}recognize(){let t=Hx(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(ft(n=>{let r=new ac([],Object.freeze({}),Object.freeze(Ne({},this.urlTree.queryParams)),this.urlTree.fragment,{},Xe,this.rootComponentType,null,{}),i=new hr(r,n),o=new dd("",i),s=ck(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,Xe).pipe(Wi(r=>{if(r instanceof pd)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof cc?this.noMatchError(r):r}))}inheritParamsAndData(t,n){let r=t.value,i=Ov(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),t.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(t,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0).pipe(ft(o=>o instanceof hr?[o]:[]))}processChildren(t,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return tn(i).pipe(Lo(o=>{let s=r.children[o],a=bk(n,o);return this.processSegmentGroup(t,a,s,o)}),dg((o,s)=>(o.push(...s),o)),Hi(null),fg(),sn(o=>{if(o===null)return ia(r);let s=mD(o);return r_(s),Ge(s)}))}processSegment(t,n,r,i,o,s){return tn(n).pipe(Lo(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,i,o,s).pipe(Wi(u=>{if(u instanceof cc)return Ge(null);throw u}))),Yr(a=>!!a),Wi(a=>{if(pD(a))return e_(r,i,o)?Ge(new Sv):ia(r);throw a}))}processSegmentAgainstRoute(t,n,r,i,o,s,a){return Kk(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s):ia(i):ia(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){let{matched:a,consumedSegments:u,positionalParamSegments:l,remainingSegments:h}=Fv(n,i,o);if(!a)return ia(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>n_&&(this.allowRedirects=!1));let f=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,f).pipe(sn(y=>this.processSegment(t,r,n,y.concat(h),s,!1)))}matchSegmentAgainstRoute(t,n,r,i,o){let s=Yk(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Mr(a=>a.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Mr(({routes:u})=>{let l=r._loadedInjector??t,{consumedSegments:h,remainingSegments:f,parameters:y}=a,I=new ac(h,y,Object.freeze(Ne({},this.urlTree.queryParams)),this.urlTree.fragment,o_(r),vi(r),r.component??r._loadedComponent??null,r,s_(r)),{segmentGroup:x,slicedSegments:S}=Hx(n,h,f,u);if(S.length===0&&x.hasChildren())return this.processChildren(l,u,x).pipe(ft(P=>P===null?null:new hr(I,P)));if(u.length===0&&S.length===0)return Ge(new hr(I,[]));let N=vi(r)===o;return this.processSegment(l,u,x,S,N?Xe:o,!0).pipe(ft(P=>new hr(I,P instanceof hr?[P]:[])))}))):ia(n)))}getChildConfig(t,n,r){return n.children?Ge({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?Ge({routes:n._loadedRoutes,injector:n._loadedInjector}):Vk(t,n,r,this.urlSerializer).pipe(sn(i=>i?this.configLoader.loadChildren(t,n).pipe(an(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Hk(n))):Ge({routes:[],injector:t})}};function r_(e){e.sort((t,n)=>t.value.outlet===Xe?-1:n.value.outlet===Xe?1:t.value.outlet.localeCompare(n.value.outlet))}function i_(e){let t=e.value.routeConfig;return t&&t.path===""}function mD(e){let t=[],n=new Set;for(let r of e){if(!i_(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=mD(r.children);t.push(new hr(r.value,i))}return t.filter(r=>!n.has(r))}function o_(e){return e.data||{}}function s_(e){return e.resolve||{}}function a_(e,t,n,r,i,o){return sn(s=>t_(e,t,n,r,s.extractedUrl,i,o).pipe(ft(({state:a,tree:u})=>en(Ne({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function u_(e,t){return sn(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Ge(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of vD(u))s.add(l);let a=0;return tn(s).pipe(Lo(u=>o.has(u)?c_(u,r,e,t):(u.data=Ov(u,u.parent,e).resolve,Ge(void 0))),an(()=>a++),Us(1),sn(u=>a===s.size?Ge(n):ur))})}function vD(e){let t=e.children.map(n=>vD(n)).flat();return[e,...t]}function c_(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!cD(i)&&(o[lc]=i.title),l_(o,e,t,r).pipe(ft(s=>(e._resolvedData=s,e.data=Ov(e,e.parent,n).resolve,null)))}function l_(e,t,n,r){let i=ov(e);if(i.length===0)return Ge({});let o={};return tn(i).pipe(sn(s=>f_(e[s],t,n,r).pipe(Yr(),an(a=>{o[s]=a}))),Us(1),lg(o),Wi(s=>pD(s)?ur:Bs(s)))}function f_(e,t,n,r){let i=fc(t)??r,o=da(e,i),s=o.resolve?o.resolve(t,n):Ki(i,()=>o(t,n));return io(s)}function rv(e){return Mr(t=>{let n=e(t);return n?tn(n).pipe(ft(()=>t)):Ge(t)})}var yD=(()=>{let t=class t{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===Xe);return i}getResolvedTitleForRoute(r){return r.data[lc]}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ye({token:t,factory:()=>Ie(d_),providedIn:"root"});let e=t;return e})(),d_=(()=>{let t=class t extends yD{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};t.\u0275fac=function(i){return new(i||t)(mt(zx))},t.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),jv=new qe("",{providedIn:"root",factory:()=>({})}),Bv=new qe(""),h_=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ie(Gm)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Ge(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=io(r.loadComponent()).pipe(ft(ID),an(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Gs(()=>{this.componentLoaders.delete(r)})),o=new js(i,()=>new Fn).pipe(Fs());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ge({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=p_(i,this.compiler,r,this.onLoadEndListener).pipe(Gs(()=>{this.childrenLoaders.delete(i)})),a=new js(s,()=>new Fn).pipe(Fs());return this.childrenLoaders.set(i,a),a}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function p_(e,t,n,r){return io(e.loadChildren()).pipe(ft(ID),sn(i=>i instanceof Lu||Array.isArray(i)?Ge(i):tn(t.compileModuleAsync(i))),ft(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Bv,[],{optional:!0,self:!0}).flat()),{routes:s.map(_v),injector:o}}))}function g_(e){return e&&typeof e=="object"&&"default"in e}function ID(e){return g_(e)?e.default:e}var zv=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ye({token:t,factory:()=>Ie(m_),providedIn:"root"});let e=t;return e})(),m_=(()=>{let t=class t{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),v_=new qe("");var y_=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Fn,this.transitionAbortSubject=new Fn,this.configLoader=Ie(h_),this.environmentInjector=Ie(Nr),this.urlSerializer=Ie(Pv),this.rootContexts=Ie(gd),this.location=Ie(Wu),this.inputBindingEnabled=Ie(kv,{optional:!0})!==null,this.titleStrategy=Ie(yD),this.options=Ie(jv,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Ie(zv),this.createViewTransition=Ie(v_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ge(void 0),this.rootComponentType=null;let r=o=>this.events.next(new pv(o)),i=o=>this.events.next(new gv(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(en(Ne(Ne({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new yn({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ec,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Dr(s=>s.id!==0),ft(s=>en(Ne({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Mr(s=>{let a=!1,u=!1;return Ge(s).pipe(Mr(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",pr.SupersededByNewNavigation),ur;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?en(Ne({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&f!=="reload"){let y="";return this.events.next(new Xo(l.id,this.urlSerializer.serialize(l.rawUrl),y,cv.IgnoredSameUrlNavigation)),l.resolve(null),ur}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Ge(l).pipe(Mr(y=>{let I=this.transitions?.getValue();return this.events.next(new rc(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),I!==this.transitions?.getValue()?ur:Promise.resolve(y)}),a_(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),an(y=>{s.targetSnapshot=y.targetSnapshot,s.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=en(Ne({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let I=new cd(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(I)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:y,extractedUrl:I,source:x,restoredState:S,extras:N}=l,P=new rc(y,this.urlSerializer.serialize(I),x,S);this.events.next(P);let U=aD(this.rootComponentType).snapshot;return this.currentTransition=s=en(Ne({},l),{targetSnapshot:U,urlAfterRedirects:I,extras:en(Ne({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=I,Ge(s)}else{let y="";return this.events.next(new Xo(l.id,this.urlSerializer.serialize(l.extractedUrl),y,cv.IgnoredByUrlHandlingStrategy)),l.resolve(null),ur}}),an(l=>{let h=new lv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),ft(l=>(this.currentTransition=s=en(Ne({},l),{guards:Dk(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),kk(this.environmentInjector,l=>this.events.next(l)),an(l=>{if(s.guardsResult=l.guardsResult,ca(l.guardsResult))throw fD(this.urlSerializer,l.guardsResult);let h=new fv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Dr(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",pr.GuardRejected),!1)),rv(l=>{if(l.guards.canActivateChecks.length)return Ge(l).pipe(an(h=>{let f=new dv(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}),Mr(h=>{let f=!1;return Ge(h).pipe(u_(this.paramsInheritanceStrategy,this.environmentInjector),an({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(h,"",pr.NoDataFromResolver)}}))}),an(h=>{let f=new hv(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}))}),rv(l=>{let h=f=>{let y=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(f.routeConfig).pipe(an(I=>{f.component=I}),ft(()=>{})));for(let I of f.children)y.push(...h(I));return y};return Xl(h(l.targetSnapshot.root)).pipe(Hi(null),Di(1))}),rv(()=>this.afterPreactivation()),Mr(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,f=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return f?tn(f).pipe(ft(()=>s)):Ge(s)}),ft(l=>{let h=vk(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=en(Ne({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),an(()=>{this.events.next(new oc)}),xk(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Di(1),an({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $o(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),pg(this.transitionAbortSubject.pipe(an(l=>{throw l}))),Gs(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",pr.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Wi(l=>{if(u=!0,hD(l))this.events.next(new ro(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),Ck(l)?this.events.next(new sc(l.url)):s.resolve(!1);else{this.events.next(new ic(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return ur}))}))}cancelNavigationTransition(r,i,o){let s=new ro(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function I_(e){return e!==ec}var C_=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ye({token:t,factory:()=>Ie(w_),providedIn:"root"});let e=t;return e})(),Ev=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},w_=(()=>{let t=class t extends Ev{};t.\u0275fac=(()=>{let r;return function(o){return(r||(r=Am(t)))(o||t)}})(),t.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),CD=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ye({token:t,factory:()=>Ie(A_),providedIn:"root"});let e=t;return e})(),A_=(()=>{let t=class t extends CD{constructor(){super(...arguments),this.location=Ie(Wu),this.urlSerializer=Ie(Pv),this.options=Ie(jv,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Ie(zv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new no,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=aD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof rc)this.stateMemento=this.createStateMemento();else if(r instanceof Xo)this.rawUrlTree=i.initialUrl;else if(r instanceof cd){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof oc?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof ro&&(r.code===pr.GuardRejected||r.code===pr.NoDataFromResolver)?this.restoreHistory(i):r instanceof ic?this.restoreHistory(i,!0):r instanceof $o&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=Ne(Ne({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=Ne(Ne({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};t.\u0275fac=(()=>{let r;return function(o){return(r||(r=Am(t)))(o||t)}})(),t.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Qu=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Qu||{});function b_(e,t){e.events.pipe(Dr(n=>n instanceof $o||n instanceof ro||n instanceof ic||n instanceof Xo),ft(n=>n instanceof $o||n instanceof Xo?Qu.COMPLETE:(n instanceof ro?n.code===pr.Redirect||n.code===pr.SupersededByNewNavigation:!1)?Qu.REDIRECTING:Qu.FAILED),Dr(n=>n!==Qu.REDIRECTING),Di(1)).subscribe(()=>{t()})}function x_(e){throw e}var D_={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},M_={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},wD=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Ie(Hf),this.stateManager=Ie(CD),this.options=Ie(jv,{optional:!0})||{},this.pendingTasks=Ie(zu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Ie(y_),this.urlSerializer=Ie(Pv),this.location=Ie(Wu),this.urlHandlingStrategy=Ie(zv),this._events=new Fn,this.errorHandler=this.options.errorHandler||x_,this.navigated=!1,this.routeReuseStrategy=Ie(C_),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Ie(Bv,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Ie(kv,{optional:!0}),this.eventsSubscription=new on,this.isNgZoneEnabled=Ie(Qt)instanceof Qt&&Qt.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof ro&&i.code!==pr.Redirect&&i.code!==pr.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof $o)this.navigated=!0;else if(i instanceof sc){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),u={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||I_(o.source)};this.scheduleNavigation(a,ec,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}S_(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ec,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=Ne({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(_v),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,f=null;switch(u){case"merge":f=Ne(Ne({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let y;try{let I=o?o.snapshot:this.routerState.snapshot.root;y=rD(I)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),y=this.currentUrlTree.root}return iD(y,r,f,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=ca(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,ec,null,i)}navigate(r,i={skipLocationChange:!1}){return T_(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=Ne({},D_):i===!1?o=Ne({},M_):o=i,ca(r))return Ux(this.currentUrlTree,r,o);let s=this.parseUrl(r);return Ux(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((y,I)=>{u=y,l=I});let f=this.pendingTasks.add();return b_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(y=>Promise.reject(y))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function T_(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new je(4008,!1)}function S_(e){return!(e instanceof oc)&&!(e instanceof sc)}var N_=new qe("");function AD(e,...t){return Go([{provide:Bv,multi:!0,useValue:e},[],{provide:la,useFactory:E_,deps:[wD]},{provide:na,multi:!0,useFactory:P_},t.map(n=>n.\u0275providers)])}function E_(e){return e.routerState.root}function P_(){let e=Ie(Uo);return t=>{let n=e.get(to);if(t!==n.components[0])return;let r=e.get(wD),i=e.get(O_);e.get(R_)===1&&r.initialNavigation(),e.get(L_,null,Ke.Optional)?.setUpPreloading(),e.get(N_,null,Ke.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var O_=new qe("",{factory:()=>new Fn}),R_=new qe("",{providedIn:"root",factory:()=>1});var L_=new qe("");var bD=[];var xD={providers:[AD(bD),Gx()]};var v0={};Ht(v0,{absolute:()=>ij,bottom:()=>lj,ellipse:()=>dj,ellipseSpread:()=>fj,fn:()=>oj,left:()=>aj,line:()=>sj,right:()=>uj,top:()=>cj});var Pi={x:"x",y:"y",width:"w",height:"h",minimum:"s",maximum:"l",diagonal:"d"},k_=Object.keys(Pi).map(e=>Pi[e]).join(""),Gv="[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?",__=/\s/g,DD=new RegExp(`^(${Gv}\\*)?([${k_}])(/${Gv})?([-+]{1,2}${Gv})?$`,"g");function TD(e){throw new Error(`Invalid calc() expression: ${e}`)}function F_(e,t){let n=DD.exec(e.replace(__,""));n||TD(e),DD.lastIndex=0;let[,r,i,o,s]=n,{x:a,y:u,width:l,height:h}=t,f=0;switch(i){case Pi.width:{f=l;break}case Pi.height:{f=h;break}case Pi.x:{f=a;break}case Pi.y:{f=u;break}case Pi.minimum:{f=Math.min(h,l);break}case Pi.maximum:{f=Math.max(h,l);break}case Pi.diagonal:{f=Math.sqrt(h*h+l*l);break}}return r&&(f*=parseFloat(r)),o&&(f/=parseFloat(o.slice(1))),s&&(f+=j_(s)),f}function j_(e){if(!e)return 0;let[t]=e;switch(t){case"+":return parseFloat(e.substr(1));case"-":return-parseFloat(e.substr(1))}return parseFloat(e)}function kr(e){return typeof e=="string"&&e.includes("calc")}var SD="calc(",MD=SD.length;function _r(e,t){let n=e,r=0;do{let i=n.indexOf(SD,r);if(i===-1)return n;let o=i+MD,s=1;e:do{switch(n[o]){case"(":{s++;break}case")":{if(s--,s===0)break e;break}case void 0:TD(n)}o++}while(!0);let a=n.slice(i+MD,o);kr(a)&&(a=_r(a,t));let u=String(F_(a,t));n=n.slice(0,i)+u+n.slice(o+1),r=i+u.length}while(!0)}var An={};Ht(An,{Curve:()=>ut,Ellipse:()=>un,Line:()=>ge,Path:()=>be,Point:()=>k,Polygon:()=>jn,Polyline:()=>at,Rect:()=>fe,bezier:()=>K_,ellipse:()=>H_,intersection:()=>t3,line:()=>Oi,normalizeAngle:()=>dn,point:()=>pa,random:()=>vd,rect:()=>J_,scale:()=>G_,snapToGrid:()=>yi,toDeg:()=>Jo,toRad:()=>qt,types:()=>Re});var{round:B_,floor:z_,PI:ND}=Math,G_={linear:function(e,t,n){var r=e[1]-e[0],i=t[1]-t[0];return(n-e[0])/r*i+t[0]||0}},dn=function(e){return e%360+(e<0?360:0)},yi=function(e,t){return t*B_(e/t)},Jo=function(e){return 180*e/ND%360},qt=function(e,t){return t=t||!1,e=t?e:e%360,e*ND/180},vd=function(e,t){if(t===void 0)t=e===void 0?1:e,e=0;else if(t<e){let n=e;e=t,t=n}return z_(Math.random()*(t-e+1)+e)};var{cos:yd,sin:Uv,atan2:U_}=Math,Id=function(e,t){var n=qt(e.y),r=qt(t.y),i=e.x,o=t.x,s=qt(o-i),a=Uv(s)*yd(r),u=yd(n)*Uv(r)-Uv(n)*yd(r)*yd(s),l=Jo(U_(a,u)),h=["NE","E","SE","S","SW","W","NW","N"],f=l-22.5;return f<0&&(f+=360),f=parseInt(f/45),h[f]};var ha=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return(n-=i)*n+(r-=o)*r};var Cd=function(e,t){return Math.sqrt(ha(e,t))};var Re={Point:1,Line:2,Ellipse:3,Rect:4,Polyline:5,Polygon:6,Curve:7,Path:8};var{abs:wd,cos:Vv,sin:Zv,sqrt:ED,min:PD,max:OD,atan2:V_,round:RD,pow:Z_,PI:LD}=Math,k=function(e,t){if(!(this instanceof k))return new k(e,t);if(typeof e=="string"){var n=e.split(e.indexOf("@")===-1?" ":"@");e=parseFloat(n[0]),t=parseFloat(n[1])}else Object(e)===e&&(t=e.y,e=e.x);this.x=e===void 0?0:e,this.y=t===void 0?0:t};k.fromPolar=function(e,t,n){n=new k(n);var r=wd(e*Vv(t)),i=wd(e*Zv(t)),o=dn(Jo(t));return o<90?i=-i:o<180?(r=-r,i=-i):o<270&&(r=-r),new k(n.x+r,n.y+i)};k.random=function(e,t,n,r){return new k(vd(e,t),vd(n,r))};k.prototype={type:Re.Point,chooseClosest:function(e){var t=e.length;if(t===1)return new k(e[0]);for(var n=null,r=1/0,i=0;i<t;i++){var o=new k(e[i]),s=this.squaredDistance(o);s<r&&(n=o,r=s)}return n},adhereToRect:function(e){return e.containsPoint(this)?this:(this.x=PD(OD(this.x,e.x),e.x+e.width),this.y=PD(OD(this.y,e.y),e.y+e.height),this)},angleBetween:function(e,t){var n=this.equals(e)||this.equals(t)?NaN:this.theta(t)-this.theta(e);return n<0&&(n+=360),n},bearing:function(e){return Id(this,e)},changeInAngle:function(e,t,n){return this.clone().offset(-e,-t).theta(n)-this.theta(n)},clone:function(){return new k(this)},cross:function(e,t){return e&&t?(t.x-this.x)*(e.y-this.y)-(t.y-this.y)*(e.x-this.x):NaN},difference:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),new k(this.x-(e||0),this.y-(t||0))},distance:function(e){return Cd(this,e)},dot:function(e){return e?this.x*e.x+this.y*e.y:NaN},equals:function(e){return!!e&&this.x===e.x&&this.y===e.y},lerp:function(e,t){var n=this.x,r=this.y;return new k((1-t)*n+t*e.x,(1-t)*r+t*e.y)},magnitude:function(){return ED(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(e){return wd(e.x-this.x)+wd(e.y-this.y)},move:function(e,t){var n=qt(new k(e).theta(this)),r=this.offset(Vv(n)*t,-Zv(n)*t);return r},normalize:function(e){var t=(e||1)/this.magnitude();return this.scale(t,t)},offset:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x+=e||0,this.y+=t||0,this},reflection:function(e){return new k(e).move(this,this.distance(e))},rotate:function(e,t){if(t===0)return this;e=e||new k(0,0),t=qt(dn(-t));var n=Vv(t),r=Zv(t),i=n*(this.x-e.x)-r*(this.y-e.y)+e.x,o=r*(this.x-e.x)+n*(this.y-e.y)+e.y;return this.x=i,this.y=o,this},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=Z_(10,e);break}return this.x=RD(this.x*t)/t,this.y=RD(this.y*t)/t,this},scale:function(e,t,n){return n=n&&new k(n)||new k(0,0),this.x=n.x+e*(this.x-n.x),this.y=n.y+t*(this.y-n.y),this},snapToGrid:function(e,t){return this.x=yi(this.x,e),this.y=yi(this.y,t||e),this},squaredDistance:function(e){return ha(this,e)},theta:function(e){e=new k(e);var t=-(e.y-this.y),n=e.x-this.x,r=V_(t,n);return r<0&&(r=2*LD+r),180*r/LD},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(e){e=e&&new k(e)||new k(0,0);var t=this.x,n=this.y;return this.x=ED((t-e.x)*(t-e.x)+(n-e.y)*(n-e.y)),this.y=qt(e.theta(new k(t,n))),this},toString:function(){return this.x+"@"+this.y},serialize:function(){return this.x+","+this.y},update:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x=e||0,this.y=t||0,this},vectorAngle:function(e){var t=new k(0,0);return t.angleBetween(this,e)}};k.prototype.translate=k.prototype.offset;var pa=k;var{max:Wv,min:Hv}=Math,ge=function(e,t){if(!(this instanceof ge))return new ge(e,t);if(e instanceof ge)return new ge(e.start,e.end);this.start=new k(e),this.end=new k(t)};ge.prototype={type:Re.Line,angle:function(){var e=new k(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)},bbox:function(){var e=Hv(this.start.x,this.end.x),t=Hv(this.start.y,this.end.y),n=Wv(this.start.x,this.end.x),r=Wv(this.start.y,this.end.y);return new fe(e,t,n-e,r-t)},bearing:function(){return Id(this.start,this.end)},clone:function(){return new ge(this.start,this.end)},closestPoint:function(e){return this.pointAt(this.closestPointNormalizedLength(e))},closestPointLength:function(e){return this.closestPointNormalizedLength(e)*this.length()},closestPointNormalizedLength:function(e){var t=this.vector().dot(new ge(this.start,e).vector()),n=Hv(1,Wv(0,t/this.squaredLength()));return n!==n?0:n},closestPointTangent:function(e){return this.tangentAt(this.closestPointNormalizedLength(e))},containsPoint:function(e){var t=this.start,n=this.end;if(t.cross(e,n)!==0)return!1;var r=this.length();return!(new ge(t,e).length()>r||new ge(e,n).length()>r)},divideAt:function(e){var t=this.pointAt(e);return[new ge(this.start,t),new ge(t,this.end)]},divideAtLength:function(e){var t=this.pointAtLength(e);return[new ge(this.start,t),new ge(t,this.end)]},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y},intersect:function(e,t){if(e&&e.intersectionWithLine){var n=e.intersectionWithLine(this,t);return n&&e instanceof ge&&(n=n[0]),n}return null},intersectionWithLine:function(e){var t=new k(this.end.x-this.start.x,this.end.y-this.start.y),n=new k(e.end.x-e.start.x,e.end.y-e.start.y),r=t.x*n.y-t.y*n.x,i=new k(e.start.x-this.start.x,e.start.y-this.start.y),o=i.x*n.y-i.y*n.x,s=i.x*t.y-i.y*t.x;if(r===0||o*r<0||s*r<0)return null;if(r>0){if(o>r||s>r)return null}else if(o<r||s<r)return null;return[new k(this.start.x+o*t.x/r,this.start.y+o*t.y/r)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return Cd(this.start,this.end)},midpoint:function(){return new k((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},parallel:function(e){let t=this.clone();if(!this.isDifferentiable())return t;let{start:n,end:r}=t,i=n.clone().rotate(r,270),o=r.clone().rotate(n,90);return n.move(o,e),r.move(i,e),t},pointAt:function(e){var t=this.start,n=this.end;return e<=0?t.clone():e>=1?n.clone():t.lerp(n,e)},pointAtLength:function(e){var t=this.start,n=this.end,r=!0;e<0&&(r=!1,e=-e);var i=this.length();return e>=i?r?n.clone():t.clone():this.pointAt((r?e:i-e)/i)},pointOffset:function(e){e=new k(e);var t=this.start,n=this.end,r=(n.x-t.x)*(e.y-t.y)-(n.y-t.y)*(e.x-t.x);return r/this.length()},rotate:function(e,t){return this.start.rotate(e,t),this.end.rotate(e,t),this},round:function(e){return this.start.round(e),this.end.round(e),this},scale:function(e,t,n){return this.start.scale(e,t,n),this.end.scale(e,t,n),this},setLength:function(e){var t=this.length();if(!t)return this;var n=e/t;return this.scale(n,n,this.start)},squaredLength:function(){return ha(this.start,this.end)},tangentAt:function(e){if(!this.isDifferentiable())return null;var t=this.start,n=this.end,r=this.pointAt(e),i=new ge(t,n);return i.translate(r.x-t.x,r.y-t.y),i},tangentAtLength:function(e){if(!this.isDifferentiable())return null;var t=this.start,n=this.end,r=this.pointAtLength(e),i=new ge(t,n);return i.translate(r.x-t.x,r.y-t.y),i},toString:function(){return this.start.toString()+" "+this.end.toString()},serialize:function(){return this.start.serialize()+" "+this.end.serialize()},translate:function(e,t){return this.start.translate(e,t),this.end.translate(e,t),this},vector:function(){return new k(this.end.x-this.start.x,this.end.y-this.start.y)}};ge.prototype.intersection=ge.prototype.intersect;var Oi=ge;var{sqrt:kD,round:Ad,pow:W_}=Math,un=function(e,t,n){if(!(this instanceof un))return new un(e,t,n);if(e instanceof un)return new un(new k(e.x,e.y),e.a,e.b);e=new k(e),this.x=e.x,this.y=e.y,this.a=t,this.b=n};un.fromRect=function(e){return e=new fe(e),new un(e.center(),e.width/2,e.height/2)};un.prototype={type:Re.Ellipse,bbox:function(){return new fe(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new k(this.x,this.y)},clone:function(){return new un(this)},containsPoint:function(e){return this.normalizedDistance(e)<=1},equals:function(e){return!!e&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b},inflate:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.a+=2*e,this.b+=2*t,this},intersectionWithLine:function(e){var t=[],n=e.start,r=e.end,i=this.a,o=this.b,s=e.vector(),a=n.difference(new k(this)),u=new k(s.x/(i*i),s.y/(o*o)),l=new k(a.x/(i*i),a.y/(o*o)),h=s.dot(u),f=s.dot(l),y=a.dot(l)-1,I=f*f-h*y;if(I<0)return null;if(I>0){var x=kD(I),S=(-f-x)/h,N=(-f+x)/h;if((S<0||1<S)&&(N<0||1<N))return null;0<=S&&S<=1&&t.push(n.lerp(r,S)),0<=N&&N<=1&&t.push(n.lerp(r,N))}else{var P=-f/h;if(0<=P&&P<=1)t.push(n.lerp(r,P));else return null}return t},intersectionWithLineFromCenterToPoint:function(e,t){e=new k(e),t&&e.rotate(new k(this.x,this.y),t);var n=e.x-this.x,r=e.y-this.y,i;if(n===0)return i=this.bbox().pointNearestToPoint(e),t?i.rotate(new k(this.x,this.y),-t):i;var o=r/n,s=o*o,a=this.a*this.a,u=this.b*this.b,l=kD(1/(1/a+s/u));l=n<0?-l:l;var h=o*l;return i=new k(this.x+l,this.y+h),t?i.rotate(new k(this.x,this.y),-t):i},normalizedDistance:function(e){var t=e.x,n=e.y,r=this.a,i=this.b,o=this.x,s=this.y;return(t-o)*(t-o)/(r*r)+(n-s)*(n-s)/(i*i)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=W_(10,e);break}return this.x=Ad(this.x*t)/t,this.y=Ad(this.y*t)/t,this.a=Ad(this.a*t)/t,this.b=Ad(this.b*t)/t,this},tangentTheta:function(e){var t=30,n=e.x,r=e.y,i=this.a,o=this.b,s=this.bbox().center(),a=s.x,u=s.y,l=n>s.x+i/2,h=n<s.x-i/2,f,y;return l||h?(f=n>s.x?r-t:r+t,y=i*i/(n-a)-i*i*(r-u)*(f-u)/(o*o*(n-a))+a):(y=r>s.y?n+t:n-t,f=o*o/(r-u)-o*o*(n-a)*(y-a)/(i*i*(r-u))+u),new k(y,f).theta(e)},toString:function(){return new k(this.x,this.y).toString()+" "+this.a+" "+this.b}};var H_=un;var{abs:_D,cos:Y_,sin:$_,min:hc,max:FD,round:bd,pow:X_}=Math,fe=function(e,t,n,r){if(!(this instanceof fe))return new fe(e,t,n,r);Object(e)===e&&(t=e.y,n=e.width,r=e.height,e=e.x),this.x=e===void 0?0:e,this.y=t===void 0?0:t,this.width=n===void 0?0:n,this.height=r===void 0?0:r};fe.fromEllipse=function(e){return e=new un(e),new fe(e.x-e.a,e.y-e.b,2*e.a,2*e.b)};fe.fromPointUnion=function(...e){if(e.length===0)return null;let t=new k,n,r,i,o;n=r=1/0,i=o=-1/0;for(let s=0;s<e.length;s++){t.update(e[s]);let a=t.x,u=t.y;a<n&&(n=a),a>i&&(i=a),u<r&&(r=u),u>o&&(o=u)}return new fe(n,r,i-n,o-r)};fe.fromRectUnion=function(...e){if(e.length===0)return null;let t=new fe,n,r,i,o;n=r=1/0,i=o=-1/0;for(let s=0;s<e.length;s++){t.update(e[s]);let a=t.x,u=t.y,l=a+t.width,h=u+t.height;a<n&&(n=a),l>i&&(i=l),u<r&&(r=u),h>o&&(o=h)}return new fe(n,r,i-n,o-r)};fe.prototype={type:Re.Rect,bbox:function(e){return this.clone().rotateAroundCenter(e)},rotateAroundCenter:function(e){if(!e)return this;let{width:t,height:n}=this,r=qt(e),i=_D($_(r)),o=_D(Y_(r)),s=t*o+n*i,a=t*i+n*o;return this.x+=(t-s)/2,this.y+=(n-a)/2,this.width=s,this.height=a,this},bottomLeft:function(){return new k(this.x,this.y+this.height)},bottomLine:function(){return new ge(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new k(this.x+this.width/2,this.y+this.height)},center:function(){return new k(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new fe(this)},containsPoint:function(e){return e instanceof k||(e=new k(e)),e.x>=this.x&&e.x<=this.x+this.width&&e.y>=this.y&&e.y<=this.y+this.height},containsRect:function(e){var t=new fe(this).normalize(),n=new fe(e).normalize(),r=t.width,i=t.height,o=n.width,s=n.height;if(!r||!i||!o||!s)return!1;var a=t.x,u=t.y,l=n.x,h=n.y;return o+=l,r+=a,s+=h,i+=u,a<=l&&o<=r&&u<=h&&s<=i},corner:function(){return new k(this.x+this.width,this.y+this.height)},equals:function(e){var t=new fe(this).normalize(),n=new fe(e).normalize();return t.x===n.x&&t.y===n.y&&t.width===n.width&&t.height===n.height},inflate:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},intersect:function(e){var t=this.origin(),n=this.corner(),r=e.origin(),i=e.corner();if(i.x<=t.x||i.y<=t.y||r.x>=n.x||r.y>=n.y)return null;var o=FD(t.x,r.x),s=FD(t.y,r.y);return new fe(o,s,hc(n.x,i.x)-o,hc(n.y,i.y)-s)},intersectionWithLine:function(e){var t=this,n=[t.topLine(),t.rightLine(),t.bottomLine(),t.leftLine()],r=[],i=[],o,s,a=n.length;for(s=0;s<a;s++)o=e.intersect(n[s]),o!==null&&i.indexOf(o.toString())<0&&(r.push(o),i.push(o.toString()));return r.length>0?r:null},intersectionWithLineFromCenterToPoint:function(e,t){e=new k(e);var n=new k(this.x+this.width/2,this.y+this.height/2),r;t&&e.rotate(n,t);for(var i=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],o=new ge(n,e),s=i.length-1;s>=0;--s){var a=i[s].intersection(o);if(a!==null){r=a;break}}return r&&t&&r.rotate(n,-t),r},leftLine:function(){return new ge(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new k(this.x,this.y+this.height/2)},maxRectScaleToFit:function(e,t){e=new fe(e),t||(t=e.center());var n,r,i,o,s,a,u,l,h=t.x,f=t.y;n=r=i=o=s=a=u=l=1/0;var y=e.topLeft();y.x<h&&(n=(this.x-h)/(y.x-h)),y.y<f&&(s=(this.y-f)/(y.y-f));var I=e.bottomRight();I.x>h&&(r=(this.x+this.width-h)/(I.x-h)),I.y>f&&(a=(this.y+this.height-f)/(I.y-f));var x=e.topRight();x.x>h&&(i=(this.x+this.width-h)/(x.x-h)),x.y<f&&(u=(this.y-f)/(x.y-f));var S=e.bottomLeft();return S.x<h&&(o=(this.x-h)/(S.x-h)),S.y>f&&(l=(this.y+this.height-f)/(S.y-f)),{sx:hc(n,r,i,o),sy:hc(s,a,u,l)}},maxRectUniformScaleToFit:function(e,t){var n=this.maxRectScaleToFit(e,t);return hc(n.sx,n.sy)},moveAndExpand:function(e){return this.x+=e.x||0,this.y+=e.y||0,this.width+=e.width||0,this.height+=e.height||0,this},normalize:function(){var e=this.x,t=this.y,n=this.width,r=this.height;return this.width<0&&(e=this.x+this.width,n=-this.width),this.height<0&&(t=this.y+this.height,r=-this.height),this.x=e,this.y=t,this.width=n,this.height=r,this},offset:function(e,t){return k.prototype.offset.call(this,e,t)},origin:function(){return new k(this.x,this.y)},pointNearestToPoint:function(e){if(e=new k(e),this.containsPoint(e)){var t=this.sideNearestToPoint(e);switch(t){case"right":return new k(this.x+this.width,e.y);case"left":return new k(this.x,e.y);case"bottom":return new k(e.x,this.y+this.height);case"top":return new k(e.x,this.y)}}return e.adhereToRect(this)},rightLine:function(){return new ge(this.topRight(),this.bottomRight())},rightMiddle:function(){return new k(this.x+this.width,this.y+this.height/2)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=X_(10,e);break}return this.x=bd(this.x*t)/t,this.y=bd(this.y*t)/t,this.width=bd(this.width*t)/t,this.height=bd(this.height*t)/t,this},scale:function(e,t,n){return n=this.origin().scale(e,t,n),this.x=n.x,this.y=n.y,this.width*=e,this.height*=t,this},sideNearestToPoint:function(e){e=new k(e);var t=e.x-this.x,n=this.x+this.width-e.x,r=e.y-this.y,i=this.y+this.height-e.y,o=t,s="left";return n<o&&(o=n,s="right"),r<o&&(o=r,s="top"),i<o&&(s="bottom"),s},snapToGrid:function(e,t){var n=this.origin().snapToGrid(e,t),r=this.corner().snapToGrid(e,t);return this.x=n.x,this.y=n.y,this.width=r.x-n.x,this.height=r.y-n.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new ge(this.topLeft(),this.topRight())},topMiddle:function(){return new k(this.x+this.width/2,this.y)},topRight:function(){return new k(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(e){return fe.fromRectUnion(this,e)},update:function(e,t,n,r){return Object(e)===e&&(t=e.y,n=e.width,r=e.height,e=e.x),this.x=e||0,this.y=t||0,this.width=n||0,this.height=r||0,this}};fe.prototype.bottomRight=fe.prototype.corner;fe.prototype.topLeft=fe.prototype.origin;fe.prototype.translate=fe.prototype.offset;var J_=fe;function xd(e){let t=e.trim();if(t==="")return[];let n=[],r=t.split(/\b\s*,\s*|,\s*|\s+/),i=r.length;for(let o=0;o<i;o+=2)n.push({x:+r[o],y:+r[o+1]});return n}function Dd(e){let t=e.length;if(t===0)return[];let n=[];for(let r=0;r<t;r++){let i=e[r].clone();n.push(i)}return n}function Md(e){let{abs:t}=Math;var n,r,i=e.length;if(i===0)return[];var o;for(n=0;n<i;n++)(o===void 0||e[n].y<o.y||e[n].y===o.y&&e[n].x>o.x)&&(o=e[n]);var s=[];for(n=0;n<i;n++){var a=o.theta(e[n]);a===0&&(a=360);var u=[e[n],n,a];s.push(u)}if(s.sort(function(W,ce){var pe=W[2]-ce[2];return pe===0&&(pe=ce[1]-W[1]),pe}),s.length>2){var l=s[s.length-1];s.unshift(l)}for(var h={},f=[],y,I,x,S,N,P;s.length!==0;)if(y=s.pop(),I=y[0],!h.hasOwnProperty(y[0]+"@@"+y[1]))for(var U=!1;!U;)if(f.length<2)f.push(y),U=!0;else{x=f.pop(),S=x[0],N=f.pop(),P=N[0];var H=P.cross(S,I);if(H<0)f.push(N),f.push(x),f.push(y),U=!0;else if(H===0){var J=1e-10,ie=S.angleBetween(P,I);t(ie-180)<J||S.equals(I)||P.equals(S)?(h[x[0]+"@@"+x[1]]=S,f.push(N)):t((ie+1)%360-1)<J&&(f.push(N),s.push(x))}else h[x[0]+"@@"+x[1]]=S,f.push(N)}f.length>2&&f.pop();var g,v=-1;for(r=f.length,n=0;n<r;n++){var b=f[n][1];(g===void 0||b<g)&&(g=b,v=n)}var M=[];if(v>0){var E=f.slice(v),j=f.slice(0,v);M=E.concat(j)}else M=f;var B=[];for(r=M.length,n=0;n<r;n++)B.push(M[n][0]);return B}var at=function(e){if(!(this instanceof at))return new at(e);if(typeof e=="string")return new at.parse(e);this.points=Array.isArray(e)?e.map(k):[]};at.parse=function(e){return new at(xd(e))};at.fromRect=function(e){return new at([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft(),e.topLeft()])};at.prototype={type:Re.Polyline,bbox:function(){var e=1/0,t=-1/0,n=1/0,r=-1/0,i=this.points,o=i.length;if(o===0)return null;for(var s=0;s<o;s++){var a=i[s],u=a.x,l=a.y;u<e&&(e=u),u>t&&(t=u),l<n&&(n=l),l>r&&(r=l)}return new fe(e,n,t-e,r-n)},clone:function(){return new at(Dd(this.points))},closestPoint:function(e){var t=this.closestPointLength(e);return this.pointAtLength(t)},closestPointLength:function(e){var t=this.lengthPoints(),n=t.length;if(n===0||n===1)return 0;for(var r,i=1/0,o=0,s=n-1,a=0;a<s;a++){var u=new ge(t[a],t[a+1]),l=u.length(),h=u.closestPointNormalizedLength(e),f=u.pointAt(h),y=f.squaredDistance(e);y<i&&(i=y,r=o+h*l),o+=l}return r},closestPointNormalizedLength:function(e){var t=this.closestPointLength(e);if(t===0)return 0;var n=this.length();return n===0?0:t/n},closestPointTangent:function(e){var t=this.closestPointLength(e);return this.tangentAtLength(t)},containsPoint:function(e){var t=this.points,n=t.length;if(n===0)return!1;for(var r=e.x,i=e.y,o=n-1,s=0,a=0,u=new ge,l=new ge,h=new k;s<n;s++){var f=t[o],y=t[s];if(e.equals(f)||(u.start=f,u.end=y,u.containsPoint(e)))return!0;if(i<=f.y&&i>y.y||i>f.y&&i<=y.y){var I=f.x-r>y.x-r?f.x-r:y.x-r;I>=0&&(h.x=r+I,h.y=i,l.start=e,l.end=h,u.intersect(l)&&a++)}o=s}return a%2===1},close:function(){let{start:e,end:t,points:n}=this;return e&&t&&!e.equals(t)&&n.push(e.clone()),this},lengthPoints:function(){return this.points},convexHull:function(){return new at(Md(this.points))},equals:function(e){if(!e)return!1;var t=this.points,n=e.points,r=t.length;if(n.length!==r)return!1;for(var i=0;i<r;i++){var o=t[i],s=e.points[i];if(!o.equals(s))return!1}return!0},intersectionWithLine:function(e){for(var t=new ge(e),n=[],r=this.lengthPoints(),i=new ge,o=0,s=r.length-1;o<s;o++){i.start=r[o],i.end=r[o+1];var a=t.intersectionWithLine(i);a&&n.push(a[0])}return n.length>0?n:null},isDifferentiable:function(){var e=this.points,t=e.length;if(t===0)return!1;for(var n=new ge,r=t-1,i=0;i<r;i++)if(n.start=e[i],n.end=e[i+1],n.isDifferentiable())return!0;return!1},length:function(){var e=this.lengthPoints(),t=e.length;if(t===0)return 0;for(var n=0,r=t-1,i=0;i<r;i++)n+=e[i].distance(e[i+1]);return n},pointAt:function(e){var t=this.lengthPoints(),n=t.length;if(n===0)return null;if(n===1||e<=0)return t[0].clone();if(e>=1)return t[n-1].clone();var r=this.length(),i=r*e;return this.pointAtLength(i)},pointAtLength:function(e){var t=this.lengthPoints(),n=t.length;if(n===0)return null;if(n===1)return t[0].clone();var r=!0;e<0&&(r=!1,e=-e);for(var i=0,o=n-1,s=0;s<o;s++){var a=r?s:o-1-s,u=t[a],l=t[a+1],h=new ge(u,l),f=u.distance(l);if(e<=i+f)return h.pointAtLength((r?1:-1)*(e-i));i+=f}var y=r?t[n-1]:t[0];return y.clone()},round:function(e){for(var t=this.points,n=t.length,r=0;r<n;r++)t[r].round(e);return this},scale:function(e,t,n){for(var r=this.points,i=r.length,o=0;o<i;o++)r[o].scale(e,t,n);return this},simplify:function(e={}){let t=this.points;if(t.length<3)return this;let n=e.threshold||1e-10,r=0;for(;t[r+2];){let i=r,o=r+1,s=r+2,a=t[i],u=t[o],l=t[s];new ge(a,l).closestPoint(u).distance(u)<=n?t.splice(o,1):r+=1}return this},tangentAt:function(e){var t=this.lengthPoints(),n=t.length;if(n===0||n===1)return null;e<0&&(e=0),e>1&&(e=1);var r=this.length(),i=r*e;return this.tangentAtLength(i)},tangentAtLength:function(e){var t=this.lengthPoints(),n=t.length;if(n===0||n===1)return null;var r=!0;e<0&&(r=!1,e=-e);for(var i,o=0,s=n-1,a=0;a<s;a++){var u=r?a:s-1-a,l=t[u],h=t[u+1],f=new ge(l,h),y=l.distance(h);if(f.isDifferentiable()){if(e<=o+y)return f.tangentAtLength((r?1:-1)*(e-o));i=f}o+=y}if(i){var I=r?1:0;return i.tangentAt(I)}return null},toString:function(){return this.points+""},translate:function(e,t){for(var n=this.points,r=n.length,i=0;i<r;i++)n[i].translate(e,t);return this},serialize:function(){var e=this.points,t=e.length;if(t===0)return"";for(var n="",r=0;r<t;r++){var i=e[r];n+=i.x+","+i.y+" "}return n.trim()}};Object.defineProperty(at.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.points,t=e.length;return t===0?null:this.points[0]}});Object.defineProperty(at.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.points,t=e.length;return t===0?null:this.points[t-1]}});var{abs:Td,sqrt:q_,min:jD,max:BD,pow:Yv}=Math,ut=function(e,t,n,r){if(!(this instanceof ut))return new ut(e,t,n,r);if(e instanceof ut)return new ut(e.start,e.controlPoint1,e.controlPoint2,e.end);this.start=new k(e),this.controlPoint1=new k(t),this.controlPoint2=new k(n),this.end=new k(r)};ut.throughPoints=function(){function e(n){var r=[],i=[],o=n.length-1,s;if(o==1)return r[0]=new k((2*n[0].x+n[1].x)/3,(2*n[0].y+n[1].y)/3),i[0]=new k(2*r[0].x-n[0].x,2*r[0].y-n[0].y),[r,i];var a=[];for(s=1;s<o-1;s++)a[s]=4*n[s].x+2*n[s+1].x;a[0]=n[0].x+2*n[1].x,a[o-1]=(8*n[o-1].x+n[o].x)/2;var u=t(a);for(s=1;s<o-1;++s)a[s]=4*n[s].y+2*n[s+1].y;a[0]=n[0].y+2*n[1].y,a[o-1]=(8*n[o-1].y+n[o].y)/2;var l=t(a);for(s=0;s<o;s++)r.push(new k(u[s],l[s])),s<o-1?i.push(new k(2*n[s+1].x-u[s+1],2*n[s+1].y-l[s+1])):i.push(new k((n[o].x+u[o-1])/2,(n[o].y+l[o-1])/2));return[r,i]}function t(n){var r=n.length,i=[],o=[],s=2;i[0]=n[0]/s;for(var a=1;a<r;a++)o[a]=1/s,s=(a<r-1?4:3.5)-o[a],i[a]=(n[a]-i[a-1])/s;for(a=1;a<r;a++)i[r-a-1]-=o[r-a]*i[r-a];return i}return function(n){if(!n||Array.isArray(n)&&n.length<2)throw new Error("At least 2 points are required");for(var r=e(n),i=[],o=r[0].length,s=0;s<o;s++){var a=new k(r[0][s].x,r[0][s].y),u=new k(r[1][s].x,r[1][s].y);i.push(new ut(n[s],a,u,n[s+1]))}return i}}();ut.prototype={type:Re.Curve,bbox:function(){for(var e=this.start,t=this.controlPoint1,n=this.controlPoint2,r=this.end,i=e.x,o=e.y,s=t.x,a=t.y,u=n.x,l=n.y,h=r.x,f=r.y,y=new Array,I=new Array,x=[new Array,new Array],S,N,P,U,H,J,ie,g,v=0;v<2;++v){if(v===0?(N=6*i-12*s+6*u,S=-3*i+9*s-9*u+3*h,P=3*s-3*i):(N=6*o-12*a+6*l,S=-3*o+9*a-9*l+3*f,P=3*a-3*o),Td(S)<1e-12){if(Td(N)<1e-12)continue;U=-P/N,0<U&&U<1&&I.push(U);continue}ie=N*N-4*P*S,g=q_(ie),!(ie<0)&&(H=(-N+g)/(2*S),0<H&&H<1&&I.push(H),J=(-N-g)/(2*S),0<J&&J<1&&I.push(J))}for(var b=I.length,M=b,E,j,B;b--;)U=I[b],E=1-U,j=E*E*E*i+3*E*E*U*s+3*E*U*U*u+U*U*U*h,x[0][b]=j,B=E*E*E*o+3*E*E*U*a+3*E*U*U*l+U*U*U*f,x[1][b]=B,y[b]={X:j,Y:B};I[M]=0,I[M+1]=1,y[M]={X:i,Y:o},y[M+1]={X:h,Y:f},x[0][M]=i,x[1][M]=o,x[0][M+1]=h,x[1][M+1]=f,I.length=M+2,x[0].length=M+2,x[1].length=M+2,y.length=M+2;var W=jD.apply(null,x[0]),ce=jD.apply(null,x[1]),pe=BD.apply(null,x[0]),V=BD.apply(null,x[1]);return new fe(W,ce,pe-W,V-ce)},clone:function(){return new ut(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(e,t){return this.pointAtT(this.closestPointT(e,t))},closestPointLength:function(e,t){t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,r=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,i={precision:n,subdivisions:r};return this.lengthAtT(this.closestPointT(e,i),i)},closestPointNormalizedLength:function(e,t){t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,r=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,i={precision:n,subdivisions:r},o=this.closestPointLength(e,i);if(!o)return 0;var s=this.length(i);return s===0?0:o/s},closestPointT:function(e,t){t=t||{};for(var n=t.precision===void 0?this.PRECISION:t.precision,r=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,i,o,s,a,u,l,h,f=r.length,y=f?1/f:0,I=0;I<f;I++){var x=r[I],S=x.start.distance(e),N=x.end.distance(e),P=S+N;(!h||P<h)&&(i=x,o=I*y,s=(I+1)*y,a=S,u=N,l=x.start.distance(x.end),h=P)}for(var U=Yv(10,-n);;){var H=a?Td(a-u)/a:0,J=u?Td(a-u)/u:0,ie=H<U||J<U,g=a?a<l*U:!0,v=u?u<l*U:!0,b=g||v;if(ie||b)return a<=u?o:s;var M=i.divide(.5);y/=2;var E=M[0].start.distance(e),j=M[0].end.distance(e),B=E+j,W=M[1].start.distance(e),ce=M[1].end.distance(e),pe=W+ce;B<=pe?(i=M[0],s-=y,a=E,u=j):(i=M[1],o+=y,a=W,u=ce)}},closestPointTangent:function(e,t){return this.tangentAtT(this.closestPointT(e,t))},containsPoint:function(e,t){var n=this.toPolyline(t);return n.containsPoint(e)},divideAt:function(e,t){if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);var n=this.tAt(e,t);return this.divideAtT(n)},divideAtLength:function(e,t){var n=this.tAtLength(e,t);return this.divideAtT(n)},divideAtT:function(e){var t=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end;if(e<=0)return[new ut(t,t,t,t),new ut(t,n,r,i)];if(e>=1)return[new ut(t,n,r,i),new ut(i,i,i,i)];var o=this.getSkeletonPoints(e),s=o.startControlPoint1,a=o.startControlPoint2,u=o.divider,l=o.dividerControlPoint1,h=o.dividerControlPoint2;return[new ut(t,s,a,u),new ut(u,l,h,i)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.controlPoint1.x===e.controlPoint1.x&&this.controlPoint1.y===e.controlPoint1.y&&this.controlPoint2.x===e.controlPoint2.x&&this.controlPoint2.y===e.controlPoint2.y&&this.end.x===e.end.x&&this.end.y===e.end.y},getSkeletonPoints:function(e){var t=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end;if(e<=0)return{startControlPoint1:t.clone(),startControlPoint2:t.clone(),divider:t.clone(),dividerControlPoint1:n.clone(),dividerControlPoint2:r.clone()};if(e>=1)return{startControlPoint1:n.clone(),startControlPoint2:r.clone(),divider:i.clone(),dividerControlPoint1:i.clone(),dividerControlPoint2:i.clone()};var o=new ge(t,n).pointAt(e),s=new ge(n,r).pointAt(e),a=new ge(r,i).pointAt(e),u=new ge(o,s).pointAt(e),l=new ge(s,a).pointAt(e),h=new ge(u,l).pointAt(e),f={startControlPoint1:o,startControlPoint2:u,divider:h,dividerControlPoint1:l,dividerControlPoint2:a};return f},getSubdivisions:function(e){e=e||{};var t=e.precision===void 0?this.PRECISION:e.precision,n=this.start,r=this.controlPoint1,i=this.controlPoint2,o=this.end,s=[new ut(n,r,i,o)];if(t===0)return s;var a=!this.isDifferentiable();if(a)return s;var u=this.endpointDistance(),l=Yv(10,-t),h=2,f=r.cross(n,o)===0&&i.cross(n,o)===0;f&&(h=2*t);for(var y=0;;){y+=1;for(var I=[],x=s.length,S=0;S<x;S++){var N=s[S],P=N.divide(.5);I.push(P[0],P[1])}for(var U=0,H=I.length,J=0;J<H;J++){var ie=I[J];U+=ie.endpointDistance()}if(y>=h){var g=U!==0?(U-u)/U:0;if(g<l)return I}s=I,u=U}},isDifferentiable:function(){var e=this.start,t=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(e.equals(t)&&t.equals(n)&&n.equals(r))},length:function(e){e=e||{};for(var t=e.precision===void 0?this.PRECISION:e.precision,n=e.subdivisions===void 0?this.getSubdivisions({precision:t}):e.subdivisions,r=0,i=n.length,o=0;o<i;o++){var s=n[o];r+=s.endpointDistance()}return r},lengthAtT:function(e,t){if(e<=0)return 0;t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,r=this.divide(e)[0],i=r.length({precision:n});return i},pointAt:function(e,t){if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var n=this.tAt(e,t);return this.pointAtT(n)},pointAtLength:function(e,t){var n=this.tAtLength(e,t);return this.pointAtT(n)},pointAtT:function(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider},PRECISION:3,round:function(e){return this.start.round(e),this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,n){return this.start.scale(e,t,n),this.controlPoint1.scale(e,t,n),this.controlPoint2.scale(e,t,n),this.end.scale(e,t,n),this},tangentAt:function(e,t){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var n=this.tAt(e,t);return this.tangentAtT(n)},tangentAtLength:function(e,t){if(!this.isDifferentiable())return null;var n=this.tAtLength(e,t);return this.tangentAtT(n)},tangentAtT:function(e){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var t=this.getSkeletonPoints(e),n=t.startControlPoint2,r=t.dividerControlPoint1,i=t.divider,o=new ge(n,r);return o.translate(i.x-n.x,i.y-n.y),o},tAt:function(e,t){if(e<=0)return 0;if(e>=1)return 1;t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,r=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,i={precision:n,subdivisions:r},o=this.length(i),s=o*e;return this.tAtLength(s,i)},tAtLength:function(e,t){var n=!0;e<0&&(n=!1,e=-e),t=t||{};for(var r=t.precision===void 0?this.PRECISION:t.precision,i=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,o={precision:r,subdivisions:i},s,a,u,l,h,f=0,y=i.length,I=1/y,x=0;x<y;x++){var S=n?x:y-1-x,N=i[x],P=N.endpointDistance();if(e<=f+P){s=N,a=S*I,u=(S+1)*I,l=n?e-f:P+f-e,h=n?P+f-e:e-f;break}f+=P}if(!s)return n?1:0;for(var U=this.length(o),H=Yv(10,-r);;){var J;if(J=U!==0?l/U:0,J<H)return a;if(J=U!==0?h/U:0,J<H)return u;var ie,g,v=s.divide(.5);I/=2;var b=v[0].endpointDistance(),M=v[1].endpointDistance();l<=b?(s=v[0],u-=I,ie=l,g=b-ie):(s=v[1],a+=I,ie=l-b,g=M-ie),l=ie,h=g}},toPoints:function(e){e=e||{};for(var t=e.precision===void 0?this.PRECISION:e.precision,n=e.subdivisions===void 0?this.getSubdivisions({precision:t}):e.subdivisions,r=[n[0].start.clone()],i=n.length,o=0;o<i;o++){var s=n[o];r.push(s.end.clone())}return r},toPolyline:function(e){return new at(this.toPoints(e))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.start.translate(e,t),this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};ut.prototype.divide=ut.prototype.divideAtT;function qo(e){var t,n,r=[];for(n=arguments.length,t=1;t<n;t++)r.push(arguments[t]);if(!e)throw new Error("Missing a parent object.");var i=Object.create(e);for(n=r.length,t=0;t<n;t++){var o=r[t],s,a;for(a in o)o.hasOwnProperty(a)&&(delete i[a],s=Object.getOwnPropertyDescriptor(o,a),Object.defineProperty(i,a,s))}return i}var be=function(e){if(!(this instanceof be))return new be(e);if(typeof e=="string")return new be.parse(e);this.segments=[];var t,n;if(e)if(Array.isArray(e)&&e.length!==0)if(e=e.reduce(function(a,u){return a.concat(u)},[]),n=e.length,e[0].isSegment)for(t=0;t<n;t++){var r=e[t];this.appendSegment(r)}else{var i=null;for(t=0;t<n;t++){var o=e[t];if(!(o instanceof ge||o instanceof ut))throw new Error("Cannot construct a path segment from the provided object.");t===0&&this.appendSegment(be.createSegment("M",o.start)),i&&!i.end.equals(o.start)&&this.appendSegment(be.createSegment("M",o.start)),o instanceof ge?this.appendSegment(be.createSegment("L",o.end)):o instanceof ut&&this.appendSegment(be.createSegment("C",o.controlPoint1,o.controlPoint2,o.end)),i=o}}else if(e.isSegment)this.appendSegment(e);else if(e instanceof ge)this.appendSegment(be.createSegment("M",e.start)),this.appendSegment(be.createSegment("L",e.end));else if(e instanceof ut)this.appendSegment(be.createSegment("M",e.start)),this.appendSegment(be.createSegment("C",e.controlPoint1,e.controlPoint2,e.end));else if(e instanceof at){if(!(e.points&&e.points.length!==0))return;for(n=e.points.length,t=0;t<n;t++){var s=e.points[t];t===0?this.appendSegment(be.createSegment("M",s)):this.appendSegment(be.createSegment("L",s))}}else throw new Error("Cannot construct a path from the provided object.")};be.parse=function(e){if(!e)return new be;for(var t=new be,n=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,r=e.match(n),i=r.length,o=0;o<i;o++){var s=r[o],a=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,u=s.match(a),l=be.createSegment.apply(this,u);t.appendSegment(l)}return t};be.createSegment=function(e){if(!e)throw new Error("Type must be provided.");var t=be.segmentTypes[e];if(!t)throw new Error(e+" is not a recognized path segment type.");for(var n=[],r=arguments.length,i=1;i<r;i++)n.push(arguments[i]);return Ii(t,n)};be.prototype={type:Re.Path,appendSegment:function(e){var t=this.segments,n=t.length,r,i=n!==0?t[n-1]:null,o=null;if(Array.isArray(e)){if(e=e.reduce(function(l,h){return l.concat(h)},[]),!e[0].isSegment)throw new Error("Segments required.");for(var s=e.length,a=0;a<s;a++){var u=e[a];r=this.prepareSegment(u,i,o),t.push(r),i=r}}else{if(!e||!e.isSegment)throw new Error("Segment required.");r=this.prepareSegment(e,i,o),t.push(r)}},bbox:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var n,r=0;r<t;r++){var i=e[r];if(i.isVisible){var o=i.bbox();n=n?n.union(o):o}}if(n)return n;var s=e[t-1];return new fe(s.end.x,s.end.y,0,0)},clone:function(){for(var e=this.segments,t=e.length,n=new be,r=0;r<t;r++){var i=e[r].clone();n.appendSegment(i)}return n},closestPoint:function(e,t){var n=this.closestPointT(e,t);return n?this.pointAtT(n):null},closestPointLength:function(e,t){t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,r=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions,i={precision:n,segmentSubdivisions:r},o=this.closestPointT(e,i);return o?this.lengthAtT(o,i):0},closestPointNormalizedLength:function(e,t){t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,r=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions,i={precision:n,segmentSubdivisions:r},o=this.closestPointLength(e,i);if(o===0)return 0;var s=this.length(i);return s===0?0:o/s},closestPointT:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;t=t||{};for(var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s,a=1/0,u=0;u<r;u++){var l=n[u],h=o[u];if(l.isVisible){var f=l.closestPointT(e,{precision:i,subdivisions:h}),y=l.pointAtT(f),I=new ge(y,e).squaredLength();I<a&&(s={segmentIndex:u,value:f},a=I)}}return s||{segmentIndex:r-1,value:1}},closestPointTangent:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;t=t||{};for(var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s,a=1/0,u=0;u<r;u++){var l=n[u],h=o[u];if(l.isDifferentiable()){var f=l.closestPointT(e,{precision:i,subdivisions:h}),y=l.pointAtT(f),I=new ge(y,e).squaredLength();I<a&&(s=l.tangentAtT(f),a=I)}}return s||null},containsPoint:function(e,t){var n=this.toPolylines(t);if(!n)return!1;for(var r=n.length,i=0,o=0;o<r;o++){var s=n[o];s.containsPoint(e)&&i++}return i%2===1},divideAt:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s={precision:i,segmentSubdivisions:o},a=this.length(s),u=a*e;return this.divideAtLength(u,s)},divideAtLength:function(e,t){var n=this.segments.length;if(n===0)return null;var r=!0;e<0&&(r=!1,e=-e),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s,a,u=0,l,h,f,y,I;for(s=0;s<n;s++){var x=r?s:n-1-s;a=this.getSegment(x);var S=o[x],N=a.length({precision:i,subdivisions:S});if(a.isDifferentiable()&&(f=a,y=x,e<=u+N)){h=x,l=a.divideAtLength((r?1:-1)*(e-u),{precision:i,subdivisions:S});break}u+=N}if(!f)return null;l||(h=y,I=r?1:0,l=f.divideAtT(I));var P=this.clone();P.replaceSegment(h,l);var U=h,H=h+1,J=h+2;l[0].isDifferentiable()||(P.removeSegment(U),H-=1,J-=1);var ie=P.getSegment(H).start;P.insertSegment(H,be.createSegment("M",ie)),J+=1,l[1].isDifferentiable()||(P.removeSegment(J-1),J-=1);var g=J-U-1;for(s=J;s<P.segments.length;s++){var v=this.getSegment(s-g);if(a=P.getSegment(s),a.type==="Z"&&!v.subpathStartSegment.end.equals(a.subpathStartSegment.end)){var b=be.createSegment("L",v.end);P.replaceSegment(s,b)}}var M=new be(P.segments.slice(0,H)),E=new be(P.segments.slice(H));return[M,E]},equals:function(e){if(!e)return!1;var t=this.segments,n=e.segments,r=t.length;if(n.length!==r)return!1;for(var i=0;i<r;i++){var o=t[i],s=n[i];if(o.type!==s.type||!o.equals(s))return!1}return!0},getSegment:function(e){var t=this.segments,n=t.length;if(n===0)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");return t[e]},getSegmentSubdivisions:function(e){var t=this.segments,n=t.length;e=e||{};for(var r=e.precision===void 0?this.PRECISION:e.precision,i=[],o=0;o<n;o++){var s=t[o],a=s.getSubdivisions({precision:r});i.push(a)}return i},getSubpaths:function(){let t=this.clone().validate().segments,n=t.length,r=[];for(let i=0;i<n;i++){let o=t[i];o.isSubpathStart?r.push(new be(o)):r[r.length-1].appendSegment(o)}return r},insertSegment:function(e,t){var n=this.segments,r=n.length;if(e<0&&(e=r+e+1),e>r||e<0)throw new Error("Index out of range.");var i,o=null,s=null;if(r!==0&&(e>=1?(o=n[e-1],s=o.nextSegment):s=n[0]),Array.isArray(t)){if(t=t.reduce(function(h,f){return h.concat(f)},[]),!t[0].isSegment)throw new Error("Segments required.");for(var a=t.length,u=0;u<a;u++){var l=t[u];i=this.prepareSegment(l,o,s),n.splice(e+u,0,i),o=i}}else{if(!t||!t.isSegment)throw new Error("Segment required.");i=this.prepareSegment(t,o,s),n.splice(e,0,i)}},intersectionWithLine:function(e,t){var n=null,r=this.toPolylines(t);if(!r)return null;for(var i=0,o=r.length;i<o;i++){var s=r[i],a=e.intersect(s);a&&(n||(n=[]),Array.isArray(a)?Array.prototype.push.apply(n,a):n.push(a))}return n},isDifferentiable:function(){for(var e=this.segments,t=e.length,n=0;n<t;n++){var r=e[n];if(r.isDifferentiable())return!0}return!1},isValid:function(){var e=this.segments,t=e.length===0||e[0].type==="M";return t},length:function(e){var t=this.segments,n=t.length;if(n===0)return 0;e=e||{};for(var r=e.precision===void 0?this.PRECISION:e.precision,i=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):e.segmentSubdivisions,o=0,s=0;s<n;s++){var a=t[s],u=i[s];o+=a.length({subdivisions:u})}return o},lengthAtT:function(e,t){var n=this.segments,r=n.length;if(r===0)return 0;var i=e.segmentIndex;if(i<0)return 0;var o=e.value;i>=r?(i=r-1,o=1):o<0?o=0:o>1&&(o=1),t=t||{};for(var s=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,u,l=0,h=0;h<i;h++){var f=n[h];u=a[h],l+=f.length({precisison:s,subdivisions:u})}return f=n[i],u=a[i],l+=f.lengthAtT(o,{precisison:s,subdivisions:u}),l},pointAt:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s={precision:i,segmentSubdivisions:o},a=this.length(s),u=a*e;return this.pointAtLength(u,s)},pointAtLength:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;if(e===0)return this.start.clone();var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a,u=0,l=0;l<r;l++){var h=i?l:r-1-l,f=n[h],y=s[h],I=f.length({precision:o,subdivisions:y});if(f.isVisible){if(e<=u+I)return f.pointAtLength((i?1:-1)*(e-u),{precision:o,subdivisions:y});a=f}u+=I}if(a)return i?a.end:a.start;var x=n[r-1];return x.end.clone()},pointAtT:function(e){var t=this.segments,n=t.length;if(n===0)return null;var r=e.segmentIndex;if(r<0)return t[0].pointAtT(0);if(r>=n)return t[n-1].pointAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[r].pointAtT(i)},PRECISION:3,prepareSegment:function(e,t,n){e.previousSegment=t,e.nextSegment=n,t&&(t.nextSegment=e),n&&(n.previousSegment=e);var r=e;return e.isSubpathStart&&(e.subpathStartSegment=e,r=n),r&&this.updateSubpathStartSegment(r),e},removeSegment:function(e){var t=this.segments,n=t.length;if(n===0)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");var r=t.splice(e,1)[0],i=r.previousSegment,o=r.nextSegment;i&&(i.nextSegment=o),o&&(o.previousSegment=i),r.isSubpathStart&&o&&this.updateSubpathStartSegment(o)},replaceSegment:function(e,t){var n=this.segments,r=n.length;if(r===0)throw new Error("Path has no segments.");if(e<0&&(e=r+e),e>=r||e<0)throw new Error("Index out of range.");var i,o=n[e],s=o.previousSegment,a=o.nextSegment,u=o.isSubpathStart;if(Array.isArray(t)){if(t=t.reduce(function(y,I){return y.concat(I)},[]),!t[0].isSegment)throw new Error("Segments required.");n.splice(e,1);for(var l=t.length,h=0;h<l;h++){var f=t[h];i=this.prepareSegment(f,s,a),n.splice(e+h,0,i),s=i,u&&i.isSubpathStart&&(u=!1)}}else{if(!t||!t.isSegment)throw new Error("Segment required.");i=this.prepareSegment(t,s,a),n.splice(e,1,i),u&&i.isSubpathStart&&(u=!1)}u&&a&&this.updateSubpathStartSegment(a)},round:function(e){for(var t=this.segments,n=t.length,r=0;r<n;r++){var i=t[r];i.round(e)}return this},scale:function(e,t,n){for(var r=this.segments,i=r.length,o=0;o<i;o++){var s=r[o];s.scale(e,t,n)}return this},segmentAt:function(e,t){var n=this.segmentIndexAt(e,t);return n?this.getSegment(n):null},segmentAtLength:function(e,t){var n=this.segmentIndexAtLength(e,t);return n?this.getSegment(n):null},segmentIndexAt:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s={precision:i,segmentSubdivisions:o},a=this.length(s),u=a*e;return this.segmentIndexAtLength(u,s)},segmentIndexAtLength:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a=null,u=0,l=0;l<r;l++){var h=i?l:r-1-l,f=n[h],y=s[h],I=f.length({precision:o,subdivisions:y});if(f.isVisible){if(e<=u+I)return h;a=h}u+=I}return a},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s={precision:i,segmentSubdivisions:o},a=this.length(s),u=a*e;return this.tangentAtLength(u,s)},tangentAtLength:function(e,t){var n=this.segments,r=n.length;if(r===0)return null;var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a,u=0,l=0;l<r;l++){var h=i?l:r-1-l,f=n[h],y=s[h],I=f.length({precision:o,subdivisions:y});if(f.isDifferentiable()){if(e<=u+I)return f.tangentAtLength((i?1:-1)*(e-u),{precision:o,subdivisions:y});a=f}u+=I}if(a){var x=i?1:0;return a.tangentAtT(x)}return null},tangentAtT:function(e){var t=this.segments,n=t.length;if(n===0)return null;var r=e.segmentIndex;if(r<0)return t[0].tangentAtT(0);if(r>=n)return t[n-1].tangentAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[r].tangentAtT(i)},toPoints:function(e){var t=this.segments,n=t.length;if(n===0)return null;e=e||{};for(var r=e.precision===void 0?this.PRECISION:e.precision,i=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):e.segmentSubdivisions,o=[],s=[],a=0;a<n;a++){var u=t[a];if(u.isVisible){var l=i[a];if(l.length>0){var h=l.map(function(f){return f.start});Array.prototype.push.apply(s,h)}else s.push(u.start)}else s.length>0&&(s.push(t[a-1].end),o.push(s),s=[])}return s.length>0&&(s.push(this.end),o.push(s)),o},toPolylines:function(e){var t=[],n=this.toPoints(e);if(!n)return null;for(var r=0,i=n.length;r<i;r++)t.push(new at(n[r]));return t},toString:function(){for(var e=this.segments,t=e.length,n="",r=0;r<t;r++){var i=e[r];n+=i.serialize()+" "}return n.trim()},translate:function(e,t){for(var n=this.segments,r=n.length,i=0;i<r;i++){var o=n[i];o.translate(e,t)}return this},updateSubpathStartSegment:function(e){for(var t=e.previousSegment;e&&!e.isSubpathStart;)t?e.subpathStartSegment=t.subpathStartSegment:e.subpathStartSegment=null,t=e,e=e.nextSegment},validate:function(){return this.isValid()||this.insertSegment(0,be.createSegment("M",0,0)),this}};Object.defineProperty(be.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var n=0;n<t;n++){var r=e[n];if(r.isVisible)return r.start}return e[t-1].end}});Object.defineProperty(be.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var n=t-1;n>=0;n--){var r=e[n];if(r.isVisible)return r.end}return e[t-1].end}});function Ii(e,t){return t.unshift(null),new(Function.prototype.bind.apply(e,t))}var Ko={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(e){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(e){if(e<=0)return 0;var t=this.length();return e>=1?t:t*e},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,round:function(){throw new Error("Declaration missing for virtual function.")},subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(Ko,"end",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(Ko,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}});Object.defineProperty(Ko,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var wn=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof wn))return Ii(wn,e);if(t===0)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");var r;if(e[0]instanceof ge){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" lines provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===2)return this.end=new k(+e[0],+e[1]),this;if(t<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" coordinates provided).");var i;for(r=[],n=0;n<t;n+=2)i=e.slice(n,n+2),r.push(Ii(wn,i));return r}else{if(t===1)return this.end=new k(e[0]),this;var o;for(r=[],n=0;n<t;n+=1)o=e[n],r.push(new wn(o));return r}},zD={clone:function(){return new wn(this.end)},divideAt:function(e){var t=new ge(this.start,this.end),n=t.divideAt(e);return[new wn(n[0]),new wn(n[1])]},divideAtLength:function(e){var t=new ge(this.start,this.end),n=t.divideAtLength(e);return[new wn(n[0]),new wn(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return this.previousSegment?!this.start.equals(this.end):!1},round:function(e){return this.end.round(e),this},scale:function(e,t,n){return this.end.scale(e,t,n),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(zD,"type",{configurable:!0,enumerable:!0,value:"L"});wn.prototype=qo(Ko,ge.prototype,zD);var gr=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof gr))return Ii(gr,e);if(t===0)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");var r;if(e[0]instanceof ut){if(t===1)return this.controlPoint1=e[0].controlPoint1.clone(),this.controlPoint2=e[0].controlPoint2.clone(),this.end=e[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" curves provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===6)return this.controlPoint1=new k(+e[0],+e[1]),this.controlPoint2=new k(+e[2],+e[3]),this.end=new k(+e[4],+e[5]),this;if(t<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" coordinates provided).");var i;for(r=[],n=0;n<t;n+=6)i=e.slice(n,n+6),r.push(Ii(gr,i));return r}else{if(t===3)return this.controlPoint1=new k(e[0]),this.controlPoint2=new k(e[1]),this.end=new k(e[2]),this;if(t<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" points provided).");var o;for(r=[],n=0;n<t;n+=3)o=e.slice(n,n+3),r.push(Ii(gr,o));return r}},GD={clone:function(){return new gr(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(e,t){var n=new ut(this.start,this.controlPoint1,this.controlPoint2,this.end),r=n.divideAt(e,t);return[new gr(r[0]),new gr(r[1])]},divideAtLength:function(e,t){var n=new ut(this.start,this.controlPoint1,this.controlPoint2,this.end),r=n.divideAtLength(e,t);return[new gr(r[0]),new gr(r[1])]},divideAtT:function(e){var t=new ut(this.start,this.controlPoint1,this.controlPoint2,this.end),n=t.divideAtT(e);return[new gr(n[0]),new gr(n[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var e=this.start,t=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(e.equals(t)&&t.equals(n)&&n.equals(r))},round:function(e){return this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,n){return this.controlPoint1.scale(e,t,n),this.controlPoint2.scale(e,t,n),this.end.scale(e,t,n),this},serialize:function(){var e=this.controlPoint1,t=this.controlPoint2,n=this.end;return this.type+" "+e.x+" "+e.y+" "+t.x+" "+t.y+" "+n.x+" "+n.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};Object.defineProperty(GD,"type",{configurable:!0,enumerable:!0,value:"C"});gr.prototype=qo(Ko,ut.prototype,GD);var Qo=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof Qo))return Ii(Qo,e);if(t===0)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");var r;if(e[0]instanceof ge){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" lines provided).")}else if(e[0]instanceof ut){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" curves provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===2)return this.end=new k(+e[0],+e[1]),this;if(t<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" coordinates provided).");var i;for(r=[],n=0;n<t;n+=2)i=e.slice(n,n+2),n===0?r.push(Ii(Qo,i)):r.push(Ii(wn,i));return r}else{if(t===1)return this.end=new k(e[0]),this;var o;for(r=[],n=0;n<t;n+=1)o=e[n],n===0?r.push(new Qo(o)):r.push(new wn(o));return r}},$v={bbox:function(){return null},clone:function(){return new Qo(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(e){return this.end.equals(e.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},round:function(e){return this.end.round(e),this},scale:function(e,t,n){return this.end.scale(e,t,n),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty($v,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}});Object.defineProperty($v,"type",{configurable:!0,enumerable:!0,value:"M"});Qo.prototype=qo(Ko,$v);var ga=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof ga))return Ii(ga,e);if(t>0)throw new Error("Closepath constructor expects no arguments.");return this},Xv={clone:function(){return new ga},divideAt:function(e){var t=new ge(this.start,this.end),n=t.divideAt(e);return[n[1].isDifferentiable()?new wn(n[0]):this.clone(),new wn(n[1])]},divideAtLength:function(e){var t=new ge(this.start,this.end),n=t.divideAtLength(e);return[n[1].isDifferentiable()?new wn(n[0]):this.clone(),new wn(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)},round:function(){return this},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty(Xv,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}});Object.defineProperty(Xv,"type",{configurable:!0,enumerable:!0,value:"Z"});ga.prototype=qo(Ko,ge.prototype,Xv);var Q_=be.segmentTypes={L:wn,C:gr,M:Qo,Z:ga,z:ga};be.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(Q_).join("")+",.]*$");be.isDataSupported=function(e){return typeof e!="string"?!1:this.regexSupportedData.test(e)};var K_={curveThroughPoints:function(e){return console.warn("deprecated"),new be(ut.throughPoints(e)).serialize()},getCurveControlPoints:function(e){console.warn("deprecated");var t=[],n=[],r=e.length-1,i;if(r==1)return t[0]=new k((2*e[0].x+e[1].x)/3,(2*e[0].y+e[1].y)/3),n[0]=new k(2*t[0].x-e[0].x,2*t[0].y-e[0].y),[t,n];var o=[];for(i=1;i<r-1;i++)o[i]=4*e[i].x+2*e[i+1].x;o[0]=e[0].x+2*e[1].x,o[r-1]=(8*e[r-1].x+e[r].x)/2;var s=this.getFirstControlPoints(o);for(i=1;i<r-1;++i)o[i]=4*e[i].y+2*e[i+1].y;o[0]=e[0].y+2*e[1].y,o[r-1]=(8*e[r-1].y+e[r].y)/2;var a=this.getFirstControlPoints(o);for(i=0;i<r;i++)t.push(new k(s[i],a[i])),i<r-1?n.push(new k(2*e[i+1].x-s[i+1],2*e[i+1].y-a[i+1])):n.push(new k((e[r].x+s[r-1])/2,(e[r].y+a[r-1])/2));return[t,n]},getCurveDivider:function(e,t,n,r){console.warn("deprecated");var i=new ut(e,t,n,r);return function(s){var a=i.divide(s);return[{p0:a[0].start,p1:a[0].controlPoint1,p2:a[0].controlPoint2,p3:a[0].end},{p0:a[1].start,p1:a[1].controlPoint1,p2:a[1].controlPoint2,p3:a[1].end}]}},getFirstControlPoints:function(e){console.warn("deprecated");var t=e.length,n=[],r=[],i=2;n[0]=e[0]/i;for(var o=1;o<t;o++)r[o]=1/i,i=(o<t-1?4:3.5)-r[o],n[o]=(e[o]-n[o-1])/i;for(o=1;o<t;o++)n[t-o-1]-=r[t-o]*n[t-o];return n},getInversionSolver:function(e,t,n,r){console.warn("deprecated");var i=new ut(e,t,n,r);return function(s){return i.closestPointT(s)}}};var jn=function(e){if(!(this instanceof jn))return new jn(e);if(typeof e=="string")return new jn.parse(e);this.points=Array.isArray(e)?e.map(k):[]};jn.parse=function(e){return new jn(xd(e))};jn.fromRect=function(e){return new jn([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft()])};jn.prototype=qo(at.prototype,{type:Re.Polygon,clone:function(){return new jn(Dd(this.points))},convexHull:function(){return new jn(Md(this.points))},lengthPoints:function(){let{start:e,end:t,points:n}=this;return n.length<=1||e.equals(t)?n:[...n,e.clone()]}});var ny={};Ht(ny,{ellipseWithEllipse:()=>VD,ellipseWithLine:()=>Jv,exists:()=>UD,lineWithLine:()=>es,pathWithEllipse:()=>QD,pathWithLine:()=>qD,pathWithPath:()=>eM,pathWithPolygon:()=>Pd,pathWithPolyline:()=>ey,pathWithRect:()=>KD,polygonWithEllipse:()=>Ed,polygonWithLine:()=>Kv,polygonWithPolygon:()=>JD,polygonWithPolyline:()=>XD,polygonWithRect:()=>$D,polylineWithEllipse:()=>Qv,polylineWithLine:()=>Nd,polylineWithPolyline:()=>YD,polylineWithRect:()=>HD,rectWithEllipse:()=>WD,rectWithLine:()=>ZD,rectWithRect:()=>qv});function UD(e,t,n,r){switch(e.type){case Re.Line:{switch(t.type){case Re.Line:return es(e,t)}break}case Re.Ellipse:{switch(t.type){case Re.Line:return Jv(e,t);case Re.Ellipse:return VD(e,t)}break}case Re.Rect:{switch(t.type){case Re.Line:return ZD(e,t);case Re.Ellipse:return WD(e,t);case Re.Rect:return qv(e,t)}break}case Re.Polyline:{switch(t.type){case Re.Line:return Nd(e,t);case Re.Ellipse:return Qv(e,t);case Re.Rect:return HD(e,t);case Re.Polyline:return YD(e,t)}break}case Re.Polygon:{switch(t.type){case Re.Line:return Kv(e,t);case Re.Ellipse:return Ed(e,t);case Re.Rect:return $D(e,t);case Re.Polyline:return XD(e,t);case Re.Polygon:return JD(e,t)}break}case Re.Path:{switch(t.type){case Re.Line:return qD(e,t,n);case Re.Ellipse:return QD(e,t,n);case Re.Rect:return KD(e,t,n);case Re.Polyline:return ey(e,t,n);case Re.Polygon:return Pd(e,t,n);case Re.Path:return eM(e,t,n,r)}break}}switch(t.type){case Re.Ellipse:case Re.Rect:case Re.Polyline:case Re.Polygon:case Re.Path:return UD(t,e,r,n);default:throw Error(`The intersection for ${e} and ${t} could not be found.`)}}function es(e,t){let n=e.start.x,r=e.start.y,i=e.end.x,o=e.end.y,s=t.start.x,a=t.start.y,u=t.end.x,l=t.end.y,h=i-n,f=o-r,y=u-s,I=l-a,x=n-s,S=r-a,N=h*I-y*f,P=(h*S-f*x)/N,U=(y*S-I*x)/N;return P>=0&&P<=1&&U>=0&&U<=1}function Jv(e,t){let n=e.a,r=e.b,i=e.x,o=e.y,s=t.start.x-i,a=t.end.x-i,u=t.start.y-o,l=t.end.y-o,h=n*n,f=r*r,y=a-s,I=l-u,x=y*y/h+I*I/f,S=2*s*y/h+2*u*I/f,N=s*s/h+u*u/f-1,P=S*S-4*x*N;if(P===0){let U=-S/2/x;return U>=0&&U<=1}else if(P>0){let U=Math.sqrt(P),H=(-S+U)/2/x,J=(-S-U)/2/x;return H>=0&&H<=1||J>=0&&J<=1}return!1}function VD(e,t){return e3(e,0,t,0)}function ZD(e,t){let{start:n,end:r}=t,{x:i,y:o,width:s,height:a}=e;return n.x>i+s&&r.x>i+s||n.x<i&&r.x<i||n.y>o+a&&r.y>o+a||n.y<o&&r.y<o?!1:e.containsPoint(t.start)||e.containsPoint(t.end)?!0:es(e.topLine(),t)||es(e.rightLine(),t)||es(e.bottomLine(),t)||es(e.leftLine(),t)}function WD(e,t){return qv(e,fe.fromEllipse(t))?Ed(jn.fromRect(e),t):!1}function qv(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function Nd(e,t){return tM(e,t,{interior:!1})}function Qv(e,t){return nM(e,t,{interior:!1})}function HD(e,t){return rM(e,t,{interior:!1})}function YD(e,t){return Od(e,t,{interior:!1})}function Kv(e,t){return tM(e,t,{interior:!0})}function Ed(e,t){return nM(e,t,{interior:!0})}function $D(e,t){return rM(e,t,{interior:!0})}function XD(e,t){return Od(e,t,{interior:!0})}function JD(e,t){return ty(e,t,{interior:!0})}function qD(e,t,n){return e.getSubpaths().some(r=>{let[i]=r.toPolylines(n),{type:o}=r.getSegment(-1);return o==="Z"?Kv(i,t):Nd(i,t)})}function QD(e,t,n){return e.getSubpaths().some(r=>{let[i]=r.toPolylines(n),{type:o}=r.getSegment(-1);return o==="Z"?Ed(i,t):Qv(i,t)})}function KD(e,t,n){return Pd(e,jn.fromRect(t),n)}function ey(e,t,n){return iM(e,t,n,{interior:!1})}function Pd(e,t,n){return iM(e,t,n,{interior:!0})}function eM(e,t,n,r){return e.getSubpaths().some(i=>{let[o]=i.toPolylines(n),{type:s}=i.getSegment(-1);return s==="Z"?Pd(t,o,r):ey(t,o,r)})}function tM(e,t,n={}){let{interior:r=!1}=n,i;if(r){if(e.containsPoint(t.start))return!0;let{start:a,end:u,points:l}=e;i=u.equals(a)?l:[...l,a]}else i=e.points;let{length:o}=i,s=new ge;for(let a=0;a<o-1;a++)if(s.start=i[a],s.end=i[a+1],es(t,s))return!0;return!1}function nM(e,t,n={}){let{start:r,end:i,points:o}=e;if(t.containsPoint(r))return!0;let s,{interior:a=!1}=n;if(a){if(e.containsPoint(t.center()))return!0;s=i.equals(r)?o:[...o,r]}else s=o;let{length:u}=s,l=new ge;for(let h=0;h<u-1;h++)if(l.start=s[h],l.end=s[h+1],Jv(t,l))return!0;return!1}function rM(e,t,n){let r=jn.fromRect(t);return ty(e,r,n)}function iM(e,t,n,r){return e.getSubpaths().some(i=>{let[o]=i.toPolylines(n),{type:s}=i.getSegment(-1);return s==="Z"?ty(t,o,r):Od(t,o,r)})}function Od(e,t,n={}){let{interior:r=!1}=n,i;if(r){let{start:u}=t;if(e.containsPoint(u))return!0;i=e.clone().close()}else i=e;let o=t.points,{length:s}=o,a=new ge;for(let u=0;u<s-1;u++)if(a.start=o[u],a.end=o[u+1],Nd(i,a))return!0;return!1}function ty(e,t,n){return t.containsPoint(e.start)||Od(e,t.clone().close(),n)}function e3(e,t,n,r){let{cos:i,sin:o}=Math,s=o(t),a=i(t),u=o(r),l=i(r),h=s*s,f=a*a,y=s*a,I=u*u,x=l*l,S=u*l,N=e.a*e.a,P=e.b*e.b,U=n.a*n.a,H=n.b*n.b,J=N*h+P*f,ie=U*I+H*x,g=N*f+P*h,v=U*x+H*I,b=2*(P-N)*y,M=2*(H-U)*S,E=-2*J*e.x-b*e.y,j=-2*ie*n.x-M*n.y,B=-b*e.x-2*g*e.y,W=-M*n.x-2*v*n.y,ce=J*e.x*e.x+g*e.y*e.y+b*e.x*e.y-N*P,pe=ie*n.x*n.x+v*n.y*n.y+M*n.x*n.y-U*H;b=b/2,M=M/2,E=E/2,j=j/2,B=B/2,W=W/2;let V=oo([[J,b,E],[b,g,B],[E,B,ce]]),Q=oo([[ie,M,j],[M,v,W],[j,W,pe]]),$=.33333333*(oo([[ie,b,E],[M,g,B],[j,B,ce]])+oo([[J,M,E],[b,v,B],[E,W,ce]])+oo([[J,b,j],[b,g,W],[E,B,pe]])),q=.33333333*(oo([[J,M,j],[b,v,W],[E,W,pe]])+oo([[ie,b,j],[M,g,W],[j,B,pe]])+oo([[ie,M,E],[M,v,B],[j,W,ce]])),Pe=Sd([[V,$],[$,q]]),Me=Sd([[V,q],[$,Q]]),Ct=Sd([[$,q],[q,Q]]);return!(Sd([[2*Pe,Me],[Me,2*Ct]])>0&&(q>0||$>0))}function Sd(e){return e[0][0]*e[1][1]-e[0][1]*e[1][0]}function oo(e){return e[0][0]*e[1][1]*e[2][2]-e[0][0]*e[1][2]*e[2][1]-e[0][1]*e[1][0]*e[2][2]+e[0][1]*e[1][2]*e[2][0]+e[0][2]*e[1][0]*e[2][1]-e[0][2]*e[1][1]*e[2][0]}var t3=ny;var p0=ci(Wc(),1);var Io=ci(vo(),1);var g3=function(){var e=typeof window=="object"&&!!window.SVGAngle;if(!e)return function(){throw new Error("SVG is required to use Vectorizer.")};var t={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},n="1.1",r=Math,i=r.PI,o=r.atan2,s=r.sqrt,a=r.min,u=r.max,l=r.cos,h=r.sin,f=function(v,b,M){if(!(this instanceof f))return f.apply(Object.create(f.prototype),arguments);if(v){if(f.isV(v)&&(v=v.node),b=b||{},f.isString(v)){if(v=v.trim(),v.toLowerCase()==="svg")v=f.createSvgDocument();else if(v[0]==="<"){var E=f.createSvgDocument(v);if(E.childNodes.length>1){var j=[],B,W;for(B=0,W=E.childNodes.length;B<W;B++){var ce=E.childNodes[B];j.push(new f(document.importNode(ce,!0)))}return j}v=document.importNode(E.firstChild,!0)}else v=document.createElementNS(t.svg,v);f.ensureId(v)}return this.node=v,this.setAttributes(b),M&&this.append(M),this}},y=f.prototype;Object.defineProperty(y,"id",{enumerable:!0,get:function(){return this.node.id},set:function(v){this.node.id=v}}),y.getTransformToElement=function(v){var b=this.node;if(f.isSVGGraphicsElement(v)&&f.isSVGGraphicsElement(b)){var M=f.toNode(v).getScreenCTM(),E=b.getScreenCTM();if(M&&E)return M.inverse().multiply(E)}return f.createSVGMatrix()},y.transform=function(v,b){var M=this.node;if(f.isUndefined(v))return f.transformStringToMatrix(this.attr("transform"));if(b&&b.absolute)return this.attr("transform",f.matrixToTransformString(v));var E=f.createSVGTransform(v);return M.transform.baseVal.appendItem(E),this},y.translate=function(v,b,M){M=M||{},b=b||0;var E=this.attr("transform")||"",j=f.parseTransformString(E);if(E=j.value,f.isUndefined(v))return j.translate;E=E.replace(/translate\([^)]*\)/g,"").trim();var B=M.absolute?v:j.translate.tx+v,W=M.absolute?b:j.translate.ty+b,ce="translate("+B+","+W+")";return this.attr("transform",(ce+" "+E).trim()),this},y.rotate=function(v,b,M,E){E=E||{};var j=this.attr("transform")||"",B=f.parseTransformString(j);if(j=B.value,f.isUndefined(v))return B.rotate;j=j.replace(/rotate\([^)]*\)/g,"").trim(),v%=360;var W=E.absolute?v:B.rotate.angle+v,ce=b!==void 0&&M!==void 0?","+b+","+M:"",pe="rotate("+W+ce+")";return this.attr("transform",(j+" "+pe).trim()),this},y.scale=function(v,b){b=f.isUndefined(b)?v:b;var M=this.attr("transform")||"",E=f.parseTransformString(M);if(M=E.value,f.isUndefined(v))return E.scale;M=M.replace(/scale\([^)]*\)/g,"").trim();var j="scale("+v+","+b+")";return this.attr("transform",(M+" "+j).trim()),this},y.bbox=function(v,b){var M,E=this.node,j=E.ownerSVGElement;if(!j)return new fe(0,0,0,0);try{M=E.getBBox()}catch{M={x:E.clientLeft,y:E.clientTop,width:E.clientWidth,height:E.clientHeight}}if(v)return new fe(M);var B=this.getTransformToElement(b||j);return f.transformRect(M,B)},y.getBBox=function(v){var b={},M,E=this.node,j=E.ownerSVGElement;if(!j||!f.isSVGGraphicsElement(E))return new fe(0,0,0,0);if(v&&(v.target&&(b.target=f.toNode(v.target)),v.recursive&&(b.recursive=v.recursive)),b.recursive){var W=this.children(),ce=W.length;if(ce===0)return this.getBBox({target:b.target,recursive:!1});b.target||(b.target=this);for(var pe=0;pe<ce;pe++){var V=W[pe],Q;V.children().length===0?Q=V.getBBox({target:b.target,recursive:!1}):Q=V.getBBox({target:b.target,recursive:!0}),M?M=M.union(Q):M=Q}return M}else{try{M=E.getBBox()}catch{M={x:E.clientLeft,y:E.clientTop,width:E.clientWidth,height:E.clientHeight}}if(b.target){var B=this.getTransformToElement(b.target);return f.transformRect(M,B)}else return new fe(M)}};function I(v,b){v||(v={});var M=f("textPath"),E=v.d;if(E&&v["xlink:href"]===void 0){var j=f("path").attr("d",E).appendTo(b.defs());M.attr("xlink:href","#"+j.id)}return f.isObject(v)&&M.attr(v),M.node}function x(v,b,M){M||(M={});for(var E=M.includeAnnotationIndices,j=M.eol,B=M.lineHeight,W=M.baseSize,ce=0,pe={},V=b.length-1,Q=0;Q<=V;Q++){var $=b[Q],q=null;if(f.isObject($)){var Pe=$.attrs,Me=f("tspan",Pe),Ct=Me.node,Pt=$.t;j&&Q===V&&(Pt+=j),Ct.textContent=Pt;var xe=Pe.class;xe&&Me.addClass(xe),E&&Me.attr("annotations",$.annotations),q=parseFloat(Pe["font-size"]),isFinite(q)||(q=W),q&&q>ce&&(ce=q)}else j&&Q===V&&($+=j),Ct=document.createTextNode($||" "),W&&W>ce&&(ce=W);v.appendChild(Ct)}return ce&&(pe.maxFontSize=ce),B?pe.lineHeight=B:ce&&(pe.lineHeight=ce*1.2),pe}var S=/em$/;function N(v,b){var M=parseFloat(v);return S.test(v)?M*b:M}function P(v,b,M,E){if(!Array.isArray(b))return 0;var j=b.length;if(!j)return 0;for(var B=b[0],W=N(B.maxFontSize,M)||M,ce=0,pe=N(E,M),V=1;V<j;V++){B=b[V];var Q=N(B.lineHeight,M)||pe;ce+=Q}var $=N(B.maxFontSize,M)||M,q;switch(v){case"middle":q=W/2-.15*$-ce/2;break;case"bottom":q=-(.25*$)-ce;break;default:case"top":q=.8*W;break}return q}y.text=function(v,b){if(v&&typeof v!="string")throw new Error("Vectorizer: text() expects the first argument to be a string.");v=f.sanitizeText(v),b||(b={});var M=b.displayEmpty,E=b.eol,j=b.textPath,B=b.textVerticalAnchor,W=B==="middle"||B==="bottom"||B==="top",ce=b.x;ce===void 0&&(ce=this.attr("x")||0);var pe=b.includeAnnotationIndices,V=b.annotations;V&&!f.isArray(V)&&(V=[V]);var Q=b.lineHeight,$=Q==="auto",q=$?"1.5em":Q||"1em";this.empty(),this.attr({"xml:space":"preserve",display:v||M?null:"none"});var Pe=parseFloat(this.attr("font-size"));Pe||(Pe=16,(W||V)&&this.attr("font-size",Pe));var Me=document,Ct;j?(typeof j=="string"&&(j={d:j}),Ct=I(j,this)):Ct=Me.createDocumentFragment();for(var Pt=0,xe=v.split(`
`),Te=[],oe,re=0,he=xe.length-1;re<=he;re++){var Be=q,it="v-line",Se=Me.createElementNS(t.svg,"tspan"),dt=xe[re],w;if(dt)if(V){var T=f.annotateString(dt,V,{offset:-Pt,includeAnnotationIndices:pe});w=x(Se,T,{includeAnnotationIndices:pe,eol:re!==he&&E,lineHeight:$?null:q,baseSize:Pe});var R=w.lineHeight;R&&$&&re!==0&&(Be=R),re===0&&(oe=w.maxFontSize*.8)}else E&&re!==he&&(dt+=E),Se.textContent=dt;else{Se.textContent="-",it+=" v-empty-line";var F=Se.style;if(F.fillOpacity=0,F.strokeOpacity=0,V){w={},T=f.findAnnotationsAtIndex(V,Pt);let se=Pe;for(let ye=T.length;ye>0;ye--){let Oe=T[ye-1].attrs;if(!Oe||!("font-size"in Oe))continue;let Qe=parseFloat(Oe["font-size"]);if(isFinite(Qe)){se=Qe;break}}$&&(re>0?Be=se*1.2:oe=se*.8),Se.setAttribute("font-size",se),w.maxFontSize=se}}w&&Te.push(w),re>0&&Se.setAttribute("dy",Be),(re>0||j)&&Se.setAttribute("x",ce),Se.className.baseVal=it,Ct.appendChild(Se),Pt+=dt.length+1}if(W)if(V)Be=P(B,Te,Pe,q);else if(B==="top")Be="0.8em";else{var G;switch(he>0?(G=parseFloat(q)||1,G*=he,S.test(q)||(G/=Pe)):G=0,B){case"middle":Be=.3-G/2+"em";break;case"bottom":Be=-G-.3+"em";break}}else B===0?Be="0em":B?Be=B:(Be=0,this.attr("y")===null&&this.attr("y",oe||"0.8em"));return Ct.firstChild.setAttribute("dy",Be),this.append(Ct),this},y.removeAttr=function(v){let b=ie[v],{ns:M,local:E}=f.qualifyAttr(b),j=this.node;return M?j.hasAttributeNS(M,E)&&j.removeAttributeNS(M,E):j.hasAttribute(b)&&j.removeAttribute(b),this},y.attr=function(v,b){if(f.isUndefined(v)){for(var M=this.node.attributes,E={},j=0;j<M.length;j++)E[M[j].name]=M[j].value;return E}if(f.isString(v)&&f.isUndefined(b))return this.node.getAttribute(ie[v]);if(typeof v=="object")for(var B in v)v.hasOwnProperty(B)&&this.setAttribute(B,v[B]);else this.setAttribute(v,b);return this},y.normalizePath=function(){var v=this.tagName();return v==="PATH"&&this.attr("d",f.normalizePathData(this.attr("d"))),this},y.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},y.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},y.setAttributes=function(v){for(var b in v)v.hasOwnProperty(b)&&this.setAttribute(b,v[b]);return this},y.append=function(v){f.isArray(v)||(v=[v]);for(var b=0,M=v.length;b<M;b++)this.node.appendChild(f.toNode(v[b]));return this},y.prepend=function(v){var b=this.node.firstChild;return b?f(b).before(v):this.append(v)},y.before=function(v){var b=this.node,M=b.parentNode;if(M){f.isArray(v)||(v=[v]);for(var E=0,j=v.length;E<j;E++)M.insertBefore(f.toNode(v[E]),b)}return this},y.appendTo=function(v){return f.toNode(v).appendChild(this.node),this},y.svg=function(){return this.node instanceof window.SVGSVGElement?this:f(this.node.ownerSVGElement)},y.tagName=function(){return this.node.tagName.toUpperCase()},y.defs=function(){var v=this.svg()||this,b=v.node.getElementsByTagName("defs")[0];return b?f(b):f("defs").appendTo(v)},y.clone=function(){var v=f(this.node.cloneNode(!0));return v.node.id=f.uniqueId(),v},y.findOne=function(v){var b=this.node.querySelector(v);return b?f(b):void 0},y.find=function(v){var b=[],M=this.node.querySelectorAll(v);if(M)for(var E=0;E<M.length;E++)b.push(f(M[E]));return b},y.children=function(){for(var v=this.node.childNodes,b=[],M=0;M<v.length;M++){var E=v[M];E.nodeType===1&&b.push(f(v[M]))}return b},y.parent=function(){return f(this.node.parentNode)||null},y.index=function(){for(var v=0,b=this.node.previousSibling;b;)b.nodeType===1&&v++,b=b.previousSibling;return v},y.findParentByClass=function(v,b){for(var M=this.node.ownerSVGElement,E=this.node.parentNode;E&&E!==b&&E!==M;){var j=f(E);if(j.hasClass(v))return j;E=E.parentNode}return null},y.contains=function(v){var b=this.node,M=f.toNode(v),E=M&&M.parentNode;return b===E||!!(E&&E.nodeType===1&&b.compareDocumentPosition(E)&16)},y.toLocalPoint=function(v,b){var M=this.svg().node,E=M.createSVGPoint();E.x=v,E.y=b;try{var j=E.matrixTransform(M.getScreenCTM().inverse()),B=this.getTransformToElement(M).inverse()}catch{return E}return j.matrixTransform(B)},y.translateCenterToPoint=function(v){var b=this.getBBox({target:this.svg()}),M=b.center();return this.translate(v.x-M.x,v.y-M.y),this},y.translateAndAutoOrient=function(v,b,M){v=new k(v),b=new k(b),M||(M=this.svg());var E=this.scale();this.attr("transform","");var j=this.getBBox({target:M}).scale(E.sx,E.sy),B=f.createSVGTransform();B.setTranslate(-j.x-j.width/2,-j.y-j.height/2);var W=f.createSVGTransform(),ce=v.angleBetween(b,v.clone().offset(1,0));ce&&W.setRotate(ce,0,0);var pe=f.createSVGTransform(),V=v.clone().move(b,j.width/2);pe.setTranslate(2*v.x-V.x,2*v.y-V.y);var Q=this.getTransformToElement(M),$=f.createSVGTransform();return $.setMatrix(pe.matrix.multiply(W.matrix.multiply(B.matrix.multiply(Q.scale(E.sx,E.sy))))),this.attr("transform",f.matrixToTransformString($.matrix)),this},y.animateAlongPath=function(v,b){b=f.toNode(b);var M=f.ensureId(b),E=f("animateMotion",v),j=f("mpath",{"xlink:href":"#"+M});E.append(j),this.append(E);try{E.node.beginElement()}catch{if(document.documentElement.getAttribute("smiling")==="fake"){var B=E.node;B.animators=[];var W=B.getAttribute("id");W&&(id2anim[W]=B);for(var ce=getTargets(B),pe=0,V=ce.length;pe<V;pe++){var Q=ce[pe],$=new Animator(B,Q,pe);animators.push($),B.animators[pe]=$,$.register()}}}return this};let U=/[^\x20\t\r\n\f]+/g;function H(v){return f.isString(v)?v.trim().match(U)||[]:[]}y.hasClass=function(v){return f.isString(v)?this.node.classList.contains(v.trim()):!1},y.addClass=function(v){return this.node.classList.add(...H(v)),this},y.removeClass=function(v){return this.node.classList.remove(...H(v)),this},y.toggleClass=function(v,b){let M=H(v);for(let E=0;E<M.length;E++)this.node.classList.toggle(M[E],b);return this},y.sample=function(v){v=v||1;for(var b=this.node,M=b.getTotalLength(),E=[],j=0,B;j<M;)B=b.getPointAtLength(j),E.push({x:B.x,y:B.y,distance:j}),j+=v;return E},y.convertToPath=function(){var v=f("path");v.attr(this.attr());var b=this.convertToPathData();return b&&v.attr("d",b),v},y.convertToPathData=function(){var v=this.tagName();switch(v){case"PATH":return this.attr("d");case"LINE":return f.convertLineToPathData(this.node);case"POLYGON":return f.convertPolygonToPathData(this.node);case"POLYLINE":return f.convertPolylineToPathData(this.node);case"ELLIPSE":return f.convertEllipseToPathData(this.node);case"CIRCLE":return f.convertCircleToPathData(this.node);case"RECT":return f.convertRectToPathData(this.node)}throw new Error(v+" cannot be converted to PATH.")},f.prototype.toGeometryShape=function(){var v,b,M,E,j,B,W,ce,pe,V,Q,$,q,Pe,Me;switch(this.tagName()){case"RECT":return v=parseFloat(this.attr("x"))||0,b=parseFloat(this.attr("y"))||0,M=parseFloat(this.attr("width"))||0,E=parseFloat(this.attr("height"))||0,new fe(v,b,M,E);case"CIRCLE":return j=parseFloat(this.attr("cx"))||0,B=parseFloat(this.attr("cy"))||0,W=parseFloat(this.attr("r"))||0,new un({x:j,y:B},W,W);case"ELLIPSE":return j=parseFloat(this.attr("cx"))||0,B=parseFloat(this.attr("cy"))||0,ce=parseFloat(this.attr("rx"))||0,pe=parseFloat(this.attr("ry"))||0,new un({x:j,y:B},ce,pe);case"POLYLINE":return V=f.getPointsFromSvgNode(this),new at(V);case"POLYGON":return V=f.getPointsFromSvgNode(this),V.length>1&&V.push(V[0]),new at(V);case"PATH":return Q=this.attr("d"),be.isDataSupported(Q)||(Q=f.normalizePathData(Q)),new be(Q);case"LINE":return $=parseFloat(this.attr("x1"))||0,Pe=parseFloat(this.attr("y1"))||0,q=parseFloat(this.attr("x2"))||0,Me=parseFloat(this.attr("y2"))||0,new ge({x:$,y:Pe},{x:q,y:Me})}return this.getBBox()},y.findIntersection=function(v,b){var M=this.svg().node;b=b||M;var E=this.getBBox({target:b}),j=E.center();if(E.intersectionWithLineFromCenterToPoint(v)){var B,W=this.tagName();if(W==="RECT"){var ce=new fe(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),pe=this.getTransformToElement(b),V=f.decomposeMatrix(pe),Q=M.createSVGTransform();Q.setRotate(-V.rotation,j.x,j.y);var $=f.transformRect(ce,Q.matrix.multiply(pe));B=new fe($).intersectionWithLineFromCenterToPoint(v,V.rotation)}else if(W==="PATH"||W==="POLYGON"||W==="POLYLINE"||W==="CIRCLE"||W==="ELLIPSE"){var q=W==="PATH"?this:this.convertToPath(),Pe=q.sample(),Me=1/0,Ct=[],Pt,xe,Te,oe,re,he;for(Pt=0;Pt<Pe.length;Pt++)xe=Pe[Pt],Te=f.createSVGPoint(xe.x,xe.y),Te=Te.matrixTransform(this.getTransformToElement(b)),xe=new k(Te),oe=xe.distance(j),re=xe.distance(v)*1.1,he=oe+re,he<Me?(Me=he,Ct=[{sample:xe,refDistance:re}]):he<Me+1&&Ct.push({sample:xe,refDistance:re});Ct.sort(function(Be,it){return Be.refDistance-it.refDistance}),Ct[0]&&(B=Ct[0].sample)}return B}},y.setAttribute=function(v,b){let M=this.node;if(b===null)return this.removeAttr(v),this;let E=ie[v],{ns:j}=f.qualifyAttr(E);return j?M.setAttributeNS(j,E,b):E==="id"?M.id=b:M.setAttribute(E,b),this},f.createSvgDocument=function(v){if(v){let M=`<svg xmlns="${t.svg}" xmlns:xlink="${t.xlink}" version="${n}">${v}</svg>`,{documentElement:E}=f.parseXML(M,{async:!1});return E}let b=document.createElementNS(t.svg,"svg");return b.setAttributeNS(t.xmlns,"xmlns:xlink",t.xlink),b.setAttribute("version",n),b},f.createSVGStyle=function(v){let{node:b}=f("style",{type:"text/css"},[f.createCDATASection(v)]);return b},f.createCDATASection=function(v=""){return document.implementation.createDocument(null,"xml",null).createCDATASection(v)},f.idCounter=0,f.uniqueId=function(){return"v-"+ ++f.idCounter},f.toNode=function(v){return f.isV(v)?v.node:v.nodeName&&v||v[0]},f.ensureId=function(v){return v=f.toNode(v),v.id||(v.id=f.uniqueId())},f.sanitizeText=function(v){return(v||"").replace(/ /g,"\xA0")},f.isUndefined=function(v){return typeof v>"u"},f.isString=function(v){return typeof v=="string"},f.isObject=function(v){return v&&typeof v=="object"},f.isArray=Array.isArray,f.parseXML=function(v,b){b=b||{};var M;try{var E=new DOMParser;f.isUndefined(b.async)||(E.async=b.async),M=E.parseFromString(v,"text/xml")}catch{M=void 0}if(!M||M.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+v);return M};let J=Object.create(null);["baseFrequency","baseProfile","clipPathUnits","contentScriptType","contentStyleType","diffuseConstant","edgeMode","externalResourcesRequired","filterRes","filterUnits","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].forEach(v=>J[v]=v);let ie=new Proxy(J,{get(v,b){return f.supportCamelCaseAttributes?b in v?v[b]:v[b]=b.replace(/[A-Z]/g,"-$&").toLowerCase():b}});Object.defineProperty(f,"attributeNames",{value:ie,writable:!1}),Object.defineProperty(f,"supportCamelCaseAttributes",{value:!1,writable:!0}),f.qualifyAttr=function(v){if(v.indexOf(":")!==-1){var b=v.split(":");return{ns:t[b[0]],local:b[1]}}return{ns:null,local:v}},f.transformSeparatorRegex=/[ ,]+/,f.transformRegex=/\b\w+\([^()]+\)/g,f.transformFunctionRegex=/\b(\w+)\(([^()]+)\)/,f.transformTranslateRegex=/\btranslate\(([^()]+)\)/,f.transformRotateRegex=/\brotate\(([^()]+)\)/,f.transformScaleRegex=/\bscale\(([^()]+)\)/,f.transformStringToMatrix=function(v){let b=f.createSVGMatrix(),M=v&&v.match(f.transformRegex);if(!M)return b;let E=M.length;for(let j=0;j<E;j++){let W=M[j].match(f.transformFunctionRegex);if(W){let ce,pe,V,Q,$,q=f.createSVGMatrix(),Pe=W[1].toLowerCase(),Me=W[2].split(f.transformSeparatorRegex);switch(Pe){case"scale":ce=parseFloat(Me[0]),pe=Me[1]===void 0?ce:parseFloat(Me[1]),q=q.scaleNonUniform(ce,pe);break;case"translate":V=parseFloat(Me[0]),Q=parseFloat(Me[1]),q=q.translate(V,Q);break;case"rotate":$=parseFloat(Me[0]),V=parseFloat(Me[1])||0,Q=parseFloat(Me[2])||0,V!==0||Q!==0?q=q.translate(V,Q).rotate($).translate(-V,-Q):q=q.rotate($);break;case"skewx":$=parseFloat(Me[0]),q=q.skewX($);break;case"skewy":$=parseFloat(Me[0]),q=q.skewY($);break;case"matrix":q.a=parseFloat(Me[0]),q.b=parseFloat(Me[1]),q.c=parseFloat(Me[2]),q.d=parseFloat(Me[3]),q.e=parseFloat(Me[4]),q.f=parseFloat(Me[5]);break;default:continue}b=b.multiply(q)}}return b},f.matrixToTransformString=function(v){return v||(v=!0),"matrix("+(v.a!==void 0?v.a:1)+","+(v.b!==void 0?v.b:0)+","+(v.c!==void 0?v.c:0)+","+(v.d!==void 0?v.d:1)+","+(v.e!==void 0?v.e:0)+","+(v.f!==void 0?v.f:0)+")"},f.parseTransformString=function(v){var b,M,E;if(v){var j=f.transformSeparatorRegex;if(v.trim().indexOf("matrix")>=0){var B=f.transformStringToMatrix(v),W=f.decomposeMatrix(B);b=[W.translateX,W.translateY],E=[W.scaleX,W.scaleY],M=[W.rotation];var ce=[];(b[0]!==0||b[1]!==0)&&ce.push("translate("+b+")"),(E[0]!==1||E[1]!==1)&&ce.push("scale("+E+")"),M[0]!==0&&ce.push("rotate("+M+")"),v=ce.join(" ")}else{let V=v.match(f.transformTranslateRegex);V&&(b=V[1].split(j));let Q=v.match(f.transformRotateRegex);Q&&(M=Q[1].split(j));let $=v.match(f.transformScaleRegex);$&&(E=$[1].split(j))}}var pe=E&&E[0]?parseFloat(E[0]):1;return{value:v,translate:{tx:b&&b[0]?parseInt(b[0],10):0,ty:b&&b[1]?parseInt(b[1],10):0},rotate:{angle:M&&M[0]?parseInt(M[0],10):0,cx:M&&M[1]?parseInt(M[1],10):void 0,cy:M&&M[2]?parseInt(M[2],10):void 0},scale:{sx:pe,sy:E&&E[1]?parseFloat(E[1]):pe}}},f.deltaTransformPoint=function(v,b){var M=b.x*v.a+b.y*v.c+0,E=b.x*v.b+b.y*v.d+0;return{x:M,y:E}},f.decomposeMatrix=function(v){var b=f.deltaTransformPoint(v,{x:0,y:1}),M=f.deltaTransformPoint(v,{x:1,y:0}),E=180/i*o(b.y,b.x)-90,j=180/i*o(M.y,M.x);return{translateX:v.e,translateY:v.f,scaleX:s(v.a*v.a+v.b*v.b),scaleY:s(v.c*v.c+v.d*v.d),skewX:E,skewY:j,rotation:E}},f.matrixToScale=function(v){var b,M,E,j;return v?(b=f.isUndefined(v.a)?1:v.a,j=f.isUndefined(v.d)?1:v.d,M=v.b,E=v.c):b=j=1,{sx:M?s(b*b+M*M):b,sy:E?s(E*E+j*j):j}},f.matrixToRotate=function(v){var b={x:0,y:1};return v&&(b=f.deltaTransformPoint(v,b)),{angle:dn(Jo(o(b.y,b.x))-90)}},f.matrixToTranslate=function(v){return{tx:v&&v.e||0,ty:v&&v.f||0}},f.isV=function(v){return v instanceof f},f.isVElement=f.isV,f.isSVGGraphicsElement=function(v){return v?(v=f.toNode(v),v instanceof SVGElement&&typeof v.getScreenCTM=="function"):!1};var g=f("svg").node;return f.createSVGMatrix=function(v){var b=g.createSVGMatrix();for(var M in v)b[M]=v[M];return b},f.createSVGTransform=function(v){return f.isUndefined(v)?g.createSVGTransform():(v instanceof SVGMatrix||(v=f.createSVGMatrix(v)),g.createSVGTransformFromMatrix(v))},f.createSVGPoint=function(v,b){var M=g.createSVGPoint();return M.x=v,M.y=b,M},f.transformRect=function(v,b){var M=g.createSVGPoint();M.x=v.x,M.y=v.y;var E=M.matrixTransform(b);M.x=v.x+v.width,M.y=v.y;var j=M.matrixTransform(b);M.x=v.x+v.width,M.y=v.y+v.height;var B=M.matrixTransform(b);M.x=v.x,M.y=v.y+v.height;var W=M.matrixTransform(b),ce=a(E.x,j.x,B.x,W.x),pe=u(E.x,j.x,B.x,W.x),V=a(E.y,j.y,B.y,W.y),Q=u(E.y,j.y,B.y,W.y);return new fe(ce,V,pe-ce,Q-V)},f.transformPoint=function(v,b){return new k(f.createSVGPoint(v.x,v.y).matrixTransform(b))},f.transformLine=function(v,b){return new ge(f.transformPoint(v.start,b),f.transformPoint(v.end,b))},f.transformPolyline=function(v,b){var M=v instanceof at?v.points:v;f.isArray(M)||(M=[]);for(var E=[],j=0,B=M.length;j<B;j++)E[j]=f.transformPoint(M[j],b);return new at(E)},f.styleToObject=function(v){for(var b={},M=v.split(";"),E=0;E<M.length;E++){var j=M[E],B=j.split("=");b[B[0].trim()]=B[1].trim()}return b},f.createSlicePathData=function(v,b,M,E){var j=2*i-1e-6,B=v,W=b,ce=M,pe=E,V=(pe<ce&&(V=ce,ce=pe,pe=V),pe-ce),Q=V<i?"0":"1",$=l(ce),q=h(ce),Pe=l(pe),Me=h(pe);return V>=j?B?"M0,"+W+"A"+W+","+W+" 0 1,1 0,"+-W+"A"+W+","+W+" 0 1,1 0,"+W+"M0,"+B+"A"+B+","+B+" 0 1,0 0,"+-B+"A"+B+","+B+" 0 1,0 0,"+B+"Z":"M0,"+W+"A"+W+","+W+" 0 1,1 0,"+-W+"A"+W+","+W+" 0 1,1 0,"+W+"Z":B?"M"+W*$+","+W*q+"A"+W+","+W+" 0 "+Q+",1 "+W*Pe+","+W*Me+"L"+B*Pe+","+B*Me+"A"+B+","+B+" 0 "+Q+",0 "+B*$+","+B*q+"Z":"M"+W*$+","+W*q+"A"+W+","+W+" 0 "+Q+",1 "+W*Pe+","+W*Me+"L0,0Z"},f.mergeAttrs=function(v,b){for(var M in b)M==="class"?v[M]=v[M]?v[M]+" "+b[M]:b[M]:M==="style"?f.isObject(v[M])&&f.isObject(b[M])?v[M]=f.mergeAttrs(v[M],b[M]):f.isObject(v[M])?v[M]=f.mergeAttrs(v[M],f.styleToObject(b[M])):f.isObject(b[M])?v[M]=f.mergeAttrs(f.styleToObject(v[M]),b[M]):v[M]=f.mergeAttrs(f.styleToObject(v[M]),f.styleToObject(b[M])):v[M]=b[M];return v},f.annotateString=function(v,b,M){b=b||[],M=M||{};for(var E=M.offset||0,j=[],B,W=[],ce,pe,V=0;V<v.length;V++){ce=W[V]=v[V];for(var Q=0;Q<b.length;Q++){var $=b[Q],q=$.start+E,Pe=$.end+E;V>=q&&V<Pe&&(f.isObject(ce)?ce.attrs=f.mergeAttrs(f.mergeAttrs({},ce.attrs),$.attrs):ce=W[V]={t:v[V],attrs:$.attrs},M.includeAnnotationIndices&&(ce.annotations||(ce.annotations=[])).push(Q))}pe=W[V-1],pe?f.isObject(ce)&&f.isObject(pe)?JSON.stringify(ce.attrs)===JSON.stringify(pe.attrs)?B.t+=ce.t:(j.push(B),B=ce):f.isObject(ce)||f.isObject(pe)?(j.push(B),B=ce):B=(B||"")+ce:B=ce}return B&&j.push(B),j},f.findAnnotationsAtIndex=function(v,b){var M=[];return v&&v.forEach(function(E){E.start<b&&b<=E.end&&M.push(E)}),M},f.findAnnotationsBetweenIndexes=function(v,b,M){var E=[];return v&&v.forEach(function(j){(b>=j.start&&b<j.end||M>j.start&&M<=j.end||j.start>=b&&j.end<M)&&E.push(j)}),E},f.shiftAnnotations=function(v,b,M){return v&&v.forEach(function(E){E.start<b&&E.end>=b?E.end+=M:E.start>=b&&(E.start+=M,E.end+=M)}),v},f.convertLineToPathData=function(v){v=f(v);var b=["M",v.attr("x1"),v.attr("y1"),"L",v.attr("x2"),v.attr("y2")].join(" ");return b},f.convertPolygonToPathData=function(v){var b=f.getPointsFromSvgNode(v);return b.length===0?null:f.svgPointsToPath(b)+" Z"},f.convertPolylineToPathData=function(v){var b=f.getPointsFromSvgNode(v);return b.length===0?null:f.svgPointsToPath(b)},f.svgPointsToPath=function(v){for(var b=0,M=v.length;b<M;b++)v[b]=v[b].x+" "+v[b].y;return"M "+v.join(" L")},f.getPointsFromSvgNode=function(v){v=f.toNode(v);var b=[],M=v.points;if(M)for(var E=0,j=M.numberOfItems;E<j;E++)b.push(M.getItem(E));return b},f.KAPPA=.551784,f.convertCircleToPathData=function(v){v=f(v);var b=parseFloat(v.attr("cx"))||0,M=parseFloat(v.attr("cy"))||0,E=parseFloat(v.attr("r")),j=E*f.KAPPA,B=["M",b,M-E,"C",b+j,M-E,b+E,M-j,b+E,M,"C",b+E,M+j,b+j,M+E,b,M+E,"C",b-j,M+E,b-E,M+j,b-E,M,"C",b-E,M-j,b-j,M-E,b,M-E,"Z"].join(" ");return B},f.convertEllipseToPathData=function(v){v=f(v);var b=parseFloat(v.attr("cx"))||0,M=parseFloat(v.attr("cy"))||0,E=parseFloat(v.attr("rx")),j=parseFloat(v.attr("ry"))||E,B=E*f.KAPPA,W=j*f.KAPPA,ce=["M",b,M-j,"C",b+B,M-j,b+E,M-W,b+E,M,"C",b+E,M+W,b+B,M+j,b,M+j,"C",b-B,M+j,b-E,M+W,b-E,M,"C",b-E,M-W,b-B,M-j,b,M-j,"Z"].join(" ");return ce},f.convertRectToPathData=function(v){return v=f(v),f.rectToPath({x:parseFloat(v.attr("x"))||0,y:parseFloat(v.attr("y"))||0,width:parseFloat(v.attr("width"))||0,height:parseFloat(v.attr("height"))||0,rx:parseFloat(v.attr("rx"))||0,ry:parseFloat(v.attr("ry"))||0})},f.rectToPath=function(v){var b,M=v.x,E=v.y,j=v.width,B=v.height,W=a(v.rx||v["top-rx"]||0,j/2),ce=a(v.rx||v["bottom-rx"]||0,j/2),pe=a(v.ry||v["top-ry"]||0,B/2),V=a(v.ry||v["bottom-ry"]||0,B/2);return W||ce||pe||V?b=["M",M,E+pe,"v",B-pe-V,"a",ce,V,0,0,0,ce,V,"h",j-2*ce,"a",ce,V,0,0,0,ce,-V,"v",-(B-V-pe),"a",W,pe,0,0,0,-W,-pe,"h",-(j-2*W),"a",W,pe,0,0,0,-W,pe,"Z"]:b=["M",M,E,"H",M+j,"V",E+B,"H",M,"V",E,"Z"],b.join(" ")},f.normalizePathData=function(){var v=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,b=new RegExp("([a-z])["+v+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+v+"]*,?["+v+"]*)+)","ig"),M=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+v+"]*,?["+v+"]*","ig"),E=Math,j=E.PI,B=E.sin,W=E.cos,ce=E.tan,pe=E.asin,V=E.sqrt,Q=E.abs;function $(xe,Te,oe,re,he,Be){var it=.3333333333333333,Se=2/3;return[it*xe+Se*oe,it*Te+Se*re,it*he+Se*oe,it*Be+Se*re,he,Be]}function q(xe,Te,oe){var re=xe*W(oe)-Te*B(oe),he=xe*B(oe)+Te*W(oe);return{x:re,y:he}}function Pe(xe,Te,oe,re,he,Be,it,Se,dt,w){var T=j*120/180,R=j/180*(+he||0),F=[],G;if(w)Ot=w[0],zt=w[1],me=w[2],It=w[3];else{G=q(xe,Te,-R),xe=G.x,Te=G.y,G=q(Se,dt,-R),Se=G.x,dt=G.y;var se=(xe-Se)/2,ye=(Te-dt)/2,Oe=se*se/(oe*oe)+ye*ye/(re*re);Oe>1&&(Oe=V(Oe),oe=Oe*oe,re=Oe*re);var Qe=oe*oe,Zt=re*re,Wt=(Be==it?-1:1)*V(Q((Qe*Zt-Qe*ye*ye-Zt*se*se)/(Qe*ye*ye+Zt*se*se))),me=Wt*oe*ye/re+(xe+Se)/2,It=Wt*-re*se/oe+(Te+dt)/2,Ot=pe(((Te-It)/re).toFixed(9)),zt=pe(((dt-It)/re).toFixed(9));Ot=xe<me?j-Ot:Ot,zt=Se<me?j-zt:zt,Ot<0&&(Ot=j*2+Ot),zt<0&&(zt=j*2+zt),it&&Ot>zt&&(Ot=Ot-j*2),!it&&zt>Ot&&(zt=zt-j*2)}var Gt=zt-Ot;if(Q(Gt)>T){var Kt=zt,kn=Se,Ur=dt;zt=Ot+T*(it&&zt>Ot?1:-1),Se=me+oe*W(zt),dt=It+re*B(zt),F=Pe(Se,dt,oe,re,he,0,it,kn,Ur,[zt,Kt,me,It])}Gt=zt-Ot;var $n=W(Ot),Vr=B(Ot),ri=W(zt),su=B(zt),Mo=ce(Gt/4),au=4/3*(oe*Mo),uu=4/3*(re*Mo),wl=[xe,Te],sr=[xe+au*Vr,Te-uu*$n],zi=[Se+au*su,dt-uu*ri],cu=[Se,dt];if(sr[0]=2*wl[0]-sr[0],sr[1]=2*wl[1]-sr[1],w)return[sr,zi,cu].concat(F);F=[sr,zi,cu].concat(F).join().split(",");for(var lu=[],Xn=F.length,$t=0;$t<Xn;$t++)lu[$t]=$t%2?q(F[$t-1],F[$t],R).y:q(F[$t],F[$t+1],R).x;return lu}function Me(xe){if(!xe)return null;var Te={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},oe=[];return String(xe).replace(b,function(re,he,Be){var it=[],Se=he.toLowerCase();for(Be.replace(M,function(dt,w){w&&it.push(+w)}),Se==="m"&&it.length>2&&(oe.push([he].concat(it.splice(0,2))),Se="l",he=he==="m"?"l":"L");it.length>=Te[Se]&&(oe.push([he].concat(it.splice(0,Te[Se]))),!!Te[Se]););}),oe}function Ct(xe){if((!Array.isArray(xe)||!Array.isArray(xe&&xe[0]))&&(xe=Me(xe)),!xe||!xe.length)return[["M",0,0]];for(var Te=[],oe=0,re=0,he=0,Be=0,it=0,Se,dt=xe.length,w=it;w<dt;w++){var T=[];Te.push(T);var R=xe[w];if(Se=R[0],Se!=Se.toUpperCase()){T[0]=Se.toUpperCase();var F,G;switch(T[0]){case"A":T[1]=R[1],T[2]=R[2],T[3]=R[3],T[4]=R[4],T[5]=R[5],T[6]=+R[6]+oe,T[7]=+R[7]+re;break;case"V":T[1]=+R[1]+re;break;case"H":T[1]=+R[1]+oe;break;case"M":for(he=+R[1]+oe,Be=+R[2]+re,F=R.length,G=1;G<F;G++)T[G]=+R[G]+(G%2?oe:re);break;default:for(F=R.length,G=1;G<F;G++)T[G]=+R[G]+(G%2?oe:re);break}}else for(var se=R.length,ye=0;ye<se;ye++)T[ye]=R[ye];switch(T[0]){case"Z":oe=+he,re=+Be;break;case"H":oe=T[1];break;case"V":re=T[1];break;case"M":he=T[T.length-2],Be=T[T.length-1],oe=T[T.length-2],re=T[T.length-1];break;default:oe=T[T.length-2],re=T[T.length-1];break}}return Te}function Pt(xe){var Te=Ct(xe),oe={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function re(F,G,se){var ye,Oe;if(!F)return["C",G.x,G.y,G.x,G.y,G.x,G.y];switch(F[0]in{T:1,Q:1}||(G.qx=null,G.qy=null),F[0]){case"M":G.X=F[1],G.Y=F[2];break;case"A":parseFloat(F[1])===0||parseFloat(F[2])===0?F=["L",F[6],F[7]]:F=["C"].concat(Pe.apply(0,[G.x,G.y].concat(F.slice(1))));break;case"S":se==="C"||se==="S"?(ye=G.x*2-G.bx,Oe=G.y*2-G.by):(ye=G.x,Oe=G.y),F=["C",ye,Oe].concat(F.slice(1));break;case"T":se==="Q"||se==="T"?(G.qx=G.x*2-G.qx,G.qy=G.y*2-G.qy):(G.qx=G.x,G.qy=G.y),F=["C"].concat($(G.x,G.y,G.qx,G.qy,F[1],F[2]));break;case"Q":G.qx=F[1],G.qy=F[2],F=["C"].concat($(G.x,G.y,F[1],F[2],F[3],F[4]));break;case"H":F=["L"].concat(F[1],G.y);break;case"V":F=["L"].concat(G.x,F[1]);break;case"L":break;case"Z":break}return F}function he(F,G){if(F[G].length>7){F[G].shift();for(var se=F[G];se.length;)Be[G]="A",F.splice(G++,0,["C"].concat(se.splice(0,6)));F.splice(G,1),dt=Te.length}}for(var Be=[],it="",Se="",dt=Te.length,w=0;w<dt;w++){Te[w]&&(it=Te[w][0]),it!=="C"&&(Be[w]=it,w>0&&(Se=Be[w-1])),Te[w]=re(Te[w],oe,Se),Be[w]!=="A"&&it==="C"&&(Be[w]="C"),he(Te,w);var T=Te[w],R=T.length;oe.x=T[R-2],oe.y=T[R-1],oe.bx=parseFloat(T[R-4])||oe.x,oe.by=parseFloat(T[R-3])||oe.y}return(!Te[0][0]||Te[0][0]!=="M")&&Te.unshift(["M",0,0]),Te}return function(xe){return Pt(xe).join(",").split(",").join(" ")}}(),f.namespace=t,f.g=An,f}(),ee=g3;var Dn={useCSSSelectors:!0,classNamePrefix:"joint-",defaultTheme:"default",doubleTapInterval:300};var Yc="[object Arguments]",BI="[object Array]",Vh="[object Boolean]",ZI="[object Date]",JT="[object Error]",m3="[object Function]",Xc="[object Map]",Zh="[object Number]",v3="[object Null]",Va="[object Object]",WI="[object RegExp]",Jc="[object Set]",Wh="[object String]",Hh="[object Symbol]",y3="[object Undefined]",I3="[object WeakMap]",HI="[object ArrayBuffer]",YI="[object DataView]",qT="[object Float32Array]",QT="[object Float64Array]",KT="[object Int8Array]",eS="[object Int16Array]",tS="[object Int32Array]",nS="[object Uint8Array]",rS="[object Uint8ClampedArray]",iS="[object Uint16Array]",oS="[object Uint32Array]",C3={[Yc]:!0,[BI]:!0,[HI]:!0,[YI]:!0,[Vh]:!0,[ZI]:!0,[qT]:!0,[QT]:!0,[KT]:!0,[eS]:!0,[tS]:!0,[Xc]:!0,[Zh]:!0,[Va]:!0,[WI]:!0,[Jc]:!0,[Wh]:!0,[Hh]:!0,[nS]:!0,[rS]:!0,[iS]:!0,[oS]:!0,[JT]:!1,[m3]:!1,[I3]:!1},$I="\\ud800-\\udfff",w3="\\u0300-\\u036f",A3="\\ufe20-\\ufe2f",b3="\\u20d0-\\u20ff",x3="\\u1ab0-\\u1aff",D3="\\u1dc0-\\u1dff",M3=w3+A3+b3+x3+D3,sS="\\u2700-\\u27bf",aS="a-z\\xdf-\\xf6\\xf8-\\xff",T3="\\xac\\xb1\\xd7\\xf7",S3="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",N3="\\u2000-\\u206f",E3=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",uS="A-Z\\xc0-\\xd6\\xd8-\\xde",P3="\\ufe0e\\ufe0f",cS=T3+S3+N3+E3,lS="['\u2019]",ZT=`[${cS}]`,XI=`[${M3}]`,fS="\\d",O3=`[${sS}]`,dS=`[${aS}]`,hS=`[^${$I}${cS+fS+sS+aS+uS}]`,zI="\\ud83c[\\udffb-\\udfff]",R3=`(?:${XI}|${zI})`,pS=`[^${$I}]`,JI="(?:\\ud83c[\\udde6-\\uddff]){2}",qI="[\\ud800-\\udbff][\\udc00-\\udfff]",Ua=`[${uS}]`,L3="\\u200d",WT=`(?:${dS}|${hS})`,k3=`(?:${Ua}|${hS})`,HT=`(?:${lS}(?:d|ll|m|re|s|t|ve))?`,YT=`(?:${lS}(?:D|LL|M|RE|S|T|VE))?`,gS=`${R3}?`,mS=`[${P3}]?`,_3=`(?:${L3}(?:${[pS,JI,qI].join("|")})${mS+gS})*`,F3="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",j3="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",vS=mS+gS+_3,B3=`(?:${[O3,JI,qI].join("|")})${vS}`,z3=RegExp([`${Ua}?${dS}+${HT}(?=${[ZT,Ua,"$"].join("|")})`,`${k3}+${YT}(?=${[ZT,Ua+WT,"$"].join("|")})`,`${Ua}?${WT}+${HT}`,`${Ua}+${YT}`,j3,F3,`${fS}+`,B3].join("|"),"g"),QI=200,GI="__hash_undefined__",G3=/^\[object (?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)Array\]$/,U3=`[${$I}]`,V3=`${pS}${XI}?`,Z3=`(?:${[V3,XI,JI,qI,U3].join("|")})`,yS=RegExp(`${zI}(?=${zI})|${Z3+vS}`,"g"),W3=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,H3=/^\w*$/,Y3=46,$3=/\\(\\)?/g,X3=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g"),J3=/^(?:0|[1-9]\d*)$/,q3=RegExp.prototype.test.bind(/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/),Q3=4294967294,K3=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,IS=e=>yS.test(e),eF=e=>e.match(yS)||[],tF=e=>e.split(""),CS=e=>IS(e)?eF(e):tF(e),nF=e=>e==null?[]:qc(e).map(t=>e[t]),qc=e=>Br(e)?wS(e):Object.keys(Object(e)),rF=e=>{if(!Yh(e))return Object.keys(e);var t=[];for(var n in Object(e))hasOwnProperty.call(e,n)&&n!="constructor"&&t.push(n);return t},wS=(e,t)=>{let n=Array.isArray(e),r=!n&&ni(e)&&jr(e)===Yc,i=!n&&!r&&el(e),o=n||r||i,s=e.length,a=new Array(o?s:0),u=o?-1:s;for(;++u<s;)a[u]=`${u}`;for(let l in e)(t||hasOwnProperty.call(e,l))&&!(o&&(l==="length"||ES(l,s)))&&a.push(l);return a},jh=(e,t)=>{let{length:n}=e;for(;n--;)if(Ha(e[n][0],t))return n;return-1},Ha=(e,t)=>e===t||e!==e&&t!==t,ni=e=>e!=null&&typeof e=="object",zh=(e,t,n)=>{if(!$e(n))return!1;let r=typeof t;return(r=="number"?Br(n)&&t>-1&&t<n.length:r=="string"&&t in n)?Ha(n[t],e):!1},iF=e=>ni(e)&&jr(e)==Jc,oF=e=>ni(e)&&jr(e)==Xc,Yh=e=>{let t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Object.prototype;return e===n},Qc=(e,t,n)=>{let r=e[t];(!(hasOwnProperty.call(e,t)&&Ha(r,n))||n===void 0&&!(t in e))&&(e[t]=n)},Kc=(e,t,n)=>{let r=-1,i=t.length;for(;++r<i;){let o=t[r];Qc(n,o,e[o])}return n},Br=e=>e!=null&&typeof e!="function"&&typeof e.length=="number"&&e.length>-1&&e.length%1===0,Wa=e=>typeof e=="symbol"||ni(e)&&jr(e)===Hh,sF=e=>{let t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&hasOwnProperty.call(e,"index")&&(n.index=e.index,n.input=e.input),n},KI=(e,t)=>{let n=-1,r=e.length;for(t||(t=new Array(r));++n<r;)t[n]=e[n];return t},jr=e=>e==null?e===void 0?y3:v3:Object.prototype.toString.call(e),e0=e=>{let t=new e.constructor(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t},AS=(e,t)=>{let n=t?e0(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},aF=e=>{let t=new e.constructor(e.source,/\w*$/.exec(e));return t.lastIndex=e.lastIndex,t},bS=e=>typeof e.constructor=="function"&&!Yh(e)?Object.create(Object.getPrototypeOf(e)):{},t0=e=>e==null?[]:(e=Object(e),Object.getOwnPropertySymbols(e).filter(n=>propertyIsEnumerable.call(e,n))),uF=(e,t)=>Kc(e,t0(e),t);function cF(e,t){let n=t?e0(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var lF=(e,t,n)=>{let r=e.constructor;switch(t){case HI:return e0(e,n);case Vh:case ZI:return new r(+e);case YI:return cF(e,n);case qT:case QT:case KT:case eS:case tS:case nS:case rS:case iS:case oS:return AS(e,n);case Xc:return new r(e);case Zh:case Wh:return new r(e);case WI:return aF(e);case Jc:return new r;case Hh:return Symbol.prototype.valueOf?Object(Symbol.prototype.valueOf.call(e)):{}}},el=e=>ni(e)&&G3.test(jr(e)),UI=e=>{let t=Object.keys(e);return!Array.isArray(e)&&e!=null&&t.push(...t0(Object(e))),t},xS=e=>{let t=[];for(;e;)t.push(...t0(e)),e=Object.getPrototypeOf(Object(e));return t},DS=e=>{let t=[];for(let n in e)t.push(n);return Array.isArray(e)||t.push(...xS(e)),t},Bh=({__data__:e},t)=>{let n=e;return wF(t)?n[typeof t=="string"?"string":"hash"]:n.map},fF=(e,t,n,r)=>{let i=UI(e),o=i.length,a=UI(t).length;if(o!=a)return!1;let u,l=o;for(;l--;)if(u=i[l],!hasOwnProperty.call(t,u))return!1;let h=r.get(e),f=r.get(t);if(h&&f)return h==t&&f==e;let y=!0;r.set(e,t),r.set(t,e);let I,x;for(;++l<o;){u=i[l];let S=e[u],N=t[u];if(!(I===void 0?S===N||n(S,N,r):I)){y=!1;break}x||(x=u=="constructor")}if(y&&!x){let S=e.constructor,N=t.constructor;S!=N&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof N=="function"&&N instanceof N)&&(y=!1)}return r.delete(e),r.delete(t),y},$h=(e,t,n)=>e===t?!0:e==null||t==null||!ni(e)&&!ni(t)?e!==e&&t!==t:dF(e,t,$h,n),dF=(e,t,n,r)=>{let i=Array.isArray(e),o=Array.isArray(t),s=i?BI:jr(e),a=o?BI:jr(t);s=s==Yc?Va:s,a=a==Yc?Va:a;let u=s==Va,l=a==Va,h=s==a;if(h&&!u)return r||(r=new yo),i||el(e)?MS(e,t,!1,n,r):gF(e,t,s,n,r);let f=u&&hasOwnProperty.call(e,"__wrapped__"),y=l&&hasOwnProperty.call(t,"__wrapped__");if(f||y){let I=f?e.value():e,x=y?t.value():t;return r||(r=new yo),n(I,x,r)}return h?(r||(r=new yo),fF(e,t,n,r)):!1},MS=(e,t,n,r,i)=>{let s=e.length,a=t.length;if(s!=a)return!1;let u=i.get(e),l=i.get(t);if(u&&l)return u==t&&l==e;let h=-1,f=!0,y=n?new ms:void 0;for(i.set(e,t),i.set(t,e);++h<s;){let I,x=e[h],S=t[h];if(I!==void 0){if(I)continue;f=!1;break}if(y){if(!hF(t,(N,P)=>{if(!pF(y,P)&&(x===N||r(x,N,i)))return y.push(P)})){f=!1;break}}else if(!(x===S||r(x,S,i))){f=!1;break}}return i.delete(e),i.delete(t),f},hF=(e,t)=>{let n=-1,r=e==null?0:e.length;for(;++n<r;)if(t(e[n],n,e))return!0;return!1},pF=(e,t)=>e.has(t),$T=(e,t,n,r)=>!(e.byteLength!=t.byteLength||!n(new Uint8Array(e),new Uint8Array(t),r)),gF=(e,t,n,r,i)=>{switch(n){case YI:return e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset?!1:(e=e.buffer,t=t.buffer,$T(e,t,r,i));case HI:return $T(e,t,r,i);case Vh:case ZI:case Zh:return Ha(+e,+t);case JT:return e.name==t.name&&e.message==t.message;case WI:case Wh:return e==`${t}`;case Xc:let o=TS;case Jc:if(o||(o=Xh),e.size!=t.size)return!1;let s=i.get(e);if(s)return s==t;i.set(e,t);let a=MS(o(e),o(t),!0,r,i);return i.delete(e),a;case Hh:return Symbol.prototype.valueOf.call(e)==Symbol.prototype.valueOf.call(t)}return!1},TS=e=>{let t=-1,n=Array(e.size);return e.forEach((r,i)=>{n[++t]=[i,r]}),n},Xh=e=>{let t=-1,n=new Array(e.size);return e.forEach(r=>{n[++t]=r}),n},n0=(e,t)=>{if(Array.isArray(e))return!1;let n=typeof e;return n==="number"||n==="boolean"||e==null||Wa(e)?!0:H3.test(e)||!W3.test(e)||t!=null&&e in Object(t)},mF=e=>{let t=[];return e.charCodeAt(0)===Y3&&t.push(""),e.replace(X3,(n,r,i,o)=>{let s=n;i?s=o.replace($3,"$1"):r&&(s=r.trim()),t.push(s)}),t},Ya=(e,t)=>Array.isArray(e)?e:n0(e,t)?[e]:mF(`${e}`),Jh=(e,t)=>{t=Ya(t,e);let n=0,r=t.length;for(;e!=null&&n<r;)e=e[vs(t[n])],n++;return n&&n==r?e:void 0};function vF(e,t){if(e!==t){let n=e!==void 0,r=e===null,i=e===e,o=Wa(e),s=t!==void 0,a=t===null,u=t===t,l=Wa(t);if(!a&&!l&&!o&&e>t||o&&s&&u&&!a&&!l||r&&s&&u||!n&&u||!i)return 1;if(!r&&!o&&!l&&e<t||l&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!u)return-1}return 0}function yF(e,t,n){let r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;for(;++r<s;){let u=r<a?n[r]:null,h=(u&&typeof u=="function"?u:vF)(i[r],o[r]);if(h)return u&&typeof u!="function"?h*(u=="desc"?-1:1):h}return e.index-t.index}var SS=(e,t)=>{let n=(s,a)=>!!(s==null?0:s.length)&&s.indexOf(a)>-1,r=!0,i=[],o=t.length;if(!e.length)return i;t.length>=QI&&(n=(s,a)=>s.has(a),r=!1,t=new ms(t));e:for(let s in e){let a=e[s],u=a;if(a=a!==0?a:0,r&&u===u){let l=o;for(;l--;)if(t[l]===u)continue e;i.push(a)}else n(t,u)||i.push(a)}return i};var vs=e=>{if(typeof e=="string"||Wa(e))return e;let t=`${e}`;return t=="0"&&1/e==-1/0?"-0":t},Za=(e,t=!1,n=!1,r=!0,i,o,s,a)=>{let u;if(i&&(u=s?i(e,o,s,a):i(e)),u!==void 0)return u;if(!$e(e))return e;let l=Array.isArray(e),h=jr(e);if(l){if(u=sF(e),!t)return KI(e,u)}else{let x=typeof e=="function";if(h===Va||h===Yc||x&&!s){if(u=n||x?{}:bS(e),!t)return n?IF(e,Kc(e,Object.keys(e),u)):uF(e,Object.assign(u,e))}else{if(x||!C3[h])return s?e:{};u=lF(e,h,t)}}a||(a=new yo);let f=a.get(e);if(f)return f;if(a.set(e,u),oF(e))return e.forEach((x,S)=>{u.set(S,Za(x,t,n,r,i,S,e,a))}),u;if(iF(e))return e.forEach(x=>{u.add(Za(x,t,n,r,i,x,e,a))}),u;if(el(e))return u;let I=l?void 0:(r?n?DS:UI:n?r0:qc)(e);return(I||e).forEach((x,S)=>{I&&(S=x,x=e[S]),Qc(u,S,Za(x,t,n,r,i,S,e,a))}),u},IF=(e,t)=>Kc(e,xS(e),t),NS=(e,t)=>t.length<2?e:Jh(e,t.slice(0,-1));var ES=(e,t)=>{let n=typeof e;return t=t??Number.MAX_SAFE_INTEGER,!!t&&(n==="number"||n!=="symbol"&&J3.test(e))&&e>-1&&e%1==0&&e<t},CF=(e,t)=>{t=Ya(t,e),e=NS(e,t);let n=t[t.length-1];return e==null||delete e[vs(n)]},wF=e=>{let t=typeof e;return t==="string"||t==="number"||t==="symbol"||t==="boolean"?e!=="__proto__":e===null},r0=e=>{let t=[];for(let n in e)t.push(n);return t},AF=e=>{e=Object(e);let t={};for(let n in e)t[n]=e[n];return t},XT=(e,t)=>{if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]};function PS(e,t=!1){return(n,...r)=>{let i=-1,o=r.length,s=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(s=e.length>3&&typeof s=="function"?(o--,s):t?(u,l)=>{if(Array.isArray(u)&&!Array.isArray(l))return l}:void 0,a&&zh(r[0],r[1],a)&&(s=o<3?void 0:s,o=1),n=Object(n);++i<o;){let u=r[i];u&&e(n,u,i,s)}return n}}var i0=(e,t,n,r,i)=>{e!==t&&Zn(t,(o,s)=>{if($e(o))i||(i=new yo),bF(e,t,s,n,i0,r,i);else{let a=r?r(e[s],o,`${s}`,e,t,i):void 0;a===void 0&&(a=o),VI(e,s,a)}},r0)},bF=(e,t,n,r,i,o,s)=>{let a=XT(e,n),u=XT(t,n),l=s.get(u);if(l){VI(e,n,l);return}let h=o?o(a,u,`${n}`,e,t,s):void 0,f=h===void 0;if(f){let y=Array.isArray(u),I=!y&&el(u);h=u,y||I?Array.isArray(a)?h=a:ni(a)&&Br(a)?h=KI(a):I?(f=!1,h=AS(u,!0)):h=[]:At(u)||$c(u)?(h=a,$c(a)?h=AF(a):(typeof a=="function"||!$e(a))&&(h=bS(u))):f=!1}f&&(s.set(u,h),i(h,u,r,o,s),s.delete(u)),VI(e,n,h)},VI=(e,t,n)=>{(n!==void 0&&!Ha(e[t],n)||n===void 0&&!(t in e))&&Qc(e,t,n)};function xF(e,t,n){let r=Object(e),i=n(e),{length:o}=i,s=-1;for(;o--;){let a=i[++s];if(t(r[a],a,r)===!1)break}return e}var DF=(e,t)=>e&&xF(e,t,qc),o0=(e,t)=>{if(e==null)return e;if(!Br(e))return DF(e,t);let n=e.length,r=Object(e),i=-1;for(;++i<n&&t(r[i],i,r)!==!1;);return e};function MF(e){let t=e==null?0:e.length;return t?e[t-1]:void 0}var TF=Set&&1/Xh(new Set([void 0,-0]))[1]==1/0?e=>new Set(e):()=>{};function OS(e,t,n,r,i,o){return $e(e)&&$e(t)&&(o.set(t,e),i0(e,t,void 0,OS,o),o.delete(t)),e}function SF(e,t,n){t.length?t=t.map(s=>Array.isArray(s)?a=>Jh(a,s.length===1?s[0]:s):s):t=[s=>s];let r=-1,i=-1,o=Br(e)?new Array(e.length):[];return o0(e,s=>{let a=t.map(u=>u(s));o[++i]={criteria:a,index:++r,value:s}}),NF(o,(s,a)=>yF(s,a,n))}function NF(e,t){let{length:n}=e;for(e.sort(t);n--;)e[n]=e[n].value;return e}function RS(e){return e===e&&!$e(e)}function LS(e,t){return n=>n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}function EF(e,t){return e!=null&&WF(e,t,ZF)}function PF(e,t){return n0(e)&&RS(t)?LS(vs(e),t):n=>{let r=Jh(n,e);return r===void 0&&r===t?EF(n,e):$h(t,r)}}function OF(e){let t=RF(e);return t.length===1&&t[0][2]?LS(t[0][0],t[0][1]):n=>n===e||LF(n,e,t)}function RF(e){let t=qc(e),n=t.length;for(;n--;){let r=t[n],i=e[r];t[n]=[r,i,RS(i)]}return t}function LF(e,t,n,r){let i=n.length,o=i,s=!r;if(e==null)return!o;let a,u;for(e=Object(e);i--;)if(a=n[i],s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1;for(;++i<o;){a=n[i];let l=a[0],h=e[l],f=a[1];if(s&&a[2]){if(h===void 0&&!(l in e))return!1}else{let y=new yo;if(r&&(u=r(h,f,l,e,t,y)),!(u===void 0?$h(f,h,y):u))return!1}}return!0}function kF(e){return n0(e)?_F(vs(e)):FF(e)}function _F(e){return t=>t?.[e]}function FF(e){return t=>Jh(t,e)}function jF(e){return typeof e=="function"?e:e==null?t=>t:typeof e=="object"?Array.isArray(e)?PF(e[0],e[1]):OF(e):kF(e)}function qh(){let e=jF;return arguments.length?e(arguments[0],arguments[1]):e}var BF=(e,t,n,r)=>{let i=-1,o=e==null?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n},zF=(e,t,n,r,i)=>(i(e,(o,s,a)=>{n=r?(r=!1,o):t(n,o,s,a)}),n);function GF(e,t,n){let r=Array.isArray(e)?BF:zF,i=arguments.length<3;return r(e,t,n,i,o0)}var UF=e=>Array.isArray(e)||$c(e)||!!(e&&e[Symbol.isConcatSpreadable]);function kS(e,t,n,r,i){let o=-1,s=e.length;for(n||(n=UF),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?kS(a,t-1,n,r,i):i.push(...a):r||(i[i.length]=a)}return i}var $c=e=>ni(e)&&jr(e)=="[object Arguments]";var VF=e=>typeof e=="number"&&e>-1&&e%1==0&&e<=Number.MAX_SAFE_INTEGER,ZF=(e,t)=>e!=null&&t in Object(e),WF=(e,t,n)=>{t=Ya(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var s=vs(t[r]);if(!(o=e!=null&&n(e,s)))break;e=e[s]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&VF(i)&&ES(s,i)&&(Array.isArray(e)||$c(e)))},HF=e=>e.match(K3),YF=e=>e.match(z3),$F=(e,t)=>t===void 0?(q3(e)?YF(e):HF(e))||[]:e.match(t)||[],XF=(e,t,n)=>{let{length:r}=e;return n=n===void 0?r:n,!t&&n>=r?e:e.slice(t,n)},JF=qF("toUpperCase");function qF(e){return t=>{if(!t)return"";let n=IS(t)?CS(t):void 0,r=n?n[0]:t[0],i=n?XF(n,1).join(""):t.slice(1);return r[e]()+i}}var yo=class{constructor(t){let n=this.__data__=new Hc(t);this.size=n.size}clear(){this.__data__=new Hc,this.size=0}delete(t){let n=this.__data__,r=n.delete(t);return this.size=n.size,r}get(t){return this.__data__.get(t)}has(t){return this.__data__.has(t)}set(t,n){let r=this.__data__;if(r instanceof Hc){let i=r.__data__;if(i.length<QI-1)return i.push([t,n]),this.size=++r.size,this;r=this.__data__=new Gh(i)}return r.set(t,n),this.size=r.size,this}},Hc=class{constructor(t){let n=-1,r=t==null?0:t.length;for(this.clear();++n<r;){let i=t[n];this.set(i[0],i[1])}}clear(){this.__data__=[],this.size=0}delete(t){let n=this.__data__,r=jh(n,t);if(r<0)return!1;let i=n.length-1;return r==i?n.pop():n.splice(r,1),--this.size,!0}get(t){let n=this.__data__,r=jh(n,t);return r<0?void 0:n[r][1]}has(t){return jh(this.__data__,t)>-1}set(t,n){let r=this.__data__,i=jh(r,t);return i<0?(++this.size,r.push([t,n])):r[i][1]=n,this}},Gh=class{constructor(t){let n=-1,r=t==null?0:t.length;for(this.clear();++n<r;){let i=t[n];this.set(i[0],i[1])}}clear(){this.size=0,this.__data__={hash:new Uh,map:new Map,string:new Uh}}delete(t){let n=Bh(this,t).delete(t);return this.size-=n?1:0,n}get(t){return Bh(this,t).get(t)}has(t){return Bh(this,t).has(t)}set(t,n){let r=Bh(this,t),i=r.size;return r.set(t,n),this.size+=r.size==i?0:1,this}},Uh=class{constructor(t){let n=-1,r=t==null?0:t.length;for(this.clear();++n<r;){let i=t[n];this.set(i[0],i[1])}}clear(){this.__data__=Object.create(null),this.size=0}delete(t){let n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}get(t){let r=this.__data__[t];return r===GI?void 0:r}has(t){return this.__data__[t]!==void 0}set(t,n){let r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n===void 0?GI:n,this}},ms=class{constructor(t){let n=-1,r=t==null?0:t.length;for(this.__data__=new Gh;++n<r;)this.add(t[n])}add(t){return this.__data__.set(t,GI),this}has(t){return this.__data__.has(t)}};ms.prototype.push=ms.prototype.add;var s0=function(e){var t=Object.prototype.toString;return e===!0||e===!1||!!e&&typeof e=="object"&&t.call(e)===Vh},$e=function(e){return!!e&&(typeof e=="object"||typeof e=="function")},cn=function(e){var t=Object.prototype.toString;return typeof e=="number"||!!e&&typeof e=="object"&&t.call(e)===Zh},Yt=function(e){var t=Object.prototype.toString;return typeof e=="string"||!!e&&typeof e=="object"&&t.call(e)===Wh},Ce=PS((e,t)=>{if(Yh(t)||Br(t)){Kc(t,qc(t),e);return}for(var n in t)hasOwnProperty.call(t,n)&&Qc(e,n,t[n])});var _S=(e,...t)=>{let n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&zh(t[0],t[1],i)&&(r=1);++n<r;){let o=t[n];if(o==null)continue;let s=Object.keys(o),a=s.length,u=-1;for(;++u<a;){let l=s[u],h=e[l];(h===void 0||Ha(h,Object.prototype[l])&&!hasOwnProperty.call(e,l))&&(e[l]=o[l])}}return e},Mn=_S,FS=function(...t){return t.push(void 0,OS),_t.apply(void 0,t)},ys=FS,Un=(e,t,...n)=>{let r=-1,i=typeof t=="function",o=Br(e)?new Array(e.length):[];return o0(e,s=>{o[++r]=i?t.apply(s,n):jS(s,t,...n)}),o},jS=(e,t,...n)=>{t=Ya(t,e),e=NS(e,t);let r=e==null?e:e[vs(MF(t))];return r?.apply(e,n)},tl=(e,t,n)=>{let r=0,i=e==null?0:e.length;if(i==0)return 0;n=qh(n,2),t=n(t);let o=t!==t,s=t===null,a=Wa(t),u=t===void 0;for(;r<i;){let l,h=Math.floor((r+i)/2),f=n(e[h]),y=f!==void 0,I=f===null,x=f===f,S=Wa(f);o?l=x:u?l=x&&y:s?l=x&&y&&!I:a?l=x&&y&&!I&&!S:I||S?l=!1:l=f<t,l?r=h+1:i=h}return Math.min(i,Q3)},Ir=(e,t)=>{let n=-1,r=(u,l)=>!!(u==null?0:u.length)&&u.indexOf(l)>-1;t=qh(t,2);let i=!0,{length:o}=e,s=[],a=s;if(o>=QI){let u=t?null:TF(e);if(u)return Xh(u);i=!1,r=(l,h)=>l.has(h),a=new ms}else a=t?[]:s;e:for(;++n<o;){let u=e[n],l=t?t(u):u;if(u=u!==0?u:0,i&&l===l){let h=a.length;for(;h--;)if(a[h]===l)continue e;t&&a.push(l),s.push(u)}else r(a,l)||(a!==s&&a.push(l),s.push(u))}return s},Cr=e=>Za(e),Pn=e=>Za(e,!0),Vn=e=>{if(e==null)return!0;if(Br(e)&&(Array.isArray(e)||typeof e=="string"||typeof e.splice=="function"||el(e)||$c(e)))return!e.length;let t=jr(e);if(t=="[object Map]"||t=="[object Set]")return!e.size;if(Yh(e))return!rF(e).length;for(let n in e)if(hasOwnProperty.call(e,n))return!1;return!0},wi=(e,t)=>$h(e,t),ct=e=>typeof e=="function",At=e=>{if(!ni(e)||jr(e)!="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},Le=e=>{if(!e)return[];if(Br(e))return Yt(e)?CS(e):KI(e);if(Symbol.iterator&&Symbol.iterator in Object(e)){let r=e[Symbol.iterator](),i,o=[];for(;!(i=r.next()).done;)o.push(i.value);return o}let t=jr(e);return(t==Xc?TS:t==Jc?Xh:nF)(e)};function a0(e,t,n){if(typeof e!="function")throw new TypeError("Expected a function");let r,i,o,s,a,u,l=0,h=!1,f=!1,y=!0,I=!t&&t!==0&&window&&typeof window.requestAnimationFrame=="function";t=+t||0,$e(n)&&(h=!!n.leading,f="maxWait"in n,o=f?Math.max(+n.maxWait||0,t):o,y="trailing"in n?!!n.trailing:y);function x(v){let b=r,M=i;return r=i=void 0,l=v,s=e.apply(M,b),s}function S(v,b){return I?(window.cancelAnimationFrame(a),window.requestAnimationFrame(v)):setTimeout(v,b)}function N(v){if(I)return window.cancelAnimationFrame(v);clearTimeout(v)}function P(v){return l=v,a=S(J,t),h?x(v):s}function U(v){let b=v-u,M=v-l,E=t-b;return f?Math.min(E,o-M):E}function H(v){let b=v-u,M=v-l;return u===void 0||b>=t||b<0||f&&M>=o}function J(){let v=Date.now();if(H(v))return ie(v);a=S(J,U(v))}function ie(v){return a=void 0,y&&r?x(v):(r=i=void 0,s)}function g(...v){let b=Date.now(),M=H(b);if(r=v,i=this,u=b,M){if(a===void 0)return P(u);if(f)return a=S(J,t),x(u)}return a===void 0&&(a=S(J,t)),s}return g.cancel=()=>{a!==void 0&&N(a),l=0,r=u=i=a=void 0},g.flush=()=>a===void 0?s:ie(Date.now()),g.pending=()=>a!==void 0,g}var u0=(e,t)=>(t=qh(t,2),GF(e,(n,r,i)=>(i=t(r),hasOwnProperty.call(n,i)?n[i].push(r):Qc(n,i,[r]),n),{})),nl=(e,t=[])=>{if(e==null)return[];let n=t.length;return n>1&&zh(e,t[0],t[1])?t=[]:n>2&&zh(t[0],t[1],t[2])&&(t=[t[0]]),Array.isArray(t)||(t=[qh(t,2)]),SF(e,t.flat(1),[])},c0=e=>(e==null?0:e.length)?kS(e,1/0):[],$a=(e,...t)=>Br(e)?SS(e,t):[],rl=(e,...t)=>ni(e)&&Br(e)?SS(e,t.flat(1)):[];var Xa=(...e)=>{let t=e.flat(1);return Ir(t)},ir=(e,t)=>{if(e==null)return!1;typeof t=="string"&&(t=t.split("."));let n=-1,r=e;for(;++n<t.length;){if(!r||!hasOwnProperty.call(r,t[n]))return!1;r=r[t[n]]}return!0},Et=(e,t,n)=>{t=Ya(t,e);let r=-1,i=t.length;for(i||(i=1,e=void 0);++r<i;){let o=e?.[vs(t[r])];o===void 0&&(r=i,o=n),e=typeof o=="function"?o.call(e):o}return e},wr=(e,...t)=>{let n={};if(e==null)return n;let r=!1;t=t.flat(1).map(o=>(o=Ya(o,e),r||(r=o.length>1),o)),Kc(e,DS(e),n),r&&(n=Za(n,!0,!0,!0,o=>At(o)?void 0:o));let i=t.length;for(;i--;)CF(n,t[i]);return n};var Zn=(e,t=n=>n)=>{let n=-1,r=Object(e),i=Br(e)?wS(e,!0):r0(e),o=i.length;for(;o--;){let s=i[++n];if(t(r[s],s,r)===!1)break}},l0=(e="")=>$F(`${e}`.replace(/['\u2019]/g,"")).reduce((t,n,r)=>(n=n.toLowerCase(),t+(r?JF(n):n)),""),QF=0,f0=(e="")=>{let t=++QF;return`${e}`+t},_t=PS((e,t,n,r)=>{i0(e,t,n,r)},!0);var Tn=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,Dn.classNamePrefix.length)!==Dn.classNamePrefix&&(t=Dn.classNamePrefix+t),t}).join(" ")},zS=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,Dn.classNamePrefix.length)===Dn.classNamePrefix&&(t=t.substr(Dn.classNamePrefix.length)),t}).join(" ")},Is=function(e,t){let n={},r={},i=ee.namespace.svg,o=t||i,s=document.createDocumentFragment(),a=function(u,l,h){for(let f=0;f<u.length;f++){let y=u[f];if(typeof y=="string"){let J=document.createTextNode(y);l.appendChild(J);continue}if(!y.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");let I=y.tagName,x;y.hasOwnProperty("namespaceURI")&&(h=y.namespaceURI),x=document.createElementNS(h,I);let S=h===i,N=S?ee:Io.default,P=y.attributes;P&&N(x).attr(P);let U=y.style;if(U&&(0,Io.default)(x).css(U),y.hasOwnProperty("className")){let J=y.className;S?x.className.baseVal=J:x.className=J}if(y.hasOwnProperty("textContent")&&(x.textContent=y.textContent),y.hasOwnProperty("selector")){let J=y.selector;if(n[J])throw new Error("json-dom-parser: selector must be unique");n[J]=x,N(x).attr("joint-selector",J)}if(y.hasOwnProperty("groupSelector")){let J=y.groupSelector;Array.isArray(J)||(J=[J]);for(let ie=0;ie<J.length;ie++){let g=J[ie],v=r[g];v||(v=r[g]=[]),v.push(x)}}l.appendChild(x);let H=y.children;Array.isArray(H)&&a(H,x,h)}};return a(e,s,o),{fragment:s,selectors:n,groupSelectors:r}},ol=function(e){let t=0;if(e.length===0)return t;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);t=(t<<5)-t+r,t=t&t}return t},ji=function(e,t,n){for(var r=Array.isArray(t)?t:t.split(n||"/"),i,o=0,s=r.length;o<s;)if(i=r[o++],Object(e)===e&&i in e)e=e[i];else return;return e},GS=function(e,t){return typeof t!="string"&&typeof t!="number"&&(t=String(t)),!(t==="constructor"&&typeof e[t]=="function"||t==="__proto__")},sl=function(e,t,n,r){let i=Array.isArray(t)?t:t.split(r||"/"),o=i.length-1,s=e,a=0;for(;a<o;a++){let u=i[a];if(!GS(s,u))return e;s=s[u]||(s[u]={})}return s[i[o]]=n,e},d0=function(e,t,n){let r=Array.isArray(t)?t:t.split(n||"/"),i=r.length-1,o=e,s=0;for(;s<i;s++){let a=r[s];if(!GS(o,a))return e;let u=o[a];if(!u)return e;o=u}return delete o[r[i]],e};var US=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})},Co=function(e){return Co.id=Co.id||1,e===void 0?"j_"+Co.id++:(e.id=e.id===void 0?"j_"+Co.id++:e.id,e.id)},VS=function(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()},gn=function(e){if(e.normalized)return e;let{originalEvent:t,target:n}=e,r=t&&t.changedTouches&&t.changedTouches[0];if(r)for(let i in r)e[i]===void 0&&(e[i]=r[i]);if(n){let i=n.correspondingUseElement;i&&(e.target=i)}return e.normalized=!0,e},ZS=function(e){let i=0,o=0,s=0,a=0;return"detail"in e&&(o=e.detail),"wheelDelta"in e&&(o=-e.wheelDelta/120),"wheelDeltaY"in e&&(o=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(i=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(i=o,o=0),s="deltaX"in e?e.deltaX:i*10,a="deltaY"in e?e.deltaY:o*10,(s||a)&&e.deltaMode&&(e.deltaMode==1?(s*=40,a*=40):(s*=800,a*=800)),e.deltaX===0&&e.deltaY!==0&&e.shiftKey&&(s=a,a=0,i=o,o=0),s&&!i&&(i=s<1?-1:1),a&&!o&&(o=a<1?-1:1),{spinX:i,spinY:o,deltaX:s,deltaY:a}},WS=function(e,t){return e>t?t:e<-t?-t:e},al=function(){var e;if(typeof window<"u"&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!e){var t=0;e=function(n){var r=new Date().getTime(),i=Math.max(0,16-(r-t)),o=setTimeout(function(){n(r+i)},i);return t=r+i,o}}return function(n,r,...i){return e(r!==void 0?n.bind(r,...i):n)}}(),ul=function(){var e,t=typeof window<"u";return t&&(e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),e=e||clearTimeout,t?e.bind(window):e}();var nn=function(e){return Yt(e)&&e.slice(-1)==="%"},KF=function(e,t){function n(a){var u=new RegExp("(?:\\d+(?:\\.\\d+)*)("+a+")$").exec(e);return u?u[1]:null}var r=parseFloat(e);if(Number.isNaN(r))return null;var i={};i.value=r;var o;if(t==null)o="[A-Za-z]*";else if(Array.isArray(t)){if(t.length===0)return null;o=t.join("|")}else Yt(t)&&(o=t);var s=n(o);return s===null?null:(i.unit=s,i)},il=0;function ej(e,t){let n=e.split(t),r=1;for(let i=0,o=n.length-1;i<o;i++){let s=[];(i>0||n[0]!=="")&&s.push(il),s.push(t),(i<o-1||n[o]!=="")&&s.push(il),n.splice(r,0,...s),r+=s.length+1}return n.filter(i=>i!=="")}function BS(e,t){if(e===null)return t.getBBox().height;switch(e.unit){case"em":return t.getBBox().height*e.value;case"px":case"":return e.value}}var Qh=function(e,t,n={},r={}){var i=t.width,o=t.height,s=r.svgDocument||ee("svg").node,a=ee("tspan").node,u=ee("text").attr(n).append(a).node,l=document.createTextNode("");u.style.opacity=0,u.style.display="block",a.style.display="block",a.appendChild(l),s.appendChild(u),r.svgDocument||document.body.appendChild(s);let h=r.preserveSpaces,f=" ",y=r.separator||r.separator===""?r.separator:f,I=typeof y=="string"?y:f;var x=r.eol||`
`,S=r.hyphen?new RegExp(r.hyphen):/[^\w\d\u00C0-\u1FFF\u2800-\uFFFD]/,N=r.maxLineCount;cn(N)||(N=1/0);var P=e.split(y),U=[],H=[],J,ie,g;h&&ee(a).attr("xml:space","preserve");for(var v=0,b=0,M=P.length;v<M;v++){var E=P[v];if(!(!E&&!h)&&typeof E=="string"){var j=!1;if(x&&E.indexOf(x)>=0)if(E.length>1){let Pe=ej(P[v],x);P.splice(v,1,...Pe),v--,M=P.length;continue}else{if(h&&typeof P[v-1]=="string"){P.splice(v,il,"",il),M+=2,v--;continue}H[++b]=!h||typeof P[v+1]=="string"?"":void 0,j=!0}if(!j){let Pe;if(h?Pe=H[b]!==void 0?H[b]+I+E:E:Pe=H[b]?H[b]+I+E:E,l.data=Pe,a.getComputedTextLength()<=i)H[b]=Pe,(J||ie)&&(U[b++]=!0,J=0,ie=0);else{if(!H[b]||J){var B=!!J;if(J=E.length-1,B||!J){if(!J){if(!H[b]){H=[];break}P.splice(v,2,E+P[v+1]),M--,U[b++]=!0,v--;continue}P[v]=E.substring(0,J);let Me=P[v+1];P[v+1]=E.substring(J)+(Me===void 0||Me===il?"":Me)}else{if(ie)P.splice(v,2,P[v]+P[v+1]),ie=0;else{var W=E.search(S);W>-1&&W!==E.length-1&&W!==0&&(ie=W+1,J=0),P.splice(v,1,E.substring(0,ie||J),E.substring(ie||J)),M++}b&&!U[b-1]&&b--}(!h||H[b]!=="")&&v--;continue}b++,v--}}var ce=null;if(H.length>N)ce=N-1;else if(o!==void 0){if(g===void 0&&l.data!=="")if(n.lineHeight==="auto")g=BS({value:1.5,unit:"em"},u);else{let Pe=KF(n.lineHeight,["em","px",""]);g=BS(Pe,u)}g*H.length>o&&(ce=Math.floor(o/g)-1)}if(ce!==null){H.splice(ce+1);var pe=r.ellipsis;if(!pe||ce<0)break;typeof pe!="string"&&(pe="\u2026");var V=H[ce];if(!V&&!j)break;var Q=V.length,$,q;do{if(q=V[Q],$=V.substring(0,Q),q?q.match(y)&&($+=q):$+=I,$+=pe,l.data=$,a.getComputedTextLength()<=i){H[ce]=$;break}Q--}while(Q>=0);break}}}return r.svgDocument?s.removeChild(u):document.body.removeChild(s),H.join(x)},HS=function(e){var t=(0,Io.default)(Io.default.parseHTML("<div>"+e+"</div>",null,!1));return t.find("*").each(function(){var n=this;Io.default.each(n.attributes,function(){var r=this,i=r.name,o=r.value;(i.startsWith("on")||o.startsWith("javascript:")||o.startsWith("data:")||o.startsWith("vbscript:"))&&(0,Io.default)(n).removeAttr(i)})}),t.html()};var YS=function(e,t){var n=(0,Io.default)(e),r=n.map(function(){var i=this,o=i.parentNode,s=o.insertBefore(document.createTextNode(""),i.nextSibling);return function(){if(o===this)throw new Error("You can't sort elements if any one is a descendant of another.");o.insertBefore(this,s),o.removeChild(s)}});return Array.prototype.sort.call(n,t).each(function(i){r[i].call(this)})};var Ar=function(e){if(Object(e)!==e){var t=0;return isFinite(e)&&(t=+e),{top:t,right:t,bottom:t,left:t}}var n,r,i,o;return n=r=i=o=0,isFinite(e.vertical)&&(n=i=+e.vertical),isFinite(e.horizontal)&&(r=o=+e.horizontal),isFinite(e.top)&&(n=+e.top),isFinite(e.right)&&(r=+e.right),isFinite(e.bottom)&&(i=+e.bottom),isFinite(e.left)&&(o=+e.left),{top:n,right:r,bottom:i,left:o}},$S={linear:function(e){return e},quad:function(e){return e*e},cubic:function(e){return e*e*e},inout:function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)},exponential:function(e){return Math.pow(2,10*(e-1))},bounce:function(e){for(var t=0,n=1;;t+=n,n/=2)if(e>=(7-4*t)/11){var r=(11-6*t-11*e)/4;return-r*r+n*n}},reverse:function(e){return function(t){return 1-e(1-t)}},reflect:function(e){return function(t){return .5*(t<.5?e(2*t):2-e(2-2*t))}},clamp:function(e,t,n){return t=t||0,n=n||1,function(r){var i=e(r);return i<t?t:i>n?n:i}},back:function(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}},elastic:function(e){return e||(e=1.5),function(t){return Math.pow(2,10*(t-1))*Math.cos(20*Math.PI*e/3*t)}}},Kh={number:function(e,t){var n=t-e;return function(r){return e+n*r}},object:function(e,t){var n=Object.keys(e);return function(r){var i,o,s={};for(i=n.length-1;i!=-1;i--)o=n[i],s[o]=e[o]+(t[o]-e[o])*r;return s}},hexColor:function(e,t){var n=parseInt(e.slice(1),16),r=parseInt(t.slice(1),16),i=n&255,o=(r&255)-i,s=n&65280,a=(r&65280)-s,u=n&16711680,l=(r&16711680)-u;return function(h){var f=i+o*h&255,y=s+a*h&65280,I=u+l*h&16711680;return"#"+(1<<24|f|y|I).toString(16).slice(1)}},unit:function(e,t){var n=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,r=n.exec(e),i=n.exec(t),o=i[1].indexOf("."),s=o>0?i[1].length-o-1:0;e=+r[1];var a=+i[1]-e,u=r[2];return function(l){return(e+a*l).toFixed(s)+u}}},XS={outline:function(e){var t='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>',n=Number.isFinite(e.margin)?e.margin:2,r=Number.isFinite(e.width)?e.width:1;return On(t)({color:e.color||"blue",opacity:Number.isFinite(e.opacity)?e.opacity:1,outerRadius:n+r,innerRadius:n})},highlight:function(e){var t='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>';return On(t)({color:e.color||"red",width:Number.isFinite(e.width)?e.width:1,blur:Number.isFinite(e.blur)?e.blur:0,opacity:Number.isFinite(e.opacity)?e.opacity:1})},blur:function(e){var t=Number.isFinite(e.x)?e.x:2;return On('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(e.y)?[t,e.y]:t})},dropShadow:function(e){var t="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return On(t)({dx:e.dx||0,dy:e.dy||0,opacity:Number.isFinite(e.opacity)?e.opacity:1,color:e.color||"black",blur:Number.isFinite(e.blur)?e.blur:4})},grayscale:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return On('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},sepia:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return On('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},saturate:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return On('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-t})},hueRotate:function(e){return On('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:e.angle||0})},invert:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return On('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:1-t})},brightness:function(e){return On('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(e.amount)?e.amount:1})},contrast:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return On('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:.5-t/2})}};var On=function(e){var t=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(n){return n=n||{},e.replace(t,function(r){for(var i=Array.from(arguments),o=i.slice(1,4).find(function(u){return!!u}),s=o.split("."),a=n[s.shift()];a!==void 0&&s.length;)a=a[s.shift()];return a!==void 0?a:""})}};function ep(e){e=Ir(e);let t=Le(e).reduce(function(n,r){return n[r.id]=r.clone(),n},{});return Le(e).forEach(function(n){let r=t[n.id];if(r.isLink()){let s=r.source(),a=r.target();s.id&&t[s.id]&&r.prop("source/id",t[s.id].id),a.id&&t[a.id]&&r.prop("target/id",t[a.id].id)}let i=n.get("parent");i&&t[i]&&r.set("parent",t[i].id);let o=Le(n.get("embeds")).reduce(function(s,a){return t[a]&&s.push(t[a].id),s},[]);Vn(o)||r.set("embeds",o)}),t}var tj=["checked","selected","disabled","readOnly","contentEditable","value","indeterminate"],nj=tj.reduce((e,t)=>(e[t]=!0,e),{}),rj={qualify:function(e){return At(e)},set:function(e,t,n){Object.keys(e).forEach(function(r){if(nj[r]&&r in n){let i=e[r];n.tagName==="SELECT"&&Array.isArray(i)?Array.from(n.options).forEach(function(o,s){o.selected=i.includes(o.value)}):n[r]=i}})}},JS=rj;var qa=ci(vo(),1);function wo(e,t){return function(n,r){var i=nn(n);n=parseFloat(n),i&&(n/=100);var o={};if(isFinite(n)){var s=i||n>=0&&n<=1?n*r[t]:Math.max(n+r[t],0);o[e]=s}return o}}function tp(e,t,n){return function(r,i){var o=nn(r);r=parseFloat(r),o&&(r/=100);var s;if(isFinite(r)){var a=i[n]();o||r>0&&r<1?s=a[e]+i[t]*r:s=a[e]+r}var u=k();return u[e]=s||0,u}}function qS(e,t,n){return function(r,i){var o;r==="middle"?o=i[t]/2:r===n?o=i[t]:isFinite(r)?o=r>-1&&r<1?-i[t]*r:-r:nn(r)?o=i[t]*parseFloat(r)/100:o=0;var s=k();return s[e]=-(i[e]+o),s}}function nN(e,t){var n="joint-shape",r=t&&t.resetOffset;return function(i,o,s){var a=(0,qa.default)(s),u=a.data(n);if(!u||u.value!==i){var l=e(i);u={value:i,shape:l,shapeBBox:l.bbox()},a.data(n,u)}var h=u.shape.clone(),f=u.shapeBBox.clone(),y=f.origin(),I=o.origin();f.x=I.x,f.y=I.y;var x=o.maxRectScaleToFit(f,I),S=f.width===0||o.width===0?1:x.sx,N=f.height===0||o.height===0?1:x.sy;return h.scale(S,N,y),r&&h.translate(-y.x,-y.y),h}}function QS(e){function t(r){return new be(ee.normalizePathData(r))}var n=nN(t,e);return function(r,i,o){var s=n(r,i,o);return{d:s.serialize()}}}function KS(e){var t=nN(at,e);return function(n,r,i){var o=t(n,r,i);return{points:o.serialize()}}}function np(e,t){var n=new k(1,0);return function(r){var i,o,s=this[e](r);return s?(o=t.rotate?s.vector().vectorAngle(n):0,i=s.start):(i=this.path.start,o=0),o===0?{transform:"translate("+i.x+","+i.y+")"}:{transform:"translate("+i.x+","+i.y+") rotate("+o+")"}}}function eN(e){return function(n,r,i){let o=ee(i);o.attr(e)!==n&&o.attr(e,n)}}function Ja(e,t,n){return n.text!==void 0}function cl(){return this.model.isLink()}function h0(e){var t={},n=e.stroke;typeof n=="string"&&(t.stroke=n,t.fill=n);var r=e.strokeOpacity;return r===void 0&&(r=e["stroke-opacity"]),r===void 0&&(r=e.opacity),r!==void 0&&(t["stroke-opacity"]=r,t["fill-opacity"]=r),t}function tN(e){let{paper:t}=this;return`url(#${e.type==="pattern"?t.definePattern(e):t.defineGradient(e)})`}var Ve={xlinkShow:{set:"xlink:show"},xlinkRole:{set:"xlink:role"},xlinkType:{set:"xlink:type"},xlinkArcrole:{set:"xlink:arcrole"},xlinkTitle:{set:"xlink:title"},xlinkActuate:{set:"xlink:actuate"},xmlSpace:{set:"xml:space"},xmlBase:{set:"xml:base"},xmlLang:{set:"xml:lang"},preserveAspectRatio:{set:"preserveAspectRatio"},requiredExtension:{set:"requiredExtension"},requiredFeatures:{set:"requiredFeatures"},systemLanguage:{set:"systemLanguage"},externalResourcesRequired:{set:"externalResourceRequired"},href:{set:eN("href")},xlinkHref:{set:eN("xlink:href")},filter:{qualify:At,set:function(e){return"url(#"+this.paper.defineFilter(e)+")"}},fill:{qualify:At,set:tN},stroke:{qualify:At,set:tN},sourceMarker:{qualify:At,set:function(e,t,n,r){return e=Ce(h0(r),e),{"marker-start":"url(#"+this.paper.defineMarker(e)+")"}}},targetMarker:{qualify:At,set:function(e,t,n,r){return e=Ce(h0(r),{transform:"rotate(180)"},e),{"marker-end":"url(#"+this.paper.defineMarker(e)+")"}}},vertexMarker:{qualify:At,set:function(e,t,n,r){return e=Ce(h0(r),e),{"marker-mid":"url(#"+this.paper.defineMarker(e)+")"}}},text:{qualify:function(e,t,n){return!n.textWrap||!At(n.textWrap)},set:function(e,t,n,r){let i=(0,qa.default)(n),o="joint-text",s=i.data(o),{lineHeight:a,annotations:u,textVerticalAnchor:l,eol:h,displayEmpty:f}=r,y=r.textPath,I=r.x;kr(I)&&(I=_r(I,t));let x=r["font-size"]||r.fontSize;kr(x)&&(x=_r(x,t));let S=JSON.stringify([e,a,u,l,h,f,y,I,x]);if(s===void 0||s!==S){if(x&&n.setAttribute("font-size",x),$e(y)){let N=y.selector;if(typeof N=="string"){let[P]=this.findBySelector(N);P instanceof SVGPathElement&&(y=Ce({"xlink:href":"#"+P.id},y))}}ee(n).text(""+e,{lineHeight:a,annotations:u,textPath:y,x:I,textVerticalAnchor:l,eol:h,displayEmpty:f}),i.data(o,S)}}},textWrap:{qualify:At,set:function(e,t,n,r){var i={},o=e.width||0;nn(o)?i.width=t.width*parseFloat(o)/100:kr(o)?i.width=Number(_r(o,t)):e.width===null?i.width=1/0:o<=0?i.width=t.width+o:i.width=o;var s=e.height||0;nn(s)?i.height=t.height*parseFloat(s)/100:kr(s)?i.height=Number(_r(s,t)):e.height===null||(s<=0?i.height=t.height+s:i.height=s);var a,u=e.text;if(u===void 0&&(u=r.text),u!==void 0){let l=e.breakText||Qh,h=r["font-size"]||r.fontSize;a=l(""+u,i,{"font-weight":r["font-weight"]||r.fontWeight,"font-size":kr(h)?_r(h,t):h,"font-family":r["font-family"]||r.fontFamily,lineHeight:r.lineHeight,"letter-spacing":"letter-spacing"in r?r["letter-spacing"]:r.letterSpacing},{svgDocument:this.paper.svg,ellipsis:e.ellipsis,hyphen:e.hyphen,separator:e.separator,maxLineCount:e.maxLineCount,preserveSpaces:e.preserveSpaces})}else a="";Ve.text.set.call(this,a,t,n,r)}},title:{qualify:function(e,t){return t instanceof SVGElement},set:function(e,t,n){var r=(0,qa.default)(n),i="joint-title",o=r.data(i);if(o===void 0||o!==e){if(r.data(i,e),n.tagName==="title"){n.textContent=e;return}var s=n.firstElementChild;if(s&&s.tagName==="title")s.textContent=e;else{var a=document.createElementNS(n.namespaceURI,"title");a.textContent=e,n.insertBefore(a,s)}}}},lineHeight:{qualify:Ja},textVerticalAnchor:{qualify:Ja},textPath:{qualify:Ja},annotations:{qualify:Ja},eol:{qualify:Ja},displayEmpty:{qualify:Ja},port:{set:function(e){return e===null||e.id===void 0?e:e.id}},style:{qualify:At,set:function(e,t,n){(0,qa.default)(n).css(e)}},html:{set:function(e,t,n){(0,qa.default)(n).html(e+"")}},props:JS,ref:{},refX:{position:tp("x","width","origin")},refY:{position:tp("y","height","origin")},refDx:{position:tp("x","width","corner")},refDy:{position:tp("y","height","corner")},refWidth:{set:wo("width","width")},refHeight:{set:wo("height","height")},refRx:{set:wo("rx","width")},refRy:{set:wo("ry","height")},refRInscribed:{set:function(e){var t=wo(e,"width"),n=wo(e,"height");return function(r,i){var o=i.height>i.width?t:n;return o(r,i)}}("r")},refRCircumscribed:{set:function(e,t){var n=nn(e);e=parseFloat(e),n&&(e/=100);var r=Math.sqrt(t.height*t.height+t.width*t.width),i;return isFinite(e)&&(n||e>=0&&e<=1?i=e*r:i=Math.max(e+r,0)),{r:i}}},refCx:{set:wo("cx","width")},refCy:{set:wo("cy","height")},xAlignment:{offset:qS("x","width","right")},yAlignment:{offset:qS("y","height","bottom")},resetOffset:{offset:function(e,t){return e?{x:-t.x,y:-t.y}:{x:0,y:0}}},refDResetOffset:{set:QS({resetOffset:!0})},refDKeepOffset:{set:QS({resetOffset:!1})},refPointsResetOffset:{set:KS({resetOffset:!0})},refPointsKeepOffset:{set:KS({resetOffset:!1})},connection:{qualify:cl,set:function({stubs:e=0}){let t;if(isFinite(e)&&e!==0){let n;e<0?n=(this.getConnectionLength()+e)/2:n=e;let r=this.getConnection(),i=this.getConnectionSubdivisions(),o=r.divideAtLength(n,{segmentSubdivisions:i}),s=r.divideAtLength(-n,{segmentSubdivisions:i});o&&s&&(t=`${o[0].serialize()} ${s[1].serialize()}`)}return{d:t||this.getSerializedConnection()}}},atConnectionLengthKeepGradient:{qualify:cl,set:np("getTangentAtLength",{rotate:!0})},atConnectionLengthIgnoreGradient:{qualify:cl,set:np("getTangentAtLength",{rotate:!1})},atConnectionRatioKeepGradient:{qualify:cl,set:np("getTangentAtRatio",{rotate:!0})},atConnectionRatioIgnoreGradient:{qualify:cl,set:np("getTangentAtRatio",{rotate:!1})}};Ve["xlink:href"]=Ve.xlinkHref;["transform","d","points","cx","cy","x1","x2","y1","y2","x","y","dx","dy"].forEach(e=>{Ve[e]={qualify:kr,set:function(n,r){return{[e]:_r(n,r)}}}});["width","height","r","rx","ry","font-size","stroke-width"].forEach(e=>{Ve[e]={qualify:kr,set:function(n,r){return{[e]:Math.max(0,_r(n,r))}}}});Ve.refR=Ve.refRInscribed;Ve.refD=Ve.refDResetOffset;Ve.refPoints=Ve.refPointsResetOffset;Ve.atConnectionLength=Ve.atConnectionLengthKeepGradient;Ve.atConnectionRatio=Ve.atConnectionRatioKeepGradient;Ve.fontSize=Ve["font-size"];Ve.strokeWidth=Ve["stroke-width"];Ve.refX2=Ve.refX;Ve.refY2=Ve.refY;Ve.refWidth2=Ve.refWidth;Ve.refHeight2=Ve.refHeight;Ve["ref-x"]=Ve.refX;Ve["ref-y"]=Ve.refY;Ve["ref-dy"]=Ve.refDy;Ve["ref-dx"]=Ve.refDx;Ve["ref-width"]=Ve.refWidth;Ve["ref-height"]=Ve.refHeight;Ve["x-alignment"]=Ve.xAlignment;Ve["y-alignment"]=Ve.yAlignment;var ll=Ve;var Rn=p0.default.Model.extend({constructor:function(e,t){var n,r=e||{};typeof this.preinitialize=="function"&&this.preinitialize.apply(this,arguments),this.cid=f0("c"),this.attributes={},t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(r=this.parse(r,t)||{}),(n=Et(this,"defaults"))&&(r=_t({},n,r)),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)},translate:function(e,t,n){throw new Error("Must define a translate() method.")},toJSON:function(){let t=Et(this.constructor.prototype,"defaults").attrs||{},n=this.attributes.attrs,r={};Zn(n,function(o,s){let a=t[s];Zn(o,function(u,l){$e(u)&&!Array.isArray(u)?Zn(u,function(h,f){(!a||!a[l]||!wi(a[l][f],h))&&(r[s]=r[s]||{},(r[s][l]||(r[s][l]={}))[f]=h)}):(!a||!wi(a[l],u))&&(r[s]=r[s]||{},r[s][l]=u)})});let i=Pn(wr(this.attributes,"attrs"));return i.attrs=r,i},initialize:function(e){let t=this.getIdAttribute();(!e||e[t]===void 0)&&this.set(t,this.generateId(),{silent:!0}),this._transitionIds={},this._scheduledTransitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},getIdAttribute:function(){return this.idAttribute||"id"},generateId:function(){return US()},processPorts:function(){var e=this.ports,t={};Zn(this.get("attrs"),function(o,s){o&&o.port&&(o.port.id!==void 0?t[o.port.id]=o.port:t[o.port]={id:o.port})});var n={};if(Zn(e,function(o,s){t[s]||(n[s]=!0)}),this.graph&&!Vn(n)){var r=this.graph.getConnectedLinks(this,{inbound:!0});r.forEach(function(o){n[o.get("target").port]&&o.remove()});var i=this.graph.getConnectedLinks(this,{outbound:!0});i.forEach(function(o){n[o.get("source").port]&&o.remove()})}this.ports=t},remove:function(e={}){let{graph:t,collection:n}=this;if(!t)return n&&n.remove(this,e),this;t.startBatch("remove");let r=this.getParentCell();r&&r.unembed(this,e);let i=this.getEmbeddedCells();for(let o=0,s=i.length;o<s;o++){let a=i[o];a&&a.remove(e)}return this.trigger("remove",this,t.attributes.cells,e),t.stopBatch("remove"),this},toFront:function(e){var t=this.graph;if(t){e=Mn(e||{},{foregroundEmbeds:!0});let n;e.deep?(n=this.getEmbeddedCells({deep:!0,breadthFirst:e.breadthFirst!==!1,sortSiblings:e.foregroundEmbeds}),n.unshift(this)):n=[this];let r=e.foregroundEmbeds?n:nl(n,u=>u.z()),o=t.maxZIndex()-n.length+1,s=t.get("cells"),a=s.indexOf(r[0])!==s.length-n.length;a||(a=r.some(function(u,l){return u.z()!==o+l})),a&&(this.startBatch("to-front"),o=o+n.length,r.forEach(function(u,l){u.set("z",o+l,e)}),this.stopBatch("to-front"))}return this},toBack:function(e){var t=this.graph;if(t){e=Mn(e||{},{foregroundEmbeds:!0});let r;e.deep?(r=this.getEmbeddedCells({deep:!0,breadthFirst:e.breadthFirst!==!1,sortSiblings:e.foregroundEmbeds}),r.unshift(this)):r=[this];let i=e.foregroundEmbeds?r:nl(r,a=>a.z()),o=t.minZIndex();var n=t.get("cells");let s=n.indexOf(i[0])!==0;s||(s=i.some(function(a,u){return a.z()!==o+u})),s&&(this.startBatch("to-back"),o-=r.length,i.forEach(function(a,u){a.set("z",o+u,e)}),this.stopBatch("to-back"))}return this},parent:function(e,t){return e===void 0?this.get("parent"):this.set("parent",e,t)},embed:function(e,t){let n=Array.isArray(e)?e:[e];if(!this.canEmbed(n))throw new Error("Recursive embedding not allowed.");if(n.some(r=>r.isEmbedded()&&this.id!==r.parent()))throw new Error("Embedding of already embedded cells is not allowed.");return this._embedCells(n,t),this},unembed:function(e,t){let n=Array.isArray(e)?e:[e];return this._unembedCells(n,t),this},canEmbed:function(e){return(Array.isArray(e)?e:[e]).every(n=>this!==n&&!this.isEmbeddedIn(n))},_embedCells:function(e,t){let n="embed";this.startBatch(n);let r=Ce([],this.get("embeds"));e.forEach(i=>{r[i.isLink()?"unshift":"push"](i.id),i.parent(this.id,t)}),this.set("embeds",Ir(r),t),this.stopBatch(n)},_unembedCells:function(e,t){let n="unembed";this.startBatch(n),e.forEach(r=>r.unset("parent",t)),this.set("embeds",$a(this.get("embeds"),...e.map(r=>r.id)),t),this.stopBatch(n)},getParentCell:function(){var e=this.parent(),t=this.graph;return e&&t&&t.getCell(e)||null},getAncestors:function(){var e=[];if(!this.graph)return e;for(var t=this.getParentCell();t;)e.push(t),t=t.getParentCell();return e},getEmbeddedCells:function(e){if(e=e||{},!this.graph)return[];if(e.deep)return e.breadthFirst?this._getEmbeddedCellsBfs(e.sortSiblings):this._getEmbeddedCellsDfs(e.sortSiblings);let t=this.get("embeds");if(Vn(t))return[];let n=t.map(this.graph.getCell,this.graph);return e.sortSiblings&&(n=nl(n,r=>r.z())),n},_getEmbeddedCellsBfs:function(e){let t=[],n=[];for(n.push(this);n.length>0;){let r=n.shift();t.push(r);let i=r.getEmbeddedCells({sortSiblings:e});n.push(...i)}return t.shift(),t},_getEmbeddedCellsDfs:function(e){let t=[],n=[];for(n.push(this);n.length>0;){let r=n.pop();t.push(r);let i=r.getEmbeddedCells({sortSiblings:e});for(let o=i.length-1;o>=0;--o)n.push(i[o])}return t.shift(),t},isEmbeddedIn:function(e,t){var n=Yt(e)?e:e.id,r=this.parent();if(t=Ce({deep:!0},t),this.graph&&t.deep){for(;r;){if(r===n)return!0;r=this.graph.getCell(r).parent()}return!1}else return r===n},isEmbedded:function(){return!!this.parent()},clone:function(e){if(e=e||{},e.deep)return Le(ep([this].concat(this.getEmbeddedCells({deep:!0}))));var t=p0.default.Model.prototype.clone.apply(this,arguments);return t.set(this.getIdAttribute(),this.generateId()),t.unset("embeds"),t.unset("parent"),t},prop:function(e,t,n){var r="/",i=Yt(e);if(i||Array.isArray(e))if(arguments.length>1){var o,s;i?(o=e,s=o.split("/")):(o=e.join(r),s=e.slice());var a=s[0],u=s.length;let H=n||{};H.propertyPath=o,H.propertyValue=t,H.propertyPathArray=s,"rewrite"in H||(H.rewrite=!1);for(var l={},h=l,f=a,y=1;y<u;y++){var I=s[y],x=Number.isFinite(i?Number(I):I);h=h[f]=x?[]:{},f=I}l=sl(l,s,t,"/");var S=_t({},this.attributes);H.rewrite&&d0(S,o,"/");var N=_t(S,l);return this.set(a,N[a],H)}else return ji(this.attributes,e,r);let P=t||{};P.propertyPath=null,P.propertyValue=e,P.propertyPathArray=[],"rewrite"in P||(P.rewrite=!1);let U={};for(let H in e){let{changedValue:J}=_t({},{changedValue:this.attributes[H]},{changedValue:e[H]});U[H]=J}return this.set(U,P)},removeProp:function(e,t){t=t||{};var n=Array.isArray(e)?e:e.split("/"),r=n[0];if(r==="attrs"&&(t.dirty=!0),n.length===1)return this.unset(e,t);var i=n.slice(1),o=this.get(r);return o==null?this:(o=Pn(o),d0(o,i,"/"),this.set(r,o,t))},attr:function(e,t,n){var r=Array.from(arguments);return r.length===0?this.get("attrs"):(Array.isArray(e)?r[0]=["attrs"].concat(e):Yt(e)?r[0]="attrs/"+e:r[0]={attrs:e},this.prop.apply(this,r))},removeAttr:function(e,t){return Array.isArray(e)?this.removeProp(["attrs"].concat(e)):this.removeProp("attrs/"+e,t)},transition:function(e,t,n,r){r=r||"/";var i={duration:100,delay:10,timingFunction:$S.linear,valueFunction:Kh.number};n=Ce(i,n);var o=0,s,a=(function(f){var y,I,x;o=o||f,f-=o,I=f/n.duration,I<1?this._transitionIds[e]=y=al(a):(I=1,delete this._transitionIds[e]),x=s(n.timingFunction(I)),n.transitionId=y,this.prop(e,x,n),y||this.trigger("transition:end",this,e)}).bind(this);let{_scheduledTransitionIds:u}=this,l;var h=f=>{u[e]&&(u[e]=$a(u[e],l),u[e].length===0&&delete u[e]),this.stopPendingTransitions(e,r),s=n.valueFunction(ji(this.attributes,e,r),t),this._transitionIds[e]=al(f),this.trigger("transition:start",this,e)};return l=setTimeout(h,n.delay,a),u[e]||(u[e]=[]),u[e].push(l),l},getTransitions:function(){return Xa(Object.keys(this._transitionIds),Object.keys(this._scheduledTransitionIds))},stopScheduledTransitions:function(e,t="/"){let{_scheduledTransitionIds:n={}}=this,r=Object.keys(n);if(e){let i=e.split(t);r=r.filter(o=>wi(i,o.split(t).slice(0,i.length)))}return r.forEach(i=>{n[i].forEach(s=>clearTimeout(s)),delete n[i]}),this},stopPendingTransitions(e,t="/"){let{_transitionIds:n={}}=this,r=Object.keys(n);if(e){let i=e.split(t);r=r.filter(o=>wi(i,o.split(t).slice(0,i.length)))}r.forEach(i=>{let o=n[i];ul(o),delete n[i],this.trigger("transition:end",this,i)})},stopTransitions:function(e,t="/"){return this.stopScheduledTransitions(e,t),this.stopPendingTransitions(e,t),this},addTo:function(e,t){return e.addCell(this,t),this},findView:function(e){return e.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(e,t){return this.graph&&this.graph.startBatch(e,Ce({},t,{cell:this})),this},stopBatch:function(e,t){return this.graph&&this.graph.stopBatch(e,Ce({},t,{cell:this})),this},getChangeFlag:function(e){var t=0;if(!e)return t;for(var n in e)!e.hasOwnProperty(n)||!this.hasChanged(n)||(t|=e[n]);return t},angle:function(){return 0},position:function(){return new k(0,0)},z:function(){return this.get("z")||0},getPointFromConnectedLink:function(){return new k},getBBox:function(){return new fe(0,0,0,0)},getPointRotatedAroundCenter(e,t,n){let r=new k(t,n);return e&&r.rotate(this.getBBox().center(),e),r},getAbsolutePointFromRelative(e,t){return this.getPointRotatedAroundCenter(-this.angle(),this.position().offset(e,t))},getRelativePointFromAbsolute(e,t){return this.getPointRotatedAroundCenter(this.angle(),e,t).difference(this.position())}},{getAttributeDefinition:function(e){var t=this.attributes,n=ll;return t&&t[e]||n[e]},define:function(e,t,n,r){n=Ce({defaults:ys({type:e},t,this.prototype.defaults)},n);var i=this.extend(n,r);return typeof joint<"u"&&ir(joint,"shapes")&&sl(joint.shapes,e,i,"."),i}});var rN=function(e,t,n){if(Yt(n)){if(!rp[n])throw new Error('Unknown wrapper: "'+n+'"');n=rp[n]}if(!ct(n))throw new Error("Wrapper must be a function.");Le(t).forEach(function(r){e[r]=n(e[r])})},rp={cells:function(e){return function(){var t=Array.from(arguments),n=t.length,r=n>0&&t[0]||[],i=n>1&&t[n-1]||{};return Array.isArray(r)||(i instanceof Rn?r=t:r instanceof Rn&&(t.length>1&&t.pop(),r=t)),i instanceof Rn&&(i={}),e.call(this,r,i)}}};var Xt={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",CENTER:"center"};function fl(e,t){let n=new fe(e);switch(t){case void 0:throw new Error("Position required");case Xt.LEFT:case"leftMiddle":return n.leftMiddle();case Xt.RIGHT:case"rightMiddle":return n.rightMiddle();case Xt.TOP:case"topMiddle":return n.topMiddle();case Xt.BOTTOM:case"bottomMiddle":return n.bottomMiddle();case Xt.TOP_LEFT:case"topLeft":case"origin":return n.topLeft();case Xt.TOP_RIGHT:case"topRight":return n.topRight();case Xt.BOTTOM_LEFT:case"bottomLeft":return n.bottomLeft();case Xt.BOTTOM_RIGHT:case"bottomRight":case"corner":return n.bottomRight();case Xt.CENTER:return n.center();default:throw new Error(`Unknown position: ${t}`)}}function iN(e,t,n){var r=e.toJSON();return r.angle=t||0,Mn({},n,r)}function dl(e,t,n,r){return e.map(function(i,o,s){var a=this.pointAt((o+.5)/s.length);return(i.dx||i.dy)&&a.offset(i.dx||0,i.dy||0),iN(a.round(),0,m0(r,i))},Oi(t,n))}function oN(e,t,n,r){var i=t.center(),o=t.width/t.height,s=t.topMiddle(),a=un.fromRect(t);return e.map(function(u,l,h){var f=n+r(l,h.length),y=s.clone().rotate(i,-f).scale(o,1,i),I=u.compensateRotation?-a.tangentTheta(y):0;return(u.dx||u.dy)&&y.offset(u.dx||0,u.dy||0),u.dr&&y.move(i,u.dr),iN(y.round(),I,m0(t,u))})}function m0(e,t){let{x:n,y:r,angle:i}=t;return nn(n)?n=parseFloat(n)/100*e.width:kr(n)&&(n=Number(_r(n,e))),nn(r)?r=parseFloat(r)/100*e.height:kr(r)&&(r=Number(_r(r,e))),{x:n,y:r,angle:i}}function g0(e,t){let{x:n,y:r}=m0(e,t);return new k(n||0,r||0)}var ij=function(e,t){return e.map(n=>{let r=g0(t,n).round().toJSON();return r.angle=n.angle||0,r})},oj=function(e,t,n){return n.fn(e,t,n)},sj=function(e,t,n){var r=g0(t,n.start||t.origin()),i=g0(t,n.end||t.corner());return dl(e,r,i,t)},aj=function(e,t,n){return dl(e,t.origin(),t.bottomLeft(),t)},uj=function(e,t,n){return dl(e,t.topRight(),t.corner(),t)},cj=function(e,t,n){return dl(e,t.origin(),t.topRight(),t)},lj=function(e,t,n){return dl(e,t.bottomLeft(),t.corner(),t)},fj=function(e,t,n){var r=n.startAngle||0,i=n.step||360/e.length;return oN(e,t,r,function(o){return o*i})},dj=function(e,t,n){var r=n.startAngle||0,i=n.step||20;return oN(e,t,r,function(o,s){return(o+.5-s/2)*i})};var y0={};Ht(y0,{bottom:()=>vj,inside:()=>wj,insideOriented:()=>Cj,left:()=>pj,manual:()=>hj,outside:()=>Ij,outsideOriented:()=>yj,radial:()=>Aj,radialOriented:()=>bj,right:()=>gj,top:()=>mj});function Ao(e,t){return ys({},e,t,{x:0,y:0,angle:0,attrs:{}})}function sN(e){var t=e.center(),n=t.theta(e.origin()),r=t.theta(e.bottomLeft()),i=t.theta(e.corner()),o=t.theta(e.topRight());return[n,o,i,r]}function aN(e,t,n,r){r=Mn({},r,{offset:15});var i=t.center().theta(e),o,s,a,u,l=r.offset,h=0;let[f,y,I,x]=sN(t);i<y||i>I?(a=".3em",o=l,s=0,u="start"):i<f?(o=0,s=-l,n?(h=-90,u="start",a=".3em"):(u="middle",a="0")):i<x?(a=".3em",o=-l,s=0,u="end"):(o=0,s=l,n?(h=90,u="start",a=".3em"):(u="middle",a=".6em"));var S=Math.round;return Ao(r,{x:S(o),y:S(s),angle:h,attrs:{labelText:{y:a,textAnchor:u}}})}function uN(e,t,n,r){r=Mn({},r,{offset:15});var i=t.center().theta(e),o,s,a,u,l=r.offset,h=0;let[f,y,I,x]=sN(t);i<y||i>I?(a=".3em",o=-l,s=0,u="end"):i<f?(o=0,s=l,n?(h=90,u="start",a=".3em"):(u="middle",a=".6em")):i<x?(a=".3em",o=l,s=0,u="start"):(o=0,s=-l,n?(h=-90,u="start",a=".3em"):(u="middle",a="0"));var S=Math.round;return Ao(r,{x:S(o),y:S(s),angle:h,attrs:{labelText:{y:a,textAnchor:u}}})}function cN(e,t,n){n=Mn({},n,{offset:20});var r=pa(0,0),i=-e.theta(r),o=i,s=e.clone().move(r,n.offset).difference(e).round(),a=".3em",u;(i+90)%180===0?(u=t?"end":"middle",!t&&i===-270&&(a="0em")):i>-270&&i<-90?(u="start",o=i-180):u="end";var l=Math.round;return Ao(n,{x:l(s.x),y:l(s.y),angle:t?o:0,attrs:{labelText:{y:a,textAnchor:u}}})}var hj=function(e,t,n){return Ao(n)},pj=function(e,t,n){return Ao(n,{x:-15,attrs:{labelText:{y:".3em",textAnchor:"end"}}})},gj=function(e,t,n){return Ao(n,{x:15,attrs:{labelText:{y:".3em",textAnchor:"start"}}})},mj=function(e,t,n){return Ao(n,{y:-15,attrs:{labelText:{y:"0",textAnchor:"middle"}}})},vj=function(e,t,n){return Ao(n,{y:15,attrs:{labelText:{y:".6em",textAnchor:"middle"}}})},yj=function(e,t,n){return aN(e,t,!0,n)},Ij=function(e,t,n){return aN(e,t,!1,n)},Cj=function(e,t,n){return uN(e,t,!0,n)},wj=function(e,t,n){return uN(e,t,!1,n)},Aj=function(e,t,n){return cN(e.difference(t.center()),!1,n)},bj=function(e,t,n){return cN(e.difference(t.center()),!0,n)};var ou={};Ht(ou,{Cell:()=>Rn,CellView:()=>Ze,Element:()=>xt,ElementView:()=>Vt,Graph:()=>ip,HighlighterView:()=>mn,LayersNames:()=>Wn,Link:()=>bt,LinkView:()=>bs,Paper:()=>lz,PaperLayer:()=>I0,ToolView:()=>F0,ToolsView:()=>fz,attributes:()=>ll});var bo=ci(Wc(),1);var bt=Rn.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),doubleToolMarkup:void 0,vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",yAlignment:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}}},defaults:{type:"link",source:{},target:{}},isLink:function(){return!0},disconnect:function(e){return this.set({source:{x:0,y:0},target:{x:0,y:0}},e)},source:function(e,t,n){if(e===void 0)return Cr(this.get("source"));var r,i,o=e instanceof Rn;if(o)return r=Cr(t)||{},r.id=e.id,i=n,this.set("source",r,i);var s=!At(e);return s?(r=Cr(t)||{},r.x=e.x,r.y=e.y,i=n,this.set("source",r,i)):(r=e,i=t,this.set("source",r,i))},target:function(e,t,n){if(e===void 0)return Cr(this.get("target"));var r,i,o=e instanceof Rn;if(o)return r=Cr(t)||{},r.id=e.id,i=n,this.set("target",r,i);var s=!At(e);return s?(r=Cr(t)||{},r.x=e.x,r.y=e.y,i=n,this.set("target",r,i)):(r=e,i=t,this.set("target",r,i))},router:function(e,t,n){if(e===void 0){var r=this.get("router");return r?typeof r=="object"?Cr(r):r:this.get("manhattan")?{name:"orthogonal"}:null}var i=typeof e=="object"||typeof e=="function",o=i?e:{name:e,args:t},s=i?t:n;return this.set("router",o,s)},connector:function(e,t,n){if(e===void 0){var r=this.get("connector");return r?typeof r=="object"?Cr(r):r:this.get("smooth")?{name:"smooth"}:null}var i=typeof e=="object"||typeof e=="function",o=i?e:{name:e,args:t},s=i?t:n;return this.set("connector",o,s)},label:function(e,t,n){var r=this.labels();return e=isFinite(e)&&e!==null?e|0:0,e<0&&(e=r.length+e),arguments.length<=1?this.prop(["labels",e]):this.prop(["labels",e],t,n)},labels:function(e,t){return arguments.length===0?(e=this.get("labels"),Array.isArray(e)?e.slice():[]):(Array.isArray(e)||(e=[]),this.set("labels",e,t))},hasLabels:function(){let{labels:e}=this.attributes;return Array.isArray(e)&&e.length>0},insertLabel:function(e,t,n){if(!t)throw new Error("dia.Link: no label provided");var r=this.labels(),i=r.length;return e=isFinite(e)&&e!==null?e|0:i,e<0&&(e=i+e+1),r.splice(e,0,t),this.labels(r,n)},appendLabel:function(e,t){return this.insertLabel(-1,e,t)},removeLabel:function(e,t){var n=this.labels();return e=isFinite(e)&&e!==null?e|0:-1,n.splice(e,1),this.labels(n,t)},vertex:function(e,t,n){var r=this.vertices();if(e=isFinite(e)&&e!==null?e|0:0,e<0&&(e=r.length+e),arguments.length<=1)return this.prop(["vertices",e]);var i=this._normalizeVertex(t);return this.prop(["vertices",e],i,n)},vertices:function(e,t){if(arguments.length===0)return e=this.get("vertices"),Array.isArray(e)?e.slice():[];Array.isArray(e)||(e=[]);for(var n=[],r=0;r<e.length;r++){var i=e[r],o=this._normalizeVertex(i);n.push(o)}return this.set("vertices",n,t)},insertVertex:function(e,t,n){if(!t)throw new Error("dia.Link: no vertex provided");var r=this.vertices(),i=r.length;e=isFinite(e)&&e!==null?e|0:i,e<0&&(e=i+e+1);var o=this._normalizeVertex(t);return r.splice(e,0,o),this.vertices(r,n)},removeVertex:function(e,t){var n=this.vertices();return e=isFinite(e)&&e!==null?e|0:-1,n.splice(e,1),this.vertices(n,t)},_normalizeVertex:function(e){var t=!At(e);return t?{x:e.x,y:e.y}:e},translate:function(e,t,n){return n=n||{},n.translateBy=n.translateBy||this.id,n.tx=e,n.ty=t,this.applyToPoints(function(r){return{x:(r.x||0)+e,y:(r.y||0)+t}},n)},scale:function(e,t,n,r){return this.applyToPoints(function(i){return k(i).scale(e,t,n).toJSON()},r)},applyToPoints:function(e,t){if(!ct(e))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var n={},{source:r,target:i}=this.attributes;r.id||(n.source=e(r)),i.id||(n.target=e(i));var o=this.vertices();return o.length>0&&(n.vertices=o.map(e)),this.set(n,t)},getSourcePoint:function(){var e=this.getSourceCell();return e?e.getPointFromConnectedLink(this,"source"):new k(this.source())},getTargetPoint:function(){var e=this.getTargetCell();return e?e.getPointFromConnectedLink(this,"target"):new k(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){let e=[this.getSourcePoint(),...this.vertices().map(k),this.getTargetPoint()];return new at(e)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(e){var t;if(this.graph){var n=this.getSourceElement(),r=this.getTargetElement(),i=this.getParentCell();n&&r&&(n===r||n.isEmbeddedIn(r)?t=r:r.isEmbeddedIn(n)?t=n:t=this.graph.getCommonAncestor(n,r)),i&&(!t||t.id!==i.id)&&i.unembed(this,e),t&&t.embed(this,e)}return t},hasLoop:function(e){e=e||{};var{source:t,target:n}=this.attributes,r=t.id,i=n.id;if(!r||!i)return!1;var o=r===i;if(!o&&e.deep&&this.graph){var s=this.getSourceCell(),a=this.getTargetCell();o=s.isEmbeddedIn(a)||a.isEmbeddedIn(s)}return o},getSourceCell:function(){let{graph:e,attributes:t}=this;var n=t.source;return n&&n.id&&e&&e.getCell(n.id)||null},getSourceElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getSourceCell()}while(e&&e.isLink());return e},getTargetCell:function(){let{graph:e,attributes:t}=this;var n=t.target;return n&&n.id&&e&&e.getCell(n.id)||null},getTargetElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getTargetCell()}while(e&&e.isLink());return e},getRelationshipAncestor:function(){var e;if(this.graph){var t=[this,this.getSourceElement(),this.getTargetElement()].filter(function(n){return!!n});e=this.graph.getCommonAncestor.apply(this.graph,t)}return e||null},isRelationshipEmbeddedIn:function(e){var t=Yt(e)||cn(e)?e:e.id,n=this.getRelationshipAncestor();return!!n&&(n.id===t||n.isEmbeddedIn(t))},_getDefaultLabel:function(){var e=this.get("defaultLabel")||this.defaultLabel||{},t={};return t.markup=e.markup||this.get("labelMarkup")||this.labelMarkup,t.position=e.position,t.attrs=e.attrs,t.size=e.size,t}},{endsEqual:function(e,t){var n=e.port===t.port||!e.port&&!t.port;return e.id===t.id&&n}});var lN=function(e){var t=Pn(e)||{};this.ports=[],this.groups={},this.portLayoutNamespace=v0,this.portLabelLayoutNamespace=y0,this._init(t)};lN.prototype={getPorts:function(){return this.ports},getGroup:function(e){return this.groups[e]||{}},getPortsByGroup:function(e){return this.ports.filter(function(t){return t.group===e})},getGroupPortsMetrics:function(e,t){var n=this.getGroup(e),r=this.getPortsByGroup(e),i=n.position||{},o=i.name,s=this.portLayoutNamespace;s[o]||(o="left");var a=i.args||{},u=r.map(function(f){return f&&f.position&&f.position.args}),l=s[o](u,t,a),h={ports:r,result:[]};return Le(l).reduce((function(f,y,I){var x=f.ports[I];return f.result.push({portId:x.id,portTransformation:y,labelTransformation:this._getPortLabelLayout(x,k(y),t),portAttrs:x.attrs,portSize:x.size,labelSize:x.label.size}),f}).bind(this),h),h.result},_getPortLabelLayout:function(e,t,n){var r=this.portLabelLayoutNamespace,i=e.label.position.name||"left";return r[i]?r[i](t,n,e.label.position.args):null},_init:function(e){if($e(e.groups))for(var t=Object.keys(e.groups),n=0,r=t.length;n<r;n++){var i=t[n];this.groups[i]=this._evaluateGroup(e.groups[i])}for(var o=Le(e.items),s=0,a=o.length;s<a;s++)this.ports.push(this._evaluatePort(o[s]))},_evaluateGroup:function(e){return _t(e,{position:this._getPosition(e.position,!0),label:this._getLabel(e,!0)})},_evaluatePort:function(e){var t=Ce({},e),n=this.getGroup(e.group);return t.markup=t.markup||n.markup,t.attrs=_t({},n.attrs,t.attrs),t.position=this._createPositionNode(n,t),t.label=_t({},n.label,this._getLabel(t)),t.z=this._getZIndex(n,t),t.size=Ce({},n.size,t.size),t},_getZIndex:function(e,t){return cn(t.z)?t.z:cn(e.z)||e.z==="auto"?e.z:"auto"},_createPositionNode:function(e,t){return _t({name:"left",args:{}},e.position,{args:t.args})},_getPosition:function(e,t){var n={},r;ct(e)?(r="fn",n.fn=e):Yt(e)?r=e:e===void 0?r=t?"left":null:Array.isArray(e)?(r="absolute",n.x=e[0],n.y=e[1]):$e(e)&&(r=e.name,Ce(n,e.args));var i={args:n};return r&&(i.name=r),i},_getLabel:function(e,t){var n=e.label||{},r=n;return r.position=this._getPosition(n.position,t),r}};var fN={_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var e=this.get("ports")||{},t={};Le(e.items).forEach(function(a){t[a.id]=!0});var n=this.previous("ports")||{},r={};Le(n.items).forEach(function(a){t[a.id]||(r[a.id]=!0)});var i=this.graph;if(i&&!Vn(r)){var o=i.getConnectedLinks(this,{inbound:!0});o.forEach(function(a){r[a.get("target").port]&&a.remove()});var s=i.getConnectedLinks(this,{outbound:!0});s.forEach(function(a){r[a.get("source").port]&&a.remove()})}},hasPorts:function(){var e=this.prop("ports/items");return Array.isArray(e)&&e.length>0},hasPort:function(e){return this.getPortIndex(e)!==-1},getPorts:function(){return Pn(this.prop("ports/items"))||[]},getGroupPorts:function(e){let t=Le(this.prop(["ports","items"])).filter(n=>n.group===e);return Pn(t)},getPort:function(e){return Pn(Le(this.prop("ports/items")).find(function(t){return t.id&&t.id===e}))},getPortsPositions:function(e){var t=this._portSettingsData.getGroupPortsMetrics(e,fe(this.size()));return t.reduce(function(n,r){var i=r.portTransformation;return n[r.portId]={x:i.x,y:i.y,angle:i.angle},n},{})},getPortIndex:function(e){var t=$e(e)?e.id:e;return this._isValidPortId(t)?Le(this.prop("ports/items")).findIndex(function(n){return n.id===t}):-1},addPort:function(e,t){if(!$e(e)||Array.isArray(e))throw new Error("Element: addPort requires an object.");var n=Ce([],this.prop("ports/items"));return n.push(e),this.prop("ports/items",n,t),this},insertPort:function(e,t,n){let r=typeof e=="number"?e:this.getPortIndex(e);if(!$e(t)||Array.isArray(t))throw new Error("dia.Element: insertPort requires an object.");let i=Ce([],this.prop("ports/items"));return i.splice(r,0,t),this.prop("ports/items",i,n),this},portProp:function(e,t,n,r){var i=this.getPortIndex(e);if(i===-1)throw new Error("Element: unable to find port with id "+e);var o=Array.prototype.slice.call(arguments,1);return Array.isArray(t)?o[0]=["ports","items",i].concat(t):Yt(t)?o[0]=["ports/items/",i,"/",t].join(""):(o=["ports/items/"+i],At(t)&&(o.push(t),o.push(n))),this.prop.apply(this,o)},_validatePorts:function(){var e=this.get("ports")||{},t=[];e=e||{};var n=Le(e.items);return n.forEach(function(r){typeof r!="object"&&t.push("Element: invalid port ",r),this._isValidPortId(r.id)||(r.id=this.generatePortId())},this),Ir(n,"id").length!==n.length&&t.push("Element: found id duplicities in ports."),t},generatePortId:function(){return this.generateId()},_isValidPortId:function(e){return e!=null&&!$e(e)},addPorts:function(e,t){return e.length&&this.prop("ports/items",Ce([],this.prop("ports/items")).concat(e),t),this},removePort:function(e,t){let n=t||{},r=this.getPortIndex(e);if(r!==-1){let i=Ce([],this.prop(["ports","items"]));i.splice(r,1),n.rewrite=!0,this.startBatch("port-remove"),this.prop(["ports","items"],i,n),this.stopBatch("port-remove")}return this},removePorts:function(e,t){let n,r;if(Array.isArray(e)){if(n=t||{},e.length===0)return this.this;r=Ce([],this.prop(["ports","items"])).filter(function(o){return!e.some(function(s){let a=$e(s)?s.id:s;return o.id===a})})}else n=e||{},r=[];return this.startBatch("port-remove"),n.rewrite=!0,this.prop(["ports","items"],r,n),this.stopBatch("port-remove"),this},_createPortData:function(){var e=this._validatePorts();if(e.length>0)throw this.set("ports",this.previous("ports")),new Error(e.join(" "));var t;this._portSettingsData&&(t=this._portSettingsData.getPorts()),this._portSettingsData=new lN(this.get("ports"));var n=this._portSettingsData.getPorts();if(t){var r=n.filter(function(o){if(!t.find(function(s){return s.id===o.id}))return o}),i=t.filter(function(o){if(!n.find(function(s){return s.id===o.id}))return o});i.length>0&&this.trigger("ports:remove",this,i),r.length>0&&this.trigger("ports:add",this,r)}}},dN={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._cleanPortsCache()},_refreshPorts:function(){this._removePorts(),this._cleanPortsCache(),this._renderPorts()},_cleanPortsCache:function(){this._portElementsCache={}},_renderPorts:function(){for(var e=[],t=this._getContainerElement(),n=0,r=t.node.childNodes.length;n<r;n++)e.push(t.node.childNodes[n]);var i=u0(this.model._portSettingsData.getPorts(),"z"),o="auto";Le(i[o]).forEach(function(h){var f=this._getPortElement(h);t.append(f),e.push(f)},this);for(var s=Object.keys(i),a=0;a<s.length;a++){var u=s[a];if(u!==o){var l=parseInt(u,10);this._appendPorts(i[u],l,e)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(e,t,n){var r=this._getContainerElement(),i=Le(e).map(this._getPortElement,this);n[t]||t<0?ee(n[Math.max(t,0)]).before(i):r.append(i)},_getPortElement:function(e){return this._portElementsCache[e.id]?this._portElementsCache[e.id].portElement:this._createPortElement(e)},findPortNode:function(e,t){let n=this._portElementsCache[e];if(!n)return null;if(!t)return n.portContentElement.node;let r=n.portElement.node,i=n.portSelectors,[o=null]=this.findBySelector(t,r,i);return o},_updatePorts:function(){this._updatePortGroup(void 0);var e=Object.keys(this.model._portSettingsData.groups);e.forEach(this._updatePortGroup,this)},_removePorts:function(){Un(this._portElementsCache,"portElement.remove")},_createPortElement:function(e){let t,n,r,i;var o=ee(this.portContainerMarkup).addClass("joint-port"),s=this._getPortMarkup(e);if(Array.isArray(s)){var a=this.parseDOMJSON(s,o.node),u=a.fragment;u.childNodes.length>1?t=ee("g").append(u):t=ee(u.firstChild),i=a.selectors}else t=ee(s),Array.isArray(t)&&(t=ee("g").append(t));if(!t)throw new Error("ElementView: Invalid port markup.");t.attr({port:e.id,"port-group":e.group});let l=this._getPortLabelMarkup(e.label);if(Array.isArray(l)){let{fragment:S,selectors:N}=this.parseDOMJSON(l,o.node),P=S.childNodes.length;P>0&&(r=N,n=P===1?ee(S.firstChild):ee("g").append(S))}else n=ee(l),Array.isArray(n)&&(n=ee("g").append(n));var h;if(i&&r){for(var f in r)if(i[f]&&f!==this.selector)throw new Error("ElementView: selectors within port must be unique.");h=Ce({},i,r)}else h=i||r||{};let y="portRoot",I="labelRoot",x="labelText";if(y in h||(h[y]=t.node),n){let S=n.node;if(I in h||(h[I]=S),!(x in h)){let N=n.tagName()==="TEXT"?S:Array.from(S.querySelectorAll("text"));h[x]=N,r||(r={}),r[x]=N}}return o.append(t.addClass("joint-port-body")),n&&o.append(n.addClass("joint-port-label")),this._portElementsCache[e.id]={portElement:o,portLabelElement:n,portSelectors:h,portLabelSelectors:r,portContentElement:t,portContentSelectors:i},o},_updatePortGroup:function(e){for(var t=fe(this.model.size()),n=this.model._portSettingsData.getGroupPortsMetrics(e,t),r=0,i=n.length;r<i;r++){var o=n[r],s=o.portId,a=this._portElementsCache[s]||{},u=o.portTransformation,l=o.labelTransformation;l&&a.portLabelElement&&(this.updateDOMSubtreeAttributes(a.portLabelElement.node,l.attrs,{rootBBox:new fe(o.labelSize),selectors:a.portLabelSelectors}),this.applyPortTransform(a.portLabelElement,l,-u.angle||0)),this.updateDOMSubtreeAttributes(a.portElement.node,o.portAttrs,{rootBBox:new fe(o.portSize),selectors:a.portSelectors}),this.applyPortTransform(a.portElement,u)}},applyPortTransform:function(e,t,n){var r=ee.createSVGMatrix().rotate(n||0).translate(t.x||0,t.y||0).rotate(t.angle||0);e.transform(r,{absolute:!0})},_getPortMarkup:function(e){return e.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(e){return e.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}};var xt=Rn.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),Rn.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(e,t,n){let r=cn(t);n=(r?n:e)||{};let{parentRelative:i,deep:o,restrictedArea:s}=n,a;if(i){if(!this.graph)throw new Error("Element must be part of a graph.");let u=this.getParentCell();u&&!u.isLink()&&(a=u.get("position"))}if(r){if(a&&(e+=a.x,t+=a.y),o||s){let{x:u,y:l}=this.get("position");this.translate(e-u,t-l,n)}else this.set("position",{x:e,y:t},n);return this}else{let u=k(this.get("position"));return i?u.difference(a):u}},translate:function(e,t,n){if(e=e||0,t=t||0,e===0&&t===0)return this;n=n||{},n.translateBy=n.translateBy||this.id;var r=this.get("position")||{x:0,y:0},i=n.restrictedArea;if(i&&n.translateBy===this.id)if(typeof i=="function"){var o=i.call(this,r.x+e,r.y+t,n);e=o.x-r.x,t=o.y-r.y}else{var s=this.getBBox({deep:!0}),a=r.x-s.x,u=r.y-s.y,l=Math.max(i.x+a,Math.min(i.x+i.width+a-s.width,r.x+e)),h=Math.max(i.y+u,Math.min(i.y+i.height+u-s.height,r.y+t));e=l-r.x,t=h-r.y}var f={x:r.x+e,y:r.y+t};return n.tx=e,n.ty=t,n.transition?($e(n.transition)||(n.transition={}),this.transition("position",f,Ce({},n.transition,{valueFunction:Kh.object})),Un(this.getEmbeddedCells(),"translate",e,t,n)):(this.startBatch("translate",n),this.set("position",f,n),Un(this.getEmbeddedCells(),"translate",e,t,n),this.stopBatch("translate",n)),this},size:function(e,t,n){var r=this.get("size");return e===void 0?{width:r.width,height:r.height}:($e(e)&&(n=t,t=cn(e.height)?e.height:r.height,e=cn(e.width)?e.width:r.width),this.resize(e,t,n))},resize:function(e,t,n){if(n=n||{},this.startBatch("resize",n),n.direction){var r=this.get("size");switch(n.direction){case"left":case"right":t=r.height;break;case"top":case"bottom":e=r.width;break}var i=dn(this.get("angle")||0),o=this.getBBox(),s;if(i){var a={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[n.direction];n.absolute&&(a+=Math.floor((i+45)/90),a%=4);var u=o[["bottomLeft","corner","topRight","origin"][a]](),l=k(u).rotate(o.center(),-i),h=Math.sqrt(e*e+t*t)/2,f=a*Math.PI/2;f+=Math.atan(a%2==0?t/e:e/t),f-=qt(i);var y=k.fromPolar(h,f,l);s=k(y).offset(e/-2,t/-2)}else switch(s=o.topLeft(),n.direction){case"top":case"top-right":s.offset(0,o.height-t);break;case"left":case"bottom-left":s.offset(o.width-e,0);break;case"top-left":s.offset(o.width-e,o.height-t);break}this.set("size",{width:e,height:t},n),this.position(s.x,s.y,n)}else this.set("size",{width:e,height:t},n);return this.stopBatch("resize",n),this},scale:function(e,t,n,r){var i=this.getBBox().scale(e,t,n);return this.startBatch("scale",r),this.position(i.x,i.y,r),this.resize(i.width,i.height,r),this.stopBatch("scale"),this},fitEmbeds:function(e){return this.fitToChildren(e)},fitToChildren:function(e={}){let{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");let n=this.getEmbeddedCells().filter(r=>r.isElement());return n.length===0?this:(this.startBatch("fit-embeds",e),e.deep&&Un(n,"fitToChildren",e),this._fitToElements(Object.assign({elements:n},e)),this.stopBatch("fit-embeds"),this)},fitParent:function(e={}){let{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");if(e.deep&&e.terminator&&(e.terminator===this||e.terminator===this.id))return this;let n=this.getParentCell();if(!n||!n.isElement())return this;let r=n.getEmbeddedCells().filter(i=>i.isElement());return r.length===0?this:(this.startBatch("fit-parent",e),n._fitToElements(Object.assign({elements:r},e)),e.deep&&n.fitParent(e),this.stopBatch("fit-parent"),this)},_fitToElements:function(e={}){let t=this.graph.getCellsBBox(e.elements);if(!t)return;let{expandOnly:n,shrinkOnly:r}=e;if(n&&r)return;let{x:i,y:o,width:s,height:a}=t,{left:u,right:l,top:h,bottom:f}=Ar(e.padding);i-=u,o-=h,s+=u+l,a+=f+h;let y=new fe(i,o,s,a);if(n)y=this.getBBox().union(y);else if(r){let I=this.getBBox().intersect(y);if(!I)return;y=I}this.set({position:{x:y.x,y:y.y},size:{width:y.width,height:y.height}},e)},rotate:function(e,t,n,r){if(n){var i=this.getBBox().center(),o=this.get("size"),s=this.get("position");i.rotate(n,this.get("angle")-e);var a=i.x-o.width/2-s.x,u=i.y-o.height/2-s.y;this.startBatch("rotate",{angle:e,absolute:t,origin:n}),this.position(s.x+a,s.y+u,r),this.rotate(e,t,null,r),this.stopBatch("rotate")}else this.set("angle",t?e:(this.get("angle")+e)%360,r);return this},angle:function(){return dn(this.get("angle")||0)},getBBox:function(e={}){let{graph:t,attributes:n}=this,{deep:r,rotate:i}=e;if(r&&t){let f=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return f.push(this),t.getCellsBBox(f,e)}let{angle:o=0,position:{x:s,y:a},size:{width:u,height:l}}=n,h=new fe(s,a,u,l);return i&&h.rotateAroundCenter(o),h},getPointFromConnectedLink:function(e,t){var n=this.getBBox(),r=n.center(),i=e.get(t);if(!i)return r;var o=i.port;if(!o||!this.hasPort(o))return r;var s=this.portProp(o,["group"]),a=this.getPortsPositions(s),u=new k(a[o]).offset(n.origin()),l=this.angle();return l&&u.rotate(r,-l),u}});Ce(xt.prototype,fN);var xj=bo.default.Collection.extend({initialize:function(e,t){t.cellNamespace?this.cellNamespace=t.cellNamespace:this.cellNamespace=typeof joint<"u"&&ir(joint,"shapes")?joint.shapes:null,this.graph=t.graph},model:function(e,t){var n=t.collection,r=n.cellNamespace,i=e.type==="link"?bt:ji(r,e.type,".")||xt,o=new i(e,t);return t.dry||(o.graph=n.graph),o},comparator:function(e){return e.get("z")||0}}),ip=bo.default.Model.extend({initialize:function(e,t){t=t||{};var n=new xj([],{model:t.cellModel,cellNamespace:t.cellNamespace,graph:this});bo.default.Model.prototype.set.call(this,"cells",n),n.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},this._batches={},n.on("add",this._restructureOnAdd,this),n.on("remove",this._restructureOnRemove,this),n.on("reset",this._restructureOnReset,this),n.on("change:source",this._restructureOnChangeSource,this),n.on("change:target",this._restructureOnChangeTarget,this),n.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(e){if(e.isLink()){this._edges[e.id]=!0;var{source:t,target:n}=e.attributes;t.id&&((this._out[t.id]||(this._out[t.id]={}))[e.id]=!0),n.id&&((this._in[n.id]||(this._in[n.id]={}))[e.id]=!0)}else this._nodes[e.id]=!0},_restructureOnRemove:function(e){if(e.isLink()){delete this._edges[e.id];var{source:t,target:n}=e.attributes;t.id&&this._out[t.id]&&this._out[t.id][e.id]&&delete this._out[t.id][e.id],n.id&&this._in[n.id]&&this._in[n.id][e.id]&&delete this._in[n.id][e.id]}else delete this._nodes[e.id]},_restructureOnReset:function(e){e=e.models,this._out={},this._in={},this._nodes={},this._edges={},e.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(e){var t=e.previous("source");t.id&&this._out[t.id]&&delete this._out[t.id][e.id];var n=e.attributes.source;n.id&&((this._out[n.id]||(this._out[n.id]={}))[e.id]=!0)},_restructureOnChangeTarget:function(e){var t=e.previous("target");t.id&&this._in[t.id]&&delete this._in[t.id][e.id];var n=e.get("target");n.id&&((this._in[n.id]||(this._in[n.id]={}))[e.id]=!0)},getOutboundEdges:function(e){return this._out&&this._out[e]||{}},getInboundEdges:function(e){return this._in&&this._in[e]||{}},toJSON:function(){var e=bo.default.Model.prototype.toJSON.apply(this,arguments);return e.cells=this.get("cells").toJSON(),e},fromJSON:function(e,t){if(!e.cells)throw new Error("Graph JSON must contain cells array.");return this.set(e,t)},set:function(e,t,n){var r;return typeof e=="object"?(r=e,n=t):(r={})[e]=t,r.hasOwnProperty("cells")&&(this.resetCells(r.cells,n),r=wr(r,"cells")),bo.default.Model.prototype.set.call(this,r,n)},clear:function(e){e=Ce({},e,{clear:!0});var t=this.get("cells");if(t.length===0)return this;this.startBatch("clear",e);var n=t.sortBy(function(r){return r.isLink()?1:2});do n.shift().remove(e);while(n.length>0);return this.stopBatch("clear"),this},_prepareCell:function(e,t){var n;if(e instanceof bo.default.Model?(n=e.attributes,!e.graph&&(!t||!t.dry)&&(e.graph=this)):n=e,!Yt(n.type))throw new TypeError("dia.Graph: cell type must be a string.");return e},minZIndex:function(){var e=this.get("cells").first();return e&&e.get("z")||0},maxZIndex:function(){var e=this.get("cells").last();return e&&e.get("z")||0},addCell:function(e,t){return Array.isArray(e)?this.addCells(e,t):(e instanceof bo.default.Model?e.has("z")||e.set("z",this.maxZIndex()+1):e.z===void 0&&(e.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(e,t),t||{}),this)},addCells:function(e,t){return e.length===0?this:(e=c0(e),t.maxPosition=t.position=e.length-1,this.startBatch("add",t),e.forEach(function(n){this.addCell(n,t),t.position--},this),this.stopBatch("add",t),this)},resetCells:function(e,t){var n=Le(e).map(function(r){return this._prepareCell(r,t)},this);return this.get("cells").reset(n,t),this},removeCells:function(e,t){return e.length&&(this.startBatch("remove"),Un(e,"remove",t),this.stopBatch("remove")),this},_removeCell:function(e,t,n){n=n||{},n.clear||(n.disconnectLinks?this.disconnectLinks(e,n):this.removeLinks(e,n)),this.get("cells").remove(e,{silent:!0}),e.graph===this&&(e.graph=null)},getCell:function(e){return this.get("cells").get(e)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return this.get("cells").filter(e=>e.isElement())},getLinks:function(){return this.get("cells").filter(e=>e.isLink())},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(e,t){t=t||{};var n=t.indirect,r=t.inbound,i=t.outbound;r===void 0&&i===void 0&&(r=i=!0);var o=[],s={};i&&a(this,e),r&&u(this,e);function a(f,y){if(Zn(f.getOutboundEdges(y.id),(function(x,S){if(!s[S]){var N=f.getCell(S);o.push(N),s[S]=!0,n&&(r&&u(f,N),i&&a(f,N))}}).bind(f)),n&&y.isLink()){var I=y.getTargetCell();I&&I.isLink()&&(s[I.id]||(o.push(I),a(f,I)))}}function u(f,y){if(Zn(f.getInboundEdges(y.id),(function(x,S){if(!s[S]){var N=f.getCell(S);o.push(N),s[S]=!0,n&&(r&&u(f,N),i&&a(f,N))}}).bind(f)),n&&y.isLink()){var I=y.getSourceCell();I&&I.isLink()&&(s[I.id]||(o.push(I),u(f,I)))}}if(t.deep){var l=e.getEmbeddedCells({deep:!0}),h={};l.forEach(function(f){f.isElement()&&(h[f.id]=!0)}),l.forEach(function(f){f.isLink()||(i&&Zn(this.getOutboundEdges(f.id),(function(y,I){if(!s[I]){var x=this.getCell(I),{source:S,target:N}=x.attributes,P=S.id,U=N.id;if(!t.includeEnclosed&&P&&h[P]&&U&&h[U])return;o.push(this.getCell(I)),s[I]=!0}}).bind(this)),r&&Zn(this.getInboundEdges(f.id),(function(y,I){if(!s[I]){var x=this.getCell(I),{source:S,target:N}=x.attributes,P=S.id,U=N.id;if(!t.includeEnclosed&&P&&h[P]&&U&&h[U])return;o.push(this.getCell(I)),s[I]=!0}}).bind(this)))},this)}return o},getNeighbors:function(e,t){t||(t={});var n=t.inbound,r=t.outbound;n===void 0&&r===void 0&&(n=r=!0);var i=this.getConnectedLinks(e,t).reduce((function(a,u){var{source:l,target:h}=u.attributes,f=u.hasLoop(t);if(n&&ir(l,"id")&&!a[l.id]){var y=this.getCell(l.id);y.isElement()&&(f||y&&y!==e&&(!t.deep||!y.isEmbeddedIn(e)))&&(a[l.id]=y)}if(r&&ir(h,"id")&&!a[h.id]){var I=this.getCell(h.id);I.isElement()&&(f||I&&I!==e&&(!t.deep||!I.isEmbeddedIn(e)))&&(a[h.id]=I)}return a}).bind(this),{});if(e.isLink()){if(n){var o=e.getSourceCell();o&&o.isElement()&&!i[o.id]&&(i[o.id]=o)}if(r){var s=e.getTargetCell();s&&s.isElement()&&!i[s.id]&&(i[s.id]=s)}}return Le(i)},getCommonAncestor:function(){var e=Array.from(arguments).map(function(n){for(var r=[],i=n.get("parent");i;)r.push(i),i=this.getCell(i).get("parent");return r},this);e=e.sort(function(n,r){return n.length-r.length});var t=Le(e.shift()).find(function(n){return e.every(function(r){return r.includes(n)})});return this.getCell(t)},getSuccessors:function(e,t){t=t||{};var n=[];return this.search(e,function(r){r!==e&&n.push(r)},Ce({},t,{outbound:!0})),n},cloneCells:ep,cloneSubgraph:function(e,t){var n=this.getSubgraph(e,t);return this.cloneCells(n)},getSubgraph:function(e,t){t=t||{};var n=[],r={},i=[],o=[];return Le(e).forEach(function(s){if(r[s.id]||(n.push(s),r[s.id]=s,s.isLink()?o.push(s):i.push(s)),t.deep){var a=s.getEmbeddedCells({deep:!0});a.forEach(function(u){r[u.id]||(n.push(u),r[u.id]=u,u.isLink()?o.push(u):i.push(u))})}}),o.forEach(function(s){var{source:a,target:u}=s.attributes;if(a.id&&!r[a.id]){var l=this.getCell(a.id);n.push(l),r[l.id]=l,i.push(l)}if(u.id&&!r[u.id]){var h=this.getCell(u.id);n.push(this.getCell(u.id)),r[h.id]=h,i.push(h)}},this),i.forEach(function(s){var a=this.getConnectedLinks(s,t);a.forEach(function(u){var{source:l,target:h}=u.attributes;!r[u.id]&&l.id&&r[l.id]&&h.id&&r[h.id]&&(n.push(u),r[u.id]=u)})},this),n},getPredecessors:function(e,t){t=t||{};var n=[];return this.search(e,function(r){r!==e&&n.push(r)},Ce({},t,{inbound:!0})),n},search:function(e,t,n){n=n||{},n.breadthFirst?this.bfs(e,t,n):this.dfs(e,t,n)},bfs:function(e,t,n={}){let r={},i={},o=[];for(o.push(e),i[e.id]=0;o.length>0;){var s=o.shift();if(r[s.id]||(r[s.id]=!0,t.call(this,s,i[s.id])===!1))continue;let a=this.getNeighbors(s,n);for(let u=0,l=a.length;u<l;u++){let h=a[u];i[h.id]=i[s.id]+1,o.push(h)}}},dfs:function(e,t,n={}){let r={},i={},o=[];for(o.push(e),i[e.id]=0;o.length>0;){let s=o.pop();if(r[s.id]||(r[s.id]=!0,t.call(this,s,i[s.id])===!1))continue;let a=this.getNeighbors(s,n),u=o.length;for(let l=0,h=a.length;l<h;l++){let f=a[l];i[f.id]=i[s.id]+1,o.splice(u,0,f)}}},getSources:function(){var e=[];return Zn(this._nodes,(function(t,n){(!this._in[n]||Vn(this._in[n]))&&e.push(this.getCell(n))}).bind(this)),e},getSinks:function(){var e=[];return Zn(this._nodes,(function(t,n){(!this._out[n]||Vn(this._out[n]))&&e.push(this.getCell(n))}).bind(this)),e},isSource:function(e){return!this._in[e.id]||Vn(this._in[e.id])},isSink:function(e){return!this._out[e.id]||Vn(this._out[e.id])},isSuccessor:function(e,t){var n=!1;return this.search(e,function(r){if(r===t&&r!==e)return n=!0,!1},{outbound:!0}),n},isPredecessor:function(e,t){var n=!1;return this.search(e,function(r){if(r===t&&r!==e)return n=!0,!1},{inbound:!0}),n},isNeighbor:function(e,t,n){n=n||{};var r=n.inbound,i=n.outbound;r===void 0&&i===void 0&&(r=i=!0);var o=!1;return this.getConnectedLinks(e,n).forEach(function(s){var{source:a,target:u}=s.attributes;if(r&&ir(a,"id")&&a.id===t.id||i&&ir(u,"id")&&u.id===t.id)return o=!0,!1}),o},disconnectLinks:function(e,t){this.getConnectedLinks(e).forEach(function(n){n.set(n.attributes.source.id===e.id?"source":"target",{x:0,y:0},t)})},removeLinks:function(e,t){Un(this.getConnectedLinks(e),"remove",t)},findModelsFromPoint:function(e){return this.getElements().filter(t=>t.getBBox({rotate:!0}).containsPoint(e))},findModelsInArea:function(e,t={}){let n=new fe(e),{strict:r=!1}=t,i=r?"containsRect":"intersect";return this.getElements().filter(o=>n[i](o.getBBox({rotate:!0})))},findModelsUnderElement:function(e,t={}){let{searchBy:n="bbox"}=t,r=e.getBBox().rotateAroundCenter(e.angle());return(n==="bbox"?this.findModelsInArea(r):this.findModelsFromPoint(fl(r,n))).filter(o=>e.id!==o.id&&!o.isEmbeddedIn(e))},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(e,t={}){let{rotate:n=!0}=t;return Le(e).reduce(function(r,i){let o=i.getBBox({rotate:n});return o?r?r.union(o):o:r},null)},translate:function(e,t,n){var r=this.getCells().filter(function(i){return!i.isEmbedded()});return Un(r,"translate",e,t,n),this},resize:function(e,t,n){return this.resizeCells(e,t,this.getCells(),n)},resizeCells:function(e,t,n,r){var i=this.getCellsBBox(n);if(i){var o=Math.max(e/i.width,0),s=Math.max(t/i.height,0);Un(n,"scale",o,s,i.origin(),r)}return this},startBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)+1,this.trigger("batch:start",Ce({},t,{batchName:e}))},stopBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)-1,this.trigger("batch:stop",Ce({},t,{batchName:e}))},hasActiveBatch:function(e){let t=this._batches,n;return arguments.length===0?n=Object.keys(t):Array.isArray(e)?n=e:n=[e],n.some(r=>t[r]>0)}},{validations:{multiLinks:function(e,t){var{source:n,target:r}=t.attributes;if(n.id&&r.id){var i=t.getSourceCell();if(i){var o=e.getConnectedLinks(i,{outbound:!0}),s=o.filter(function(a){var{source:u,target:l}=a.attributes;return u&&u.id===n.id&&(!u.port||u.port===n.port)&&l&&l.id===r.id&&(!l.port||l.port===r.port)});if(s.length>1)return!1}}return!0},linkPinning:function(e,t){var{source:n,target:r}=t.attributes;return n.id&&r.id}}});rN(ip.prototype,["resetCells","addCells","removeCells"],rp.cells);var Cs=ci(Wc(),1),ws=ci(vo(),1);var xo={},or=Cs.default.View.extend({options:{},theme:null,themeClassNamePrefix:Tn("theme-"),requireSetThemeOverride:!1,defaultTheme:Dn.defaultTheme,children:null,childNodes:null,DETACHABLE:!0,UPDATE_PRIORITY:2,FLAG_INSERT:1<<30,FLAG_REMOVE:1<<29,FLAG_INIT:1<<28,constructor:function(e){this.requireSetThemeOverride=e&&!!e.theme,this.options=Ce({},this.options,e),Cs.default.View.call(this,e)},initialize:function(){xo[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){this.svgElement?this.vel.remove():this.$el.remove()},isMounted:function(){return this.el.parentNode!==null},renderChildren:function(e){if(e||(e=Et(this,"children")),e){var t=this.svgElement,n=ee.namespace[t?"svg":"xhtml"],r=Is(e,n);(t?this.vel:this.$el).empty().append(r.fragment),this.childNodes=r.selectors}return this},findAttribute:function(e,t){for(var n=t;n&&n.nodeType===1;){var r=n.getAttribute(e);if(r)return r;if(n===this.el)return null;n=n.parentNode}return null},_ensureElement:function(){if(this.el)this.setElement(Et(this,"el"));else{var e=Et(this,"tagName"),t=Ce({},Et(this,"attributes")),n=Ce({},Et(this,"style"));this.id&&(t.id=Et(this,"id")),this.setElement(this._createElement(e)),this._setAttributes(t),this._setStyle(n)}this._ensureElClassName()},_setAttributes:function(e){this.svgElement?this.vel.attr(e):this.$el.attr(e)},_setStyle:function(e){this.$el.css(e)},_createElement:function(e){return this.svgElement?document.createElementNS(ee.namespace.svg,e):document.createElement(e)},_setElement:function(e){this.$el=e instanceof Cs.default.$?e:Cs.default.$(e),this.el=this.$el[0],this.svgElement&&(this.vel=ee(this.el))},_ensureElClassName:function(){var e=Et(this,"className");if(e){var t=Tn(e);this.svgElement?this.vel.removeClass(e).addClass(t):this.$el.removeClass(e).addClass(t)}},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(e,t){return t=t||{},this.theme&&this.requireSetThemeOverride&&!t.override?this:(this.removeThemeClassName(),this.addThemeClassName(e),this.onSetTheme(this.theme,e),this.theme=e,this)},addThemeClassName:function(e){if(e=e||this.theme,!e)return this;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.addClass(t):this.$el.addClass(t),this},removeThemeClassName:function(e){e=e||this.theme;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.removeClass(t):this.$el.removeClass(t),this},onSetTheme:function(e,t){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),xo[this.cid]=null,Cs.default.View.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(e,t,n){if(!t)return this;n||(n={});var r=this.getEventNamespace();for(var i in t){var o=t[i];typeof o!="function"&&(o=this[o]),o&&(0,ws.default)(e).on(i+r,n,o.bind(this))}return this},undelegateElementEvents:function(e){return(0,ws.default)(e).off(this.getEventNamespace()),this},delegateDocumentEvents:function(e,t){return e||(e=Et(this,"documentEvents")),this.delegateElementEvents(document,e,t)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(e,t){if(!e)throw new Error("eventData(): event object required.");var n=e.data,r="__"+this.cid+"__";return t===void 0?n?n[r]||{}:{}:(n||(n=e.data={}),n[r]||(n[r]={}),Ce(n[r],t),this)},stopPropagation:function(e){return this.eventData(e,{propagationStopped:!0}),this},isPropagationStopped:function(e){return!!this.eventData(e).propagationStopped}},{extend:function(){var e=Array.from(arguments),t=e[0]&&Ce({},e[0])||{},n=e[1]&&Ce({},e[1])||{},r=t.render||this.prototype&&this.prototype.render||null;return t.render=function(){return typeof r=="function"&&r.apply(this,arguments),this.render.__render__===r&&this.onRender(),this},t.render.__render__=r,Cs.default.View.extend.call(this,t,n)}}),hN="dbltap";if(ws.default.event&&!(hN in ws.default.event.special)){let e=Dn.doubleTapInterval,t=30;ws.default.event.special[hN]={bindType:"touchend",delegateType:"touchend",handle:function(n,...r){let{handleObj:i,target:o}=n,s=ws.default.data(o),a=new Date().getTime(),u="lastTouch"in s?a-s.lastTouch:0;u<e&&u>t?(s.lastTouch=null,n.type=i.origType,i.handler.call(this,n,...r)):s.lastTouch=a}}}var Wn={CELLS:"cells",BACK:"back",FRONT:"front",TOOLS:"tools",LABELS:"labels"},I0=or.extend({tagName:"g",svgElement:!0,pivotNodes:null,defaultTheme:null,options:{name:""},className:function(){return Tn(`${this.options.name}-layer`)},init:function(){this.pivotNodes={}},insertSortedNode:function(e,t){this.el.insertBefore(e,this.insertPivot(t))},insertNode:function(e){let{el:t}=this;e.parentNode!==t&&t.appendChild(e)},insertPivot:function(e){let{el:t,pivotNodes:n}=this;e=+e,e||(e=0);let r=n[e];if(r)return r;r=n[e]=document.createComment("z-index:"+(e+1));let i=-1/0;for(let o in n)o=+o,o<e&&o>i&&(i=o,e-1);if(i!==-1/0){let o=n[i];t.insertBefore(r,o.nextSibling)}else t.insertBefore(r,t.firstChild);return r},removePivots:function(){let{el:e,pivotNodes:t}=this;for(let n in t)e.removeChild(t[n]);this.pivotNodes={}}});var w0=ci(vo(),1);function hl(e){return e?Array.isArray(e)?e:[e]:[]}var mn=or.extend({tagName:"g",svgElement:!0,className:"highlight",HIGHLIGHT_FLAG:1,UPDATE_PRIORITY:3,DETACHABLE:!1,UPDATABLE:!0,MOUNTABLE:!0,cellView:null,nodeSelector:null,node:null,updateRequested:!1,postponedUpdate:!1,transformGroup:null,detachedTransformGroup:null,requestUpdate(e,t){let{paper:n}=e;this.cellView=e,this.nodeSelector=t,n&&(this.updateRequested=!0,n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY))},confirmUpdate(){this.updateRequested=!1;let{cellView:e,nodeSelector:t}=this;return e.isMounted()?(this.update(e,t),this.mount(),this.transform(),0):(this.postponedUpdate=!0,0)},findNode(e,t=null){let n;if(typeof t=="string")[n]=e.findBySelector(t);else if(At(t)){let r=e.model.isLink(),{label:i=null,port:o,selector:s}=t;r&&i!==null?n=e.findLabelNode(i,s):!r&&o?n=e.findPortNode(o,s):[n]=e.findBySelector(s)}else t&&(n=ee.toNode(t),n instanceof SVGElement||(n=null));return n||null},getNodeMatrix(e,t){let{options:n}=this,{layer:r}=n,{rotatableNode:i}=e,o=e.getNodeMatrix(t);return i?r?i.contains(t)?o:e.getRootRotateMatrix().inverse().multiply(o):e.getNodeRotateMatrix(t).multiply(o):o},mount(){let{MOUNTABLE:e,cellView:t,el:n,options:r,transformGroup:i,detachedTransformGroup:o,postponedUpdate:s,nodeSelector:a}=this;if(!e||i)return;if(s){this.update(t,a),this.transform();return}let{vel:u,paper:l}=t,{layer:h}=r;if(h){let f;o?(f=o,this.detachedTransformGroup=null):f=ee("g").addClass("highlight-transform").append(n),this.transformGroup=f,l.getLayerView(h).insertSortedNode(f.node,r.z)}else(!n.parentNode||n.nextSibling)&&u.append(n)},unmount(){let{MOUNTABLE:e,transformGroup:t,vel:n}=this;e&&(t?(this.transformGroup=null,this.detachedTransformGroup=t,t.remove()):n.remove())},transform(){let{transformGroup:e,cellView:t,updateRequested:n}=this;if(!e||t.model.isLink()||n)return;let r=t.getRootTranslateMatrix(),i=t.getRootRotateMatrix(),o=r.multiply(i);e.attr("transform",ee.matrixToTransformString(o))},update(){let{node:e,cellView:t,nodeSelector:n,updateRequested:r,id:i}=this;if(r)return;this.postponedUpdate=!1;let o=this.node=this.findNode(t,n);e&&this.unhighlight(t,e),o?(this.highlight(t,o),this.mount()):(this.unmount(),t.notify("cell:highlight:invalid",i,this))},onRemove(){let{node:e,cellView:t,id:n,constructor:r}=this;e&&this.unhighlight(t,e),this.unmount(),r._removeRef(t,n)},highlight(e,t){},unhighlight(e,t){},listenToUpdateAttributes(e){let t=Et(this,"UPDATE_ATTRIBUTES");!Array.isArray(t)||t.length===0||this.listenTo(e.model,"change",this.onCellAttributeChange)},onCellAttributeChange(){let{cellView:e}=this;if(!e)return;let{model:t,paper:n}=e;Et(this,"UPDATE_ATTRIBUTES").some(i=>t.hasChanged(i))&&n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY)}},{_views:{},highlight:function(e,t,n){let r=this.uniqueId(t,n);this.add(e,t,r,n)},unhighlight:function(e,t,n){let r=this.uniqueId(t,n);this.remove(e,r)},get(e,t=null){let{cid:n}=e,{_views:r}=this,i=r[n];if(t===null){let o=[];if(!i)return o;for(let s in i){let a=i[s];a instanceof this&&o.push(a)}return o}else{if(!i)return null;if(t in i){let o=i[t];if(o instanceof this)return o}return null}},add(e,t,n,r={}){if(!n)throw new Error("dia.HighlighterView: An ID required.");let i=mn.get(e,n);i&&i.remove();let o=new this(r);return o.id=n,this._addRef(e,n,o),o.requestUpdate(e,t),o.listenToUpdateAttributes(e),o},_addRef(e,t,n){let{cid:r}=e,{_views:i}=this,o=i[r];o||(o=i[r]={}),o[t]=n},_removeRef(e,t){let{cid:n}=e,{_views:r}=this,i=r[n];if(i){t&&delete i[t];for(let o in i)return;delete r[n]}},remove(e,t=null){hl(this.get(e,t)).forEach(n=>{n.remove()})},removeAll(e,t=null){let{_views:n}=this;for(let r in n)for(let i in n[r]){let o=n[r][i];o.cellView.paper===e&&o instanceof this&&(t===null||i===t)&&o.remove()}},update(e,t=null,n=!1){hl(this.get(e,t)).forEach(r=>{(n||r.UPDATABLE)&&r.update()})},transform(e,t=null){hl(this.get(e,t)).forEach(n=>{n.UPDATABLE&&n.transform()})},unmount(e,t=null){hl(this.get(e,t)).forEach(n=>n.unmount())},mount(e,t=null){hl(this.get(e,t)).forEach(n=>n.mount())},uniqueId(e,t=""){return ee.ensureId(e)+JSON.stringify(t)}});var Qa={DEFAULT:"default",EMBEDDING:"embedding",CONNECTING:"connecting",MAGNET_AVAILABILITY:"magnetAvailability",ELEMENT_AVAILABILITY:"elementAvailability"},Dj={TOOLS:"TOOLS"},Ze=or.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var e=["cell"],t=this.model.get("type");return t&&t.toLowerCase().split(".").forEach(function(n,r,i){e.push("type-"+i.slice(0,r+1).join("-"))}),e.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var e={},t={},n=0,r,i,o,s=Et(this,"presentationAttributes");for(var a in s)if(s.hasOwnProperty(a)){var u=s[a];for(Array.isArray(u)||(u=[u]),r=0,i=u.length;r<i;r++){o=u[r];var l=e[o];l||(l=e[o]=1<<n++),t[a]|=l}}var h=Et(this,"initFlag");for(Array.isArray(h)||(h=[h]),r=0,i=h.length;r<i;r++)o=h[r],e[o]||(e[o]=1<<n++);if(n>25)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=e,this._presentationAttributes=t},hasFlag:function(e,t){return e&this.getFlag(t)},removeFlag:function(e,t){return e^e&this.getFlag(t)},getFlag:function(e){var t=this._flags;if(!t)return 0;var n=0;if(Array.isArray(e))for(var r=0,i=e.length;r<i;r++)n|=t[e[r]];else n|=t[e];return n},attributes:function(){var e=this.model;return{"model-id":e.id,"data-type":e.attributes.type}},constructor:function(e){e.id=e.id||Co(this),or.call(this,e)},initialize:function(){this.setFlags(),or.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.$el.data("view",this),this.startListening()},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(e,t){var n=e.getChangeFlag(this._presentationAttributes);t.updateHandled||!n||(t.dirty&&this.hasFlag(n,"UPDATE")&&(n|=this.getFlag("RENDER")),t.tool&&(t.async=!1),this.requestUpdate(n,t))},requestUpdate:function(e,t){let{paper:n}=this;n&&e>0&&n.requestViewUpdate(this,e,this.UPDATE_PRIORITY,t)},parseDOMJSON:function(e,t){var n=Is(e),r=n.selectors,i=n.groupSelectors;for(var o in i){if(r[o])throw new Error("dia.CellView: ambiguous group selector");r[o]=i[o]}if(t){var s=this.selector;if(r[s])throw new Error("dia.CellView: ambiguous root selector.");r[s]=t}return{fragment:n.fragment,selectors:r}},can:function(e){var t=ct(this.options.interactive)?this.options.interactive(this):this.options.interactive;return $e(t)&&t[e]!==!1||s0(t)&&t!==!1},findBySelector:function(e,t,n){if(t||(t=this.el),n||(n=this.selectors),!e||e===".")return[t];if(n){var r=n[e];if(r)return Array.isArray(r)?r:[r]}return Dn.useCSSSelectors?(0,w0.default)(t).find(e).toArray():[]},notify:function(e){if(this.paper){var t=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[e].concat(t)),this.paper.trigger.apply(this.paper,[e,this].concat(t))}},getBBox:function(e){var t;if(e&&e.useModelGeometry){var n=this.model;t=n.getBBox().bbox(n.angle())}else t=this.getNodeBBox(this.el);return this.paper.localToPaperRect(t)},getNodeBBox:function(e){let t=this.getNodeBoundingRect(e),n=this.getRootTranslateMatrix().multiply(this.getNodeRotateMatrix(e)),r=this.getNodeMatrix(e);return ee.transformRect(t,n.multiply(r))},getNodeRotateMatrix(e){return!this.rotatableNode||this.rotatableNode.contains(e)?this.getRootRotateMatrix():ee.createSVGMatrix()},getNodeUnrotatedBBox:function(e){var t=this.getNodeBoundingRect(e),n=this.getNodeMatrix(e),r=this.getRootTranslateMatrix();return ee.transformRect(t,r.multiply(n))},getRootTranslateMatrix:function(){var e=this.model,t=e.position(),n=ee.createSVGMatrix().translate(t.x,t.y);return n},getRootRotateMatrix:function(){var e=ee.createSVGMatrix(),t=this.model,n=t.angle();if(n){var r=t.getBBox(),i=r.width/2,o=r.height/2;e=e.translate(i,o).rotate(n).translate(-i,-o)}return e},_notifyHighlight:function(e,t,n={}){let{el:r}=this,i;if(typeof t=="string"?[i=r]=this.findBySelector(t):[i=r]=this.$(t),n.partial=i!==r,n.type===void 0){let o;switch(!0){case n.embedding:o=Qa.EMBEDDING;break;case n.connecting:o=Qa.CONNECTING;break;case n.magnetAvailability:o=Qa.MAGNET_AVAILABILITY;break;case n.elementAvailability:o=Qa.ELEMENT_AVAILABILITY;break;default:o=Qa.DEFAULT;break}n.type=o}return this.notify(e,i,n),this},highlight:function(e,t){return this._notifyHighlight("cell:highlight",e,t)},unhighlight:function(e,t={}){return this._notifyHighlight("cell:unhighlight",e,t)},findMagnet:function(e){let t=this.el,n=this.$(e)[0];n||(n=t);do{let r=n.getAttribute("magnet"),i=n===t;if((r||i)&&r!=="false")return n;if(i)return;n=n.parentNode}while(n)},findProxyNode:function(e,t){e||(e=this.el);let n=e.getAttribute(`${t}-selector`);if(n){let[r]=this.findBySelector(n);if(r)return r}return e},getSelector:function(e,t){var n;if(e===this.el)return typeof t=="string"&&(n="> "+t),n;if(e){var r=ee(e).index()+1;n=e.tagName+":nth-child("+r+")",t&&(n+=" > "+t),n=this.getSelector(e.parentNode,n)}return n},addLinkFromMagnet:function(e,t,n){var r=this.paper,i=r.model,o=r.getDefaultLink(this,e);return o.set({source:this.getLinkEnd(e,t,n,o,"source"),target:{x:t,y:n}}).addTo(i,{async:!1,ui:!0}),o.findView(r)},getLinkEnd:function(e,...t){var n=this.model,r=n.id,i=this.findAttribute("port",e),o=e.getAttribute("joint-selector"),s={id:r};return o!=null&&(s.magnet=o),i!=null?(s.port=i,!n.hasPort(i)&&!o&&(s.selector=this.getSelector(e))):o==null&&this.el!==e&&(s.selector=this.getSelector(e)),this.customizeLinkEnd(s,e,...t)},customizeLinkEnd:function(e,t,n,r,i,o){let{paper:s}=this,{connectionStrategy:a}=s.options;if(typeof a=="function"){var u=a.call(s,e,this,t,new k(n,r),i,o,s);if(u)return u}return e},getMagnetFromLinkEnd:function(e){var t=this.el,n=e.port,r=e.magnet,i=this.model,o;return n!=null&&i.isElement()&&i.hasPort(n)?o=this.findPortNode(n,r)||t:(r||(r=e.selector),!r&&n!=null&&(r='[port="'+n+'"]'),o=this.findBySelector(r,t,this.selectors)[0]),this.findProxyNode(o,"magnet")},dragLinkStart:function(e,t,n,r){this.model.startBatch("add-link");let i=this.addLinkFromMagnet(t,n,r);i.notifyPointerdown(e,n,r),i.eventData(e,i.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(e,{linkView:i})},dragLink:function(e,t,n){var r=this.eventData(e),i=r.linkView;if(i)i.pointermove(e,t,n);else{var o=this.paper,s=o.options.magnetThreshold,a=this.getEventTarget(e),u=r.targetMagnet;if(s==="onleave"){if(u===a||ee(u).contains(a))return}else if(o.eventData(e).mousemoved<=s)return;this.dragLinkStart(e,u,t,n)}},dragLinkEnd:function(e,t,n){var r=this.eventData(e),i=r.linkView;i&&(i.pointerup(e,t,n),this.model.stopBatch("add-link"))},getAttributeDefinition:function(e){return this.model.constructor.getAttributeDefinition(e)},setNodeAttributes:function(e,t){Vn(t)||(e instanceof SVGElement?ee(e).attr(t):(0,w0.default)(e).attr(t))},processNodeAttributes:function(e,t){var n,r,i,o,s,a,u,l,h,f=[];for(n in t)t.hasOwnProperty(n)&&(r=t[n],i=this.getAttributeDefinition(n),i&&(!ct(i.qualify)||i.qualify.call(this,r,e,t,this))?(Yt(i.set)&&(a||(a={}),a[i.set]=r),r!==null&&f.push(n,i)):(a||(a={}),a[VS(n)]=r));for(o=0,s=f.length;o<s;o+=2)n=f[o],i=f[o+1],r=t[n],ct(i.set)&&(u||(u={}),u[n]=r),ct(i.position)&&(l||(l={}),l[n]=r),ct(i.offset)&&(h||(h={}),h[n]=r);return{raw:t,normal:a,set:u,position:l,offset:h}},updateRelativeAttributes:function(e,t,n,r){r||(r={});var i,o,s,a=t.raw||{},u=t.normal||{},l=t.set,h=t.position,f=t.offset;for(i in l){o=l[i],s=this.getAttributeDefinition(i);var y=s.set.call(this,o,n.clone(),e,a,this);$e(y)?Ce(u,y):y!==void 0&&(u[i]=y)}if(e instanceof HTMLElement){this.setNodeAttributes(e,u);return}var I=u.transform,x=ee.transformStringToMatrix(I),S=k(x.e,x.f);I&&(u=wr(u,"transform"),x.e=x.f=0);var N,P,U;if(h||f){var H=this.getNodeScale(e,r.scalableNode);N=H.sx,P=H.sy}var J=!1;for(i in h)o=h[i],s=this.getAttributeDefinition(i),U=s.position.call(this,o,n.clone(),e,a,this),U&&(S.offset(k(U).scale(N,P)),J||(J=!0));this.setNodeAttributes(e,u);var ie=!1;if(f){var g=this.getNodeBoundingRect(e);if(g.width>0&&g.height>0){var v=ee.transformRect(g,x).scale(1/N,1/P);for(i in f)o=f[i],s=this.getAttributeDefinition(i),U=s.offset.call(this,o,v,e,a,this),U&&(S.offset(k(U).scale(N,P)),ie||(ie=!0))}}(I!==void 0||J||ie)&&(S.round(1),x.e=S.x,x.f=S.y,e.setAttribute("transform",ee.matrixToTransformString(x)))},getNodeScale:function(e,t){var n,r;if(t&&t.contains(e)){var i=t.scale();n=1/i.sx,r=1/i.sy}else n=1,r=1;return{sx:n,sy:r}},cleanNodesCache:function(){this.metrics={}},nodeCache:function(e){var t=this.metrics;if(!t)return{};var n=ee.ensureId(e),r=t[n];return r||(r=t[n]={}),r},getNodeData:function(e){var t=this.nodeCache(e);return t.data||(t.data={}),t.data},getNodeBoundingRect:function(e){var t=this.nodeCache(e);return t.boundingRect===void 0&&(t.boundingRect=ee(e).getBBox()),new fe(t.boundingRect)},getNodeMatrix:function(e){let t=this.nodeCache(e);if(t.magnetMatrix===void 0){let{rotatableNode:n,el:r}=this,i;n&&n.contains(e)?i=n:i=r,t.magnetMatrix=ee(e).getTransformToElement(i)}return ee.createSVGMatrix(t.magnetMatrix)},getNodeShape:function(e){var t=this.nodeCache(e);return t.geometryShape===void 0&&(t.geometryShape=ee(e).toGeometryShape()),t.geometryShape.clone()},isNodeConnection:function(e){return this.model.isLink()&&(!e||e===this.el)},findNodesAttributes:function(e,t,n,r){var i,o,s,a,u={},l=[];for(var h in e)if(e.hasOwnProperty(h)&&(s=e[h],!!At(s))){var f=n[h]=this.findBySelector(h,t,r);for(i=0,o=f.length;i<o;i++){var y=f[i];a=ee.ensureId(y);var I=r&&r[h]===y,x=u[a];if(x){x.array||(l.push(a),x.array=!0,x.attributes=[x.attributes],x.selectedLength=[x.selectedLength]);var S=x.attributes,N=x.selectedLength;if(I)S.unshift(s),N.unshift(-1);else{var P=tl(N,o);S.splice(P,0,s),N.splice(P,0,o)}}else u[a]={attributes:s,selectedLength:I?-1:o,node:y,array:!1}}}for(i=0,o=l.length;i<o;i++)a=l[i],s=u[a],s.attributes=_t({},...s.attributes.reverse());return u},getEventTarget:function(e,t={}){let{target:n,type:r,clientX:i=0,clientY:o=0}=e;return t.fromPoint||r==="touchmove"||r==="touchend"||"pointerId"in e&&n.hasPointerCapture(e.pointerId)?document.elementFromPoint(i,o):n},updateDOMSubtreeAttributes:function(e,t,n){n||(n={}),n.rootBBox||(n.rootBBox=fe()),n.selectors||(n.selectors=this.selectors);var r={},i={},o=[],s=[],a,u,l,h,f,y=n.roAttributes,I=this.findNodesAttributes(y||t,e,r,n.selectors),x=y?this.findNodesAttributes(t,e,r,n.selectors):I;for(var S in I)if(h=I[S],l=h.attributes,u=h.node,f=this.processNodeAttributes(u,l),!f.set&&!f.position&&!f.offset)this.setNodeAttributes(u,f.normal);else{var N=x[S]&&x[S].attributes,P=N&&l.ref===void 0?N.ref:l.ref,U;if(P){if(U=(r[P]||this.findBySelector(P,e,n.selectors))[0],!U)throw new Error('dia.CellView: "'+P+'" reference does not exist.')}else U=null;if(a={node:u,refNode:U,processedAttributes:f,allAttributes:N},U){var H=s.findIndex(function(J){return J.refNode===u});H>-1?s.splice(H,0,a):s.push(a)}else o.push(a)}o.push(...s);for(let J=0,ie=o.length;J<ie;J++){a=o[J],u=a.node,U=a.refNode;let g=U?ee.ensureId(U):"",v=i[g];v||(v=i[g]=U?ee(U).getBBox({target:Mj(u,U)}):n.rootBBox),y?(f=this.processNodeAttributes(u,a.allAttributes),this.mergeProcessedAttributes(f,a.processedAttributes)):f=a.processedAttributes,this.updateRelativeAttributes(u,f,v,n)}},mergeProcessedAttributes:function(e,t){e.set||(e.set={}),e.position||(e.position={}),e.offset||(e.offset={}),Ce(e.set,t.set),Ce(e.position,t.position),Ce(e.offset,t.offset);var n=e.normal&&e.normal.transform;n!==void 0&&t.normal&&(t.normal.transform=n),e.normal=t.normal},onMount(e){e||(this.mountTools(),mn.mount(this))},onDetach(){this.unmountTools(),mn.unmount(this)},onRemove:function(){this.removeTools(),this.removeHighlighters()},_toolsView:null,hasTools:function(e){var t=this._toolsView;return t?e?t.getName()===e:!0:!1},addTools:function(e){return this.removeTools(),e&&(this._toolsView=e,e.configure({relatedView:this}),e.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this))),this},unmountTools(){let e=this._toolsView;return e&&e.unmount(),this},mountTools(){let e=this._toolsView;return e&&!e.isMounted()&&e.mount(),this},updateTools:function(e){var t=this._toolsView;return t&&t.update(e),this},removeTools:function(){var e=this._toolsView;return e&&(e.remove(),this._toolsView=null),this},hideTools:function(){var e=this._toolsView;return e&&e.hide(),this},showTools:function(){var e=this._toolsView;return e&&e.show(),this},onToolEvent:function(e){switch(e){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools();break}},removeHighlighters:function(){mn.remove(this)},updateHighlighters:function(e=!1){mn.update(this,null,e)},transformHighlighters:function(){mn.transform(this)},preventDefaultInteraction(e){this.eventData(e,{defaultInteractionPrevented:!0})},isDefaultInteractionPrevented(e){let{defaultInteractionPrevented:t=!1}=this.eventData(e);return t},pointerdblclick:function(e,t,n){this.notify("cell:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){this.notify("cell:pointerclick",e,t,n)},contextmenu:function(e,t,n){this.notify("cell:contextmenu",e,t,n)},pointerdown:function(e,t,n){let{model:r}=this,{graph:i}=r;i&&(r.startBatch("pointer"),this.eventData(e,{graph:i})),this.notify("cell:pointerdown",e,t,n)},pointermove:function(e,t,n){this.notify("cell:pointermove",e,t,n)},pointerup:function(e,t,n){let{graph:r}=this.eventData(e);this.notify("cell:pointerup",e,t,n),r&&r.stopBatch("pointer",{cell:this.model})},mouseover:function(e){this.notify("cell:mouseover",e)},mouseout:function(e){this.notify("cell:mouseout",e)},mouseenter:function(e){this.notify("cell:mouseenter",e)},mouseleave:function(e){this.notify("cell:mouseleave",e)},mousewheel:function(e,t,n,r){this.notify("cell:mousewheel",e,t,n,r)},onevent:function(e,t,n,r){this.notify(t,e,n,r)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave(e){let{paper:t,model:n}=this;if(t.isAsync()){if(n.isLink()){let o=n.getSourceElement();if(o){let a=t.findViewByModel(o);a&&(t.dumpView(a),t.checkViewVisibility(a))}let s=n.getTargetElement();if(s){let a=t.findViewByModel(s);a&&(t.dumpView(a),t.checkViewVisibility(a))}}t.dumpView(this),t.checkViewVisibility(this)}let r=this.getEventTarget(e,{fromPoint:!0}),i=t.findView(r);i!==this&&(this.mouseleave(e),i&&i.mouseenter(e))},setInteractivity:function(e){this.options.interactive=e}},{Flags:Dj,Highlighting:Qa,addPresentationAttributes:function(e){return _t({},Et(this.prototype,"presentationAttributes"),e,function(t,n){if(!(!t||!n)&&(typeof t=="string"&&(t=[t]),typeof n=="string"&&(n=[n]),Array.isArray(t)&&Array.isArray(n)))return Ir(t.concat(n))})}});function Mj(e,t){let n=e;do{if(n.contains(t))return n;n=n.parentNode}while(n);return null}var lt={TOOLS:Ze.Flags.TOOLS,UPDATE:"UPDATE",TRANSLATE:"TRANSLATE",RESIZE:"RESIZE",PORTS:"PORTS",ROTATE:"ROTATE",RENDER:"RENDER"},Ka={MOVE:"move",MAGNET:"magnet"},Vt=Ze.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var e=Ze.prototype.className.apply(this).split(" ");return e.push("element"),e.join(" ")},initialize:function(){Ze.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:[lt.UPDATE],position:[lt.TRANSLATE,lt.TOOLS],size:[lt.RESIZE,lt.PORTS,lt.TOOLS],angle:[lt.ROTATE,lt.TOOLS],markup:[lt.RENDER],ports:[lt.PORTS]},initFlag:[lt.RENDER],UPDATE_PRIORITY:0,confirmUpdate:function(e,t){let{useCSSSelectors:n}=Dn;this.hasFlag(e,lt.PORTS)&&(this._removePorts(),this._cleanPortsCache());let r=!1;if(this.hasFlag(e,lt.RENDER))this.render(),this.updateTools(t),this.updateHighlighters(!0),r=!0,e=this.removeFlag(e,[lt.RENDER,lt.UPDATE,lt.RESIZE,lt.TRANSLATE,lt.ROTATE,lt.PORTS,lt.TOOLS]);else{let i=!1;this.hasFlag(e,lt.RESIZE)&&(this.resize(t),i=!0,e=this.removeFlag(e,[lt.RESIZE,lt.UPDATE]),n&&(e=this.removeFlag(e,lt.PORTS))),this.hasFlag(e,lt.UPDATE)&&(this.update(this.model,null,t),e=this.removeFlag(e,lt.UPDATE),i=!0,n&&(e=this.removeFlag(e,lt.PORTS))),this.hasFlag(e,lt.TRANSLATE)&&(this.translate(),e=this.removeFlag(e,lt.TRANSLATE),r=!0),this.hasFlag(e,lt.ROTATE)&&(this.rotate(),e=this.removeFlag(e,lt.ROTATE),r=!0),this.hasFlag(e,lt.PORTS)&&(this._renderPorts(),i=!0,e=this.removeFlag(e,lt.PORTS)),i&&this.updateHighlighters(!1)}return r&&this.transformHighlighters(),this.hasFlag(e,lt.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,lt.TOOLS)),e},_initializePorts:function(){},update:function(e,t){this.cleanNodesCache();let{useCSSSelectors:n}=Dn;n&&this._removePorts();var r=this.model,i=r.attr();this.updateDOMSubtreeAttributes(this.el,i,{rootBBox:new fe(r.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:t===i?null:t}),n&&this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.ElementView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if(typeof t=="string")return this.renderStringMarkup(t);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el),n=this.selectors=t.selectors;this.rotatableNode=ee(n[this.rotatableSelector])||null,this.scalableNode=ee(n[this.scalableSelector])||null,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=this.vel;t.append(ee(e)),this.rotatableNode=t.findOne(".rotatable"),this.scalableNode=t.findOne(".scalable");var n=this.selectors={};n[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),Dn.useCSSSelectors||this._renderPorts(),this},resize:function(e){if(this.scalableNode)return this.sgResize(e);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode){this.rgRotate(),this.update();return}this.updateTransformation()},updateTransformation:function(){var e=this.getTranslateString(),t=this.getRotateString();t&&(e+=" "+t),this.vel.attr("transform",e)},getTranslateString:function(){var e=this.model.attributes.position;return"translate("+e.x+","+e.y+")"},getRotateString:function(){var e=this.model.attributes,t=e.angle;if(!t)return null;var n=e.size;return"rotate("+t+","+n.width/2+","+n.height/2+")"},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(e){var t=this.model,n=t.angle(),r=t.size(),i=this.scalableNode,o=!1;i.node.getElementsByTagName("path").length>0&&(o=!0);var s=i.getBBox({recursive:o}),a=r.width/(s.width||1),u=r.height/(s.height||1);i.attr("transform","scale("+a+","+u+")");var l=this.rotatableNode,h=l&&l.attr("transform");if(h){l.attr("transform",h+" rotate("+-n+","+r.width/2+","+r.height/2+")");var f=i.getBBox({target:this.paper.cells});t.set("position",{x:f.x,y:f.y},Ce({updateHandled:!0},e)),this.translate(),this.rotate()}this.update()},prepareEmbedding:function(e={}){let t=e.model||this.model,r=(e.paper||this.paper).model,i=e.initialZIndices={},o=t.getEmbeddedCells({deep:!0}),s=r.getConnectedLinks(t,{deep:!0,includeEnclosed:!0});[t,...o,...s].forEach(l=>i[l.id]=l.attributes.z),t.startBatch("to-front"),t.toFront({deep:!0,ui:!0});let a=r.getElements().reduce((l,h)=>Math.max(l,h.attributes.z||0),0);s.forEach(l=>{l.attributes.z<=a&&l.set("z",a+1,{ui:!0})}),t.stopBatch("to-front");let u=t.parent();u?(r.getCell(u).unembed(t,{ui:!0}),e.initialParentId=u):e.initialParentId=null},processEmbedding:function(e={},t,n,r){let i=e.model||this.model,o=e.paper||this.paper,s=o.model,{findParentBy:a,frontParentOnly:u,validateEmbedding:l}=o.options,h;ct(a)?h=Le(a.call(s,this,t,n,r)):a==="pointer"?h=Le(s.findModelsFromPoint({x:n,y:r})):h=s.findModelsUnderElement(i,{searchBy:a}),h=h.filter(I=>I instanceof Rn&&i.id!==I.id&&!I.isEmbeddedIn(i)),u&&(h=h.slice(-1));let f=null,y=e.candidateEmbedView;for(let I=h.length-1;I>=0;I--){let x=h[I];if(y&&y.model.id==x.id){f=y;break}else{let S=x.findView(o);if(!ct(l)||l.call(o,this,S)){f=S;break}}}f&&f!=y&&(this.clearEmbedding(e),e.candidateEmbedView=f.highlight(f.findProxyNode(null,"container"),{embedding:!0})),!f&&y&&this.clearEmbedding(e)},clearEmbedding:function(e){e||(e={});var t=e.candidateEmbedView;t&&(t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null)},finalizeEmbedding:function(e={}){let t=e.candidateEmbedView,n=e.model||this.model,r=e.paper||this.paper;if(t)t.model.embed(n,{ui:!0}),t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null;else{let{validateUnembedding:i}=r.options,{initialParentId:o}=e;if(o&&typeof i=="function"&&!i.call(r,this)){this._disallowUnembed(e);return}}r.model.getConnectedLinks(n,{deep:!0}).forEach(i=>{i.reparent({ui:!0})})},_disallowUnembed:function(e){let{model:t,whenNotAllowed:n="revert"}=e,r=t||this.model,o=(e.paper||this.paper).model;switch(n){case"remove":{r.remove({ui:!0});break}case"revert":{let{initialParentId:s,initialPosition:a,initialZIndices:u}=e;if(a){let{x:h,y:f}=a;r.position(h,f,{deep:!0,ui:!0})}u&&Object.keys(u).forEach(h=>{let f=o.getCell(h);f&&f.set("z",u[h],{ui:!0})});let l=o.getCell(s);l&&l.embed(r,{ui:!0});break}}},getDelegatedView:function(){for(var e=this,t=e.model,n=e.paper;e&&!t.isLink();){if(!t.isEmbedded()||e.can("stopDelegation"))return e;t=t.getParentCell(),e=n.findViewByModel(t)}return null},findProxyNode:function(e,t){e||(e=this.el);let n=e.getAttribute(`${t}-selector`);if(n){let r=this.findAttribute("port",e);if(r){let i=this.findPortNode(r,n);if(i)return i}else{let[i]=this.findBySelector(n);if(i)return i}}return e},notifyPointerdown(e,t,n){Ze.prototype.pointerdown.call(this,e,t,n),this.notify("element:pointerdown",e,t,n)},notifyPointermove(e,t,n){Ze.prototype.pointermove.call(this,e,t,n),this.notify("element:pointermove",e,t,n)},notifyPointerup(e,t,n){this.notify("element:pointerup",e,t,n),Ze.prototype.pointerup.call(this,e,t,n)},pointerdblclick:function(e,t,n){Ze.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){Ze.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",e,t,n)},contextmenu:function(e,t,n){Ze.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",e,t,n)},pointerdown:function(e,t,n){this.notifyPointerdown(e,t,n),this.dragStart(e,t,n)},pointermove:function(e,t,n){let r=this.eventData(e),{targetMagnet:i,action:o,delegatedView:s}=r;switch(i&&this.magnetpointermove(e,i,t,n),o){case Ka.MAGNET:this.dragMagnet(e,t,n);break;case Ka.MOVE:(s||this).drag(e,t,n);default:if(r.preventPointerEvents)break;this.notifyPointermove(e,t,n);break}this.eventData(e,r)},pointerup:function(e,t,n){let r=this.eventData(e),{targetMagnet:i,action:o,delegatedView:s}=r;switch(i&&this.magnetpointerup(e,i,t,n),o){case Ka.MAGNET:this.dragMagnetEnd(e,t,n);break;case Ka.MOVE:(s||this).dragEnd(e,t,n);default:if(r.preventPointerEvents)break;this.notifyPointerup(e,t,n)}i&&this.magnetpointerclick(e,i,t,n),this.checkMouseleave(e)},mouseover:function(e){Ze.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",e)},mouseout:function(e){Ze.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",e)},mouseenter:function(e){Ze.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",e)},mouseleave:function(e){Ze.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",e)},mousewheel:function(e,t,n,r){Ze.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",e,t,n,r)},onmagnet:function(e,t,n){let{currentTarget:r}=e;this.magnetpointerdown(e,r,t,n),this.eventData(e,{targetMagnet:r}),this.dragMagnetStart(e,t,n)},magnetpointerdown:function(e,t,n,r){this.notify("element:magnet:pointerdown",e,t,n,r)},magnetpointermove:function(e,t,n,r){this.notify("element:magnet:pointermove",e,t,n,r)},magnetpointerup:function(e,t,n,r){this.notify("element:magnet:pointerup",e,t,n,r)},magnetpointerdblclick:function(e,t,n,r){this.notify("element:magnet:pointerdblclick",e,t,n,r)},magnetcontextmenu:function(e,t,n,r){this.notify("element:magnet:contextmenu",e,t,n,r)},dragStart:function(e,t,n){if(this.isDefaultInteractionPrevented(e))return;var r=this.getDelegatedView();if(!r||!r.can("elementMove"))return;this.eventData(e,{action:Ka.MOVE,delegatedView:r});let i=r.model.position();r.eventData(e,{initialPosition:i,pointerOffset:i.difference(t,n),restrictedArea:this.paper.getRestrictedArea(r,t,n)})},dragMagnetStart:function(e,t,n){let{paper:r}=this,i=e.isPropagationStopped();if(i&&this.eventData(e,{preventPointerEvents:!0}),this.isDefaultInteractionPrevented(e)||!this.can("addLinkFromMagnet"))return;let{targetMagnet:o=e.currentTarget}=this.eventData(e);if(e.stopPropagation(),!r.options.validateMagnet.call(r,this,o,e)){i?this.dragStart(e,t,n):this.pointerdown(e,t,n);return}r.options.magnetThreshold<=0&&this.dragLinkStart(e,o,t,n),this.eventData(e,{action:Ka.MAGNET})},drag:function(e,t,n){var r=this.paper,i=r.options.gridSize,o=this.model,s=this.eventData(e),{pointerOffset:a,restrictedArea:u,embedding:l}=s,h=yi(t+a.x,i),f=yi(n+a.y,i);o.position(h,f,{restrictedArea:u,deep:!0,ui:!0}),r.options.embeddingMode&&(l||(this.prepareEmbedding(s),l=!0),this.processEmbedding(s,e,t,n)),this.eventData(e,{embedding:l})},dragMagnet:function(e,t,n){this.dragLink(e,t,n)},dragEnd:function(e,t,n){var r=this.eventData(e);r.embedding&&this.finalizeEmbedding(r)},dragMagnetEnd:function(e,t,n){this.dragLinkEnd(e,t,n)},magnetpointerclick:function(e,t,n,r){var i=this.paper;i.eventData(e).mousemoved>i.options.clickThreshold||this.notify("element:magnet:pointerclick",e,t,n,r)}},{Flags:lt});Ce(Vt.prototype,dN);var gp={};Ht(gp,{manhattan:()=>fp,metro:()=>Wj,normal:()=>Tj,oneSide:()=>Sj,orthogonal:()=>cp,rightAngle:()=>Qj});var Tj=function(e,t,n){return e};var Sj=function(e,t,n){var r=t.side||"bottom",i=Ar(t.padding||40),o=n.sourceBBox,s=n.targetBBox,a=o.center(),u=s.center(),l,h,f;switch(r){case"bottom":f=1,l="y",h="height";break;case"top":f=-1,l="y",h="height";break;case"left":f=-1,l="x",h="width";break;case"right":f=1,l="x",h="width";break;default:throw new Error("Router: invalid side")}return a[l]+=f*(o[h]/2+i[r]),u[l]+=f*(s[h]/2+i[r]),f*(a[l]-u[l])>0?u[l]=a[l]:a[l]=u[l],[a].concat(e,u)};var Nj={N:"S",S:"N",E:"W",W:"E"},Ej={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function ap(e,t,n){var r=new k(e.x,t.y);return n.containsPoint(r)&&(r=new k(t.x,e.y)),r}function b0(e,t){return e[t==="W"||t==="E"?"width":"height"]}function Hn(e,t){return e.x===t.x?e.y>t.y?"N":"S":e.y===t.y?e.x>t.x?"W":"E":null}function op(e){return new fe(e.x,e.y,0,0)}function up(e){var t=Ar(e.padding||e.elementPadding||20);return{x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}function pN(e,t){return e.sourceBBox.clone().moveAndExpand(up(t))}function gN(e,t){return e.targetBBox.clone().moveAndExpand(up(t))}function Pj(e,t){if(e.sourceAnchor)return e.sourceAnchor;var n=pN(e,t);return n.center()}function Oj(e,t){if(e.targetAnchor)return e.targetAnchor;var n=gN(e,t);return n.center()}function mN(e,t,n){var r=new k(e.x,t.y),i=new k(t.x,e.y),o=Hn(e,r),s=Hn(e,i),a=Nj[n],u=o===n||o!==a&&(s===a||s!==n)?r:i;return{points:[u],direction:Hn(u,t)}}function sp(e,t,n){var r=ap(e,t,n);return{points:[r],direction:Hn(r,t)}}function Rj(e,t,n,r){var i={},o=[new k(e.x,t.y),new k(t.x,e.y)],s=o.filter(function(f){return!n.containsPoint(f)}),a=s.filter(function(f){return Hn(f,e)!==r}),u;if(a.length>0)u=a.filter(function(f){return Hn(e,f)===r}).pop(),u=u||a[0],i.points=[u],i.direction=Hn(u,t);else{u=rl(o,s)[0];var l=new k(t).move(u,-b0(n,r)/2),h=ap(l,e,n);i.points=[h,l],i.direction=Hn(l,t)}return i}function Lj(e,t,n,r){var i=sp(t,e,r),o=i.points[0];if(n.containsPoint(o)){i=sp(e,t,n);var s=i.points[0];if(r.containsPoint(s)){var a=new k(e).move(s,-b0(n,Hn(e,s))/2),u=new k(t).move(o,-b0(r,Hn(t,o))/2),l=new ge(a,u).midpoint(),h=sp(e,l,n),f=mN(l,t,h.direction);i.points=[h.points[0],f.points[0]],i.direction=f.direction}}return i}function A0(e,t,n,r,i){var o={},s=n.union(r).inflate(1),a=s.center().distance(t)>s.center().distance(e),u=a?t:e,l=a?e:t,h,f,y;return i?(h=k.fromPolar(s.width+s.height,Ej[i],u),h=s.pointNearestToPoint(h).move(h,-1)):h=s.pointNearestToPoint(u).move(u,1),f=ap(h,l,s),h.round().equals(f.round())?(f=k.fromPolar(s.width+s.height,qt(h.theta(u))+Math.PI/2,l),f=s.pointNearestToPoint(f).move(l,1).round(),y=ap(h,f,s),o.points=a?[f,y,h]:[h,y,f]):o.points=a?[f,h]:[h,f],o.direction=Hn(a?h:f,t),o}function cp(e,t,n){var r=pN(n,t),i=gN(n,t),o=Pj(n,t),s=Oj(n,t);r=r.union(op(o)),i=i.union(op(s)),e=Le(e).map(k),e.unshift(o),e.push(s);for(var a,u=[],l=0,h=e.length-1;l<h;l++){var f=null,y=e[l],I=e[l+1],x=!!Hn(y,I);if(l===0)l+1===h?r.intersect(i.clone().inflate(1))?f=A0(y,I,r,i):x||(f=Lj(y,I,r,i)):r.containsPoint(I)?f=A0(y,I,r,op(I).moveAndExpand(up(t))):x||(f=sp(y,I,r));else if(l+1===h){var S=x&&Hn(I,y)===a;i.containsPoint(y)||S?f=A0(y,I,op(y).moveAndExpand(up(t)),i,a):x||(f=Rj(y,I,i,a))}else x||(f=mN(y,I,a));f?(Array.prototype.push.apply(u,f.points),a=f.direction):a=Hn(y,I),l+1<h&&u.push(I)}return u}var wN={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var e=this.step,t=this.cost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:-e,offsetY:0,cost:t},{offsetX:0,offsetY:e,cost:t},{offsetX:0,offsetY:-e,cost:t}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var e=this.step;return{x:-e,y:-e,width:2*e,height:2*e}},isPointObstacle:null,fallbackRouter:function(e,t,n){if(!ct(cp))throw new Error("Manhattan requires the orthogonal router as default fallback.");return cp(e,Ce({},wN,t),n)},fallbackRoute:function(e,t,n){return null},draggingRoute:null};function M0(e){this.map={},this.options=e,this.mapGridSize=100}M0.prototype.build=function(e,t){var n=this.options,r=Le(n.excludeEnds).reduce(function(u,l){var h=t.get(l);if(h){var f=e.getCell(h.id);f&&u.push(f)}return u},[]),i=[],o=e.getCell(t.get("source").id);o&&(i=Xa(i,o.getAncestors().map(function(u){return u.id})));var s=e.getCell(t.get("target").id);s&&(i=Xa(i,s.getAncestors().map(function(u){return u.id})));var a=this.mapGridSize;return e.getElements().reduce(function(u,l){var h=Le(n.excludeTypes).includes(l.get("type")),f=r.find(function(J){return J.id===l.id}),y=i.includes(l.id),I=h||f||y;if(!I)for(var x=l.getBBox().moveAndExpand(n.paddingBox),S=x.origin().snapToGrid(a),N=x.corner().snapToGrid(a),P=S.x;P<=N.x;P+=a)for(var U=S.y;U<=N.y;U+=a){var H=P+"@"+U;u[H]=u[H]||[],u[H].push(x)}return u},this.map),this};M0.prototype.isPointAccessible=function(e){var t=e.clone().snapToGrid(this.mapGridSize).toString();return Le(this.map[t]).every(function(n){return!n.containsPoint(e)})};function As(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}As.prototype.add=function(e,t){this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=this.OPEN,this.values[e]=t;var n=tl(this.items,e,(function(r){return this.values[r]}).bind(this));this.items.splice(n,0,e)};As.prototype.remove=function(e){this.hash[e]=this.CLOSE};As.prototype.isOpen=function(e){return this.hash[e]===this.OPEN};As.prototype.isClose=function(e){return this.hash[e]===this.CLOSE};As.prototype.isEmpty=function(){return this.items.length===0};As.prototype.pop=function(){var e=this.items.shift();return this.remove(e),e};function AN(e,t){return t&&t.paddingBox?e.sourceBBox.clone().moveAndExpand(t.paddingBox):e.sourceBBox.clone()}function bN(e,t){return t&&t.paddingBox?e.targetBBox.clone().moveAndExpand(t.paddingBox):e.targetBBox.clone()}function xN(e,t){if(e.sourceAnchor)return e.sourceAnchor;var n=AN(e,t);return n.center()}function kj(e,t){if(e.targetAnchor)return e.targetAnchor;var n=bN(e,t);return n.center()}function x0(e,t,n,r,i){var o=360/n,s=e.theta(_j(e,t,r,i)),a=dn(s+o/2);return o*Math.floor(a/o)}function _j(e,t,n,r){var i=r.step,o=t.x-e.x,s=t.y-e.y,a=o/n.x,u=s/n.y,l=a*i,h=u*i;return new k(e.x+l,e.y+h)}function vN(e,t){var n=Math.abs(e-t);return n>180?360-n:n}function Fj(e,t,n){var r=n.step;Le(n.directions).forEach(function(i){i.gridOffsetX=i.offsetX/r*t.x,i.gridOffsetY=i.offsetY/r*t.y})}function jj(e,t,n){return{source:t.clone(),x:yN(n.x-t.x,e),y:yN(n.y-t.y,e)}}function yN(e,t){if(!e)return t;var n=Math.abs(e),r=Math.round(n/t);if(!r)return n;var i=r*t,o=n-i,s=o/r;return t+s}function Bj(e,t){var n=t.source,r=yi(e.x-n.x,t.x)+n.x,i=yi(e.y-n.y,t.y)+n.y;return new k(r,i)}function pl(e,t){return e.round(t)}function lp(e,t,n){return pl(Bj(e.clone(),t),n)}function gl(e){return e.clone().toString()}function D0(e){return new k(e.x===0?0:Math.abs(e.x)/e.x,e.y===0?0:Math.abs(e.y)/e.y)}function zj(e,t,n,r,i,o,s){for(var a=[],u=D0(i.difference(n)),l=gl(n),h=e[l],f;h;){f=t[l];var y=D0(f.difference(h));y.equals(u)||(a.unshift(f),u=y),l=gl(h),h=e[l]}var I=t[l],x=D0(I.difference(r));return x.equals(u)||a.unshift(I),a}function IN(e,t){for(var n=1/0,r=0,i=t.length;r<i;r++){var o=e.manhattanDistance(t[r]);o<n&&(n=o)}return n}function CN(e,t,n,r,i){var o=i.precision,s=i.directionMap,a=e.difference(t.center()),u=$e(s)?Object.keys(s):[],l=Le(n),h=u.reduce(function(f,y){if(l.includes(y)){for(var I=s[y],x=new k(e.x+I.x*(Math.abs(a.x)+t.width),e.y+I.y*(Math.abs(a.y)+t.height)),S=new ge(e,x),N=S.intersect(t)||[],P=N.length,U,H=null,J=0;J<P;J++){var ie=N[J],g=e.squaredDistance(ie);(U===void 0||g>U)&&(U=g,H=ie)}if(H){var v=lp(H,r,o);t.containsPoint(v)&&(v=lp(v.offset(I.x*r.x,I.y*r.y),r,o)),f.push(v)}}return f},[]);return t.containsPoint(e)||h.push(lp(e,r,o)),h}function Gj(e,t,n,r){var i=r.precision,o,s;e instanceof fe?o=pl(xN(this,r).clone(),i):o=pl(e.clone(),i),t instanceof fe?s=pl(kj(this,r).clone(),i):s=pl(t.clone(),i);var a=jj(r.step,o,s),u,l,h,f;if(e instanceof fe?(u=o,h=CN(u,e,r.startDirections,a,r)):(u=o,h=[u]),t instanceof fe?(l=s,f=CN(s,t,r.endDirections,a,r)):(l=s,f=[l]),h=h.filter(Se=>!n(Se)),f=f.filter(Se=>!n(Se)),h.length>0&&f.length>0){for(var y=new As,I={},x={},S={},N=0,P=h.length;N<P;N++){var U=h[N],H=gl(U);y.add(H,IN(U,f)),I[H]=U,S[H]=0}var J=r.previousDirectionAngle,ie=J===void 0,g,v,b=r.directions;Fj(b,a,r);for(var M=b.length,E=Le(f).reduce(function(Se,dt){var w=gl(dt);return Se.push(w),Se},[]),j=r.maximumLoops;!y.isEmpty()&&j>0;){var B=y.pop(),W=I[B],ce=x[B],pe=S[B],V=ce===void 0,Q=W.equals(u),$;V?ie?Q?$=null:$=x0(u,W,M,a,r):$=J:$=x0(ce,W,M,a,r);var q=h.length===f.length;if(q){for(var Pe=0;Pe<h.length;Pe++)if(!h[Pe].equals(f[Pe])){q=!1;break}}var Me=V&&q;if(!Me&&E.indexOf(B)>=0)return r.previousDirectionAngle=$,zj(x,I,W,u,l,a,r);for(N=0;N<M;N++){g=b[N];var Ct=g.angle;if(v=vN($,Ct),!(!(ie&&Q)&&v>r.maxAllowedDirectionChange)){var Pt=lp(W.clone().offset(g.gridOffsetX,g.gridOffsetY),a,i),xe=gl(Pt);if(!(y.isClose(xe)||n(Pt))){if(E.indexOf(xe)>=0){var Te=Pt.equals(l);if(!Te){var oe=x0(Pt,l,M,a,r),re=vN(Ct,oe);if(re>r.maxAllowedDirectionChange)continue}}var he=g.cost,Be=Q?0:r.penalties[v],it=pe+he+Be;(!y.isOpen(xe)||it<S[xe])&&(I[xe]=Pt,x[xe]=W,S[xe]=it,y.add(xe,it+IN(Pt,f)))}}}j--}}return r.fallbackRoute.call(this,u,l,r)}function Uj(e){if(e.directions=Et(e,"directions"),e.penalties=Et(e,"penalties"),e.paddingBox=Et(e,"paddingBox"),e.padding=Et(e,"padding"),e.padding){var t=Ar(e.padding);e.paddingBox={x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}Le(e.directions).forEach(function(n){var r=new k(0,0),i=new k(n.offsetX,n.offsetY);n.angle=dn(r.theta(i))})}function Vj(e,t,n){Uj(t),n.options.perpendicular=!!t.perpendicular;var r=AN(n,t),i=bN(n,t),o=xN(n,t);let s;if(typeof t.isPointObstacle=="function")s=t.isPointObstacle;else{let H=new M0(t);H.build(n.paper.model,n.model),s=J=>!H.isPointAccessible(J)}for(var a=Le(e).map(k),u=[],l=o,h,f,y=0,I=a.length;y<=I;y++){var x=null;if(f=h||r,h=a[y],!h){h=i;var S=!n.model.get("source").id||!n.model.get("target").id;if(S&&ct(t.draggingRoute)){var N=f===r?o:f,P=h.origin();x=t.draggingRoute.call(n,N,P,t)}}if(x=x||Gj.call(n,f,h,s,t),x===null)return t.fallbackRouter(e,t,n);var U=x[0];U&&U.equals(l)&&x.shift(),l=x[x.length-1]||l,Array.prototype.push.apply(u,x)}return u}var fp=function(e,t,n){return Vj(e,Ce({},wN,t),n)};var Zj={maxAllowedDirectionChange:45,diagonalCost:function(){var e=this.step;return Math.ceil(Math.sqrt(e*e<<1))},directions:function(){var e=this.step,t=this.cost(),n=this.diagonalCost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:e,offsetY:e,cost:n},{offsetX:0,offsetY:e,cost:t},{offsetX:-e,offsetY:e,cost:n},{offsetX:-e,offsetY:0,cost:t},{offsetX:-e,offsetY:-e,cost:n},{offsetX:0,offsetY:-e,cost:t},{offsetX:e,offsetY:-e,cost:n}]},fallbackRoute:function(e,t,n){var r=e.theta(t),i=[],o={x:t.x,y:e.y},s={x:e.x,y:t.y};if(r%180>90){var a=o;o=s,s=a}var u=r%90<45?o:s,l=new ge(e,u),h=90*Math.ceil(r/90),f=k.fromPolar(l.squaredLength(),qt(h+135),u),y=new ge(t,f),I=l.intersection(y),x=I||t,S=I?x:e,N=360/n.directions.length,P=S.theta(t),U=dn(P+N/2),H=N*Math.floor(U/N);return n.previousDirectionAngle=H,x&&i.push(x.round()),i.push(t),i}},Wj=function(e,t,n){if(!ct(fp))throw new Error("Metro requires the manhattan router.");return fp(e,Ce({},Zj,t),n)};var le={AUTO:"auto",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",ANCHOR_SIDE:"anchor-side",MAGNET_SIDE:"magnet-side"},DN=[le.LEFT,le.RIGHT,le.TOP,le.BOTTOM],eu={[le.LEFT]:le.RIGHT,[le.RIGHT]:le.LEFT,[le.TOP]:le.BOTTOM,[le.BOTTOM]:le.TOP},Hj=[le.TOP,le.BOTTOM],dp={0:le.RIGHT,180:le.LEFT,270:le.TOP,90:le.BOTTOM};function ml(e){return e.angle()}function hp(e){return new at(e).simplify({threshold:1}).points}function pp(e,t){let{point:n,x0:r,y0:i,view:o,bbox:s,direction:a}=e,{point:u,x0:l,y0:h,view:f,bbox:y,direction:I}=t,x;if(o)o.model.isLink()?x=MN(u,n,o):a===le.ANCHOR_SIDE?x=s.sideNearestToPoint(n):a===le.MAGNET_SIDE?x=o.model.getBBox().sideNearestToPoint(n):x=a;else{let N=new fe(r,i,0,0);x=DN.includes(a)?a:N.sideNearestToPoint(u)}let S;if(f)f.model.isLink()?S=MN(n,u,f):I===le.ANCHOR_SIDE?S=y.sideNearestToPoint(u):I===le.MAGNET_SIDE?S=f.model.getBBox().sideNearestToPoint(u):S=I;else{let N=new fe(l,h,0,0);S=DN.includes(I)?I:N.sideNearestToPoint(n)}return[x,S]}function Yj(e,t,n){let{x0:r,y0:i,width:o,height:s,point:a,margin:u}=e,l=r+o,h=i+s,f=r-u,y=l+u,I=i-u,{x}=a,{x0:S,y0:N}=t;return S===x&&N<i?le.BOTTOM:S<x&&N<I?le.RIGHT:S>x&&N<I?le.LEFT:S<f&&N>=i||S>y&&N>=i?le.TOP:S>=f&&S<=x&&N>h||S<=y&&S>=x&&N>h?n.point.x<S?le.RIGHT:le.LEFT:le.TOP}function $j(e,t,n){let{x0:r,y0:i,width:o,height:s,point:a,margin:u}=e,l=r+o,h=i+s,f=r-u,y=l+u,I=h+u,{x}=a,{x0:S,y0:N}=t;return S===x&&N>h?le.TOP:S<x&&N>I?le.RIGHT:S>x&&N>I?le.LEFT:S<f&&N<=h||S>y&&N<=h?le.BOTTOM:S>=f&&S<=x&&N<i||S<=y&&S>=x&&N<i?n.point.x<S?le.RIGHT:le.LEFT:le.BOTTOM}function Xj(e,t,n){let{y0:r,x0:i,width:o,height:s,point:a,margin:u}=e,l=i+o,h=r+s,f=i-u,y=r-u,I=h+u,{x,y:S}=a,{x0:N,y0:P}=t;return N<x&&P===S?le.RIGHT:N<=f&&P<S?le.BOTTOM:N<=f&&P>S?le.TOP:N>=i&&P<=y||N>=i&&P>=I?le.LEFT:N>l&&P>=y&&P<=S||N>l&&P<=I&&P>=S?n.point.y<P?le.BOTTOM:le.TOP:le.LEFT}function Jj(e,t,n){let{y0:r,x0:i,width:o,height:s,point:a,margin:u}=e,l=i+o,h=r+s,f=l+u,y=r-u,I=h+u,{x,y:S}=a,{x0:N,y0:P}=t;return N>x&&P===S?le.LEFT:N>=f&&P<S?le.BOTTOM:N>=f&&P>S?le.TOP:N<=l&&P<=y||N<=l&&P>=I?le.RIGHT:N<i&&P>=y&&P<=S||N<i&&P<=I&&P>=S?n.point.y<P?le.BOTTOM:le.TOP:le.RIGHT}function qj(e,t,n){let[r]=pp(e,t);switch(r){case le.TOP:return Yj(e,t,n);case le.RIGHT:return Jj(e,t,n);case le.BOTTOM:return $j(e,t,n);case le.LEFT:return Xj(e,t,n)}}function MN(e,t,n){let r=n.getTangentAtLength(n.getClosestPointLength(t)),i=Math.round(ml(r)/90)*90;if(i%180===0&&e.y===t.y)return e.x<t.x?le.LEFT:le.RIGHT;if(e.x===t.x)return e.y<t.y?le.TOP:le.BOTTOM;switch(i){case 0:case 180:case 360:return e.y<t.y?le.TOP:le.BOTTOM;case 90:case 270:return e.x<t.x?le.LEFT:le.RIGHT}}function TN(e,t,n,r,i,o,s){r===le.AUTO&&(r=i?le.MAGNET_SIDE:le.ANCHOR_SIDE);let a=e&&e.model.isElement(),{x:u,y:l,width:h=0,height:f=0}=a?fe.fromRectUnion(n,e.model.getBBox()):o;return{point:t,x0:u,y0:l,view:e,bbox:n,width:h,height:f,direction:r,margin:a?s:0}}function T0({x:e,y:t}){let n=new k(e,t);return{point:n,x0:n.x,y0:n.y,view:null,bbox:new fe(e,t,0,0),width:0,height:0,direction:null,margin:0}}function SN(e,t,n){let r=t.point.clone(),{x0:i,y0:o,width:s,height:a}=t;switch(e){case"left":r.x=i-n;break;case"right":r.x=i+s+n;break;case"top":r.y=o-n;break;case"bottom":r.y=o+a+n;break}return r}function Do(e,t){let{point:n,x0:r,y0:i,view:o,width:s,height:a,margin:u}=e,{point:l,x0:h,y0:f,width:y,height:I,margin:x}=t,S=h+y,N=f+I,P=r+s,U=i+a,H=o&&o.model.isElement(),J=r-u,ie=P+u,g=i-u,v=U+u,b=h-x,M=S+x,E=f-x,j=N+x,[B,W]=pp(e,t),ce=SN(B,{point:n,x0:r,y0:i,width:s,height:a},u),pe=SN(W,{point:l,x0:h,y0:f,width:y,height:I},x),{x:V,y:Q}=ce,{x:$,y:q}=pe,Pe=(h+S)/2,Me=(f+N)/2,Ct=(r+P)/2,Pt=(i+U)/2,xe=(Ct<Pe?P+h:S+r)/2,Te=(Pt<Me?U+f:N+i)/2;if(B==="left"&&W==="right"){if(J<=M){let re=Te;return P<=h&&(N>=g&&q<Q?re=Math.min(E,g):f<=v&&q>=Q&&(re=Math.max(j,v))),[{x:V,y:Q},{x:V,y:re},{x:$,y:re},{x:$,y:q}]}let oe=(V+$)/2;return[{x:oe,y:Q},{x:oe,y:q}]}else if(B==="right"&&W==="left"){if(ie>=b){let re=Te;return V>S&&(N>=g&&q<Q?re=Math.min(E,g):f<=v&&q>=Q&&(re=Math.max(j,v))),[{x:V,y:Q},{x:V,y:re},{x:$,y:re},{x:$,y:q}]}let oe=(V+$)/2;return[{x:oe,y:Q},{x:oe,y:q}]}else if(B==="top"&&W==="bottom"){if(Q<q){let re=xe,he=Q;return Q<f&&(S>=J&&$<V?re=Math.min(b,J):h<=ie&&$>=V&&(re=Math.max(M,ie))),[{x:V,y:he},{x:re,y:he},{x:re,y:q},{x:$,y:q}]}let oe=(Q+q)/2;return[{x:V,y:oe},{x:$,y:oe}]}else if(B==="bottom"&&W==="top"){if(Q-u>q){let re=xe,he=Q;return Q>N&&(S>=J&&$<V?re=Math.min(b,J):h<=ie&&$>=V&&(re=Math.max(M,ie))),[{x:V,y:he},{x:re,y:he},{x:re,y:q},{x:$,y:q}]}let oe=(Q+q)/2;return[{x:V,y:oe},{x:$,y:oe}]}else if(B==="top"&&W==="top"){let oe,re=Math.min((U+f)/2,q),he=Math.min((i+N)/2,Q);if(q<Q){if(V>=M||V<=b)return[{x:V,y:Math.min(Q,q)},{x:$,y:Math.min(Q,q)}];$>V?oe=Math.min(V,b):oe=Math.max(V,M)}else{if($>=ie||$<=J)return[{x:V,y:Math.min(Q,q)},{x:$,y:Math.min(Q,q)}];$>=V?oe=Math.max($,ie):oe=Math.min($,J)}return[{x:V,y:he},{x:oe,y:he},{x:oe,y:re},{x:$,y:re}]}else if(B==="bottom"&&W==="bottom"){let oe,re=Math.max((i+N)/2,q),he=Math.max((U+f)/2,Q);if(q>Q){if(V>=M||V<=b)return[{x:V,y:Math.max(Q,q)},{x:$,y:Math.max(Q,q)}];$>V?oe=Math.min(V,b):oe=Math.max(V,M)}else{if($>=ie||$<=J)return[{x:V,y:Math.max(Q,q)},{x:$,y:Math.max(Q,q)}];$>=V?oe=Math.max($,ie):oe=Math.min($,J)}return[{x:V,y:he},{x:oe,y:he},{x:oe,y:re},{x:$,y:re}]}else if(B==="left"&&W==="left"){let oe,re=Math.min((P+h)/2,$),he=Math.min((r+S)/2,V);return $>V?q<=Q?oe=Math.min(g,q):oe=Math.max(v,q):q>=Q?oe=Math.min(E,Q):oe=Math.max(j,Q),[{x:he,y:Q},{x:he,y:oe},{x:re,y:oe},{x:re,y:q}]}else if(B==="right"&&W==="right"){let oe,re=Math.max((r+S)/2,$),he=Math.max((P+h)/2,V);return $<V?q<=Q?oe=Math.min(g,q):oe=Math.max(v,q):q>=Q?oe=Math.min(E,Q):oe=Math.max(j,Q),[{x:he,y:Q},{x:he,y:oe},{x:re,y:oe},{x:re,y:q}]}else if(B==="top"&&W==="right"){if(Q>q){if(V<$){let re=Te;return(re>Me||!H)&&re<j&&V<h&&(re=E),[{x:V,y:re},{x:$,y:re},{x:$,y:q}]}return[{x:V,y:q}]}let oe=Math.max(xe,M);if($<V&&q>i&&q<U)return[{x:V,y:Q},{x:oe,y:Q},{x:oe,y:q}];if(oe>J&&q>i||h>P){let re=Math.min(i-u,f-x),he=Math.max(P+u,S+x);return[{x:V,y:re},{x:he,y:re},{x:he,y:q}]}return[{x:V,y:Q},{x:Math.max(oe,$),y:Q},{x:Math.max(oe,$),y:q}]}else if(B==="top"&&W==="left"){if(Q>q){if(V>$){let re=Te;return(re>Me||!H)&&re<j&&V>S&&(re=E),[{x:V,y:re},{x:$,y:re},{x:$,y:q}]}return[{x:V,y:q}]}let oe=Math.min(b,xe);if(V<$&&U>=q)return[{x:V,y:Q},{x:oe,y:Q},{x:oe,y:q}];if(oe<ie&&Q<N){let re=Math.min(g,E),he=Math.min(J,b);return[{x:V,y:re},{x:he,y:re},{x:he,y:q}]}return[{x:V,y:Q},{x:oe,y:Q},{x:oe,y:q}]}else if(B==="bottom"&&W==="right"){if(Q<q){if(V<$){let re=Te;return(re<Me||!H)&&re>E&&V<h&&(re=j),[{x:V,y:re},{x:$,y:re},{x:$,y:q}]}return[{x:V,y:q}]}else if(r<$){let re=Math.max(v,j),he=Math.max(ie,M);return[{x:V,y:re},{x:he,y:re},{x:he,y:q}]}let oe=xe;return[{x:V,y:Q},{x:oe,y:Q},{x:oe,y:q}]}else if(B==="bottom"&&W==="left"){if(Q<q){if(V>$){let re=Te;return(re<Me||!H)&&re>E&&V>S&&(re=j),[{x:V,y:re},{x:$,y:re},{x:$,y:q}]}return[{x:V,y:q}]}else if(P>$){let re=Math.max(v,j),he=Math.min(J,b);return[{x:V,y:re},{x:he,y:re},{x:he,y:q}]}let oe=xe;return[{x:V,y:Q},{x:oe,y:Q},{x:oe,y:q}]}else if(B==="left"&&W==="bottom"){if(V>=$&&Q>=j)return[{x:$,y:Q}];if(V>=S&&Q<q){let he=xe;return[{x:he,y:Q},{x:he,y:q},{x:$,y:q}]}if($<P&&N<=i){let he=Te;return[{x:V,y:Q},{x:V,y:he},{x:$,y:he}]}let oe=Math.min(b,V),re=Math.max(v,j);return[{x:oe,y:Q},{x:oe,y:re},{x:$,y:re}]}else if(B==="left"&&W==="top"){if(V>$&&Q<E)return[{x:$,y:Q}];if(V>=S&&Q>q){let he=xe;return[{x:he,y:Q},{x:he,y:q},{x:$,y:q}]}if($<=P&&q>Q){let he=Te;return[{x:V,y:Q},{x:V,y:he},{x:$,y:he}]}let oe=q<Q?Math.min(J,b):J,re=Math.min(g,E);return[{x:oe,y:Q},{x:oe,y:re},{x:$,y:re}]}else if(B==="right"&&W==="top"){if(V<=$&&Q<E)return[{x:$,y:Q}];if(P<h&&Q>q){let he=xe;return[{x:he,y:Q},{x:he,y:q},{x:$,y:q}]}if($<V&&f>U){let he=Te;return[{x:V,y:Q},{x:V,y:he},{x:$,y:he}]}let oe=Math.max(ie,M),re=Math.min(g,E);return[{x:oe,y:Q},{x:oe,y:re},{x:$,y:re}]}else if(B==="right"&&W==="bottom"){if(V<=$&&Q>=j)return[{x:$,y:Q}];if(V<=b&&Q<q){let he=xe;return[{x:he,y:Q},{x:he,y:q},{x:$,y:q}]}if($>r&&N<i){let he=Te;return[{x:V,y:Q},{x:V,y:he},{x:$,y:he}]}let oe=Math.max(M,V),re=Math.max(v,j);return[{x:oe,y:Q},{x:oe,y:re},{x:$,y:re}]}}function NN(e,t,n){let{sourceDirection:r=le.AUTO,targetDirection:i=le.AUTO}=t,o=t.margin||20,s=t.useVertices||!1,a=!!n.model.source().port,u=TN(n.sourceView,n.sourceAnchor,n.sourceBBox,r,a,n.sourceAnchor,o),l=!!n.model.target().port,h=TN(n.targetView,n.targetAnchor,n.targetBBox,i,l,n.targetAnchor,o),f=[];if(!s||e.length===0)return hp(Do(u,h));let y=e.map(S=>T0(S)),[I]=y;if(u.view&&u.view.model.isElement()&&u.view.model.getBBox().inflate(o).containsPoint(I.point)){let[S]=pp(u,I),N=S,P=T0(u.point);P.margin=o,P.direction=S,I.direction=N,f.push(...Do(P,I),I.point)}else{let S=y[1]||h,N=qj(u,I,S);I.direction=N,f.push(...Do(u,I),I.point)}for(let S=0;S<y.length-1;S++){let N=y[S],P=y[S+1],U=new ge(N.point,P.point),H=ml(U);if(H%90===0){let g=dp[H],v=eu[g];if(g!==N.direction)f.push(N.point,P.point),P.direction=v;else{let b=dn(H-90),M=0,E=0;b===90?E=-o:b===180?M=-o:b===270?E=o:b===0&&(M=o);let j={x:N.point.x+M,y:N.point.y+E},B={x:P.point.x+M,y:P.point.y+E},W=new ge(P.point,B);P.direction=dp[ml(W)],f.push(N.point,j,B,P.point)}continue}let[J,ie]=S0(N,P);N.direction=J,P.direction=ie,f.push(...Do(N,P),P.point)}let x=y[y.length-1];if(h.view&&h.view.model.isElement())if(h.view.model.getBBox().inflate(o).containsPoint(x.point)){let[S]=S0(x,h),N=T0(h.point),[,P]=pp(x,h);N.margin=o,N.direction=P,x.direction=S,f.push(...Do(x,N))}else{let S=hp(f),N=new ge(S[S.length-2],x.point),P=dp[Math.round(ml(N))];x.direction=P;let U=Do(x,h),[H,J]=hp([...U,h.point]),ie=new ge(H,J),g=Math.round(ml(ie)),v=dp[g];v!==P&&P===eu[v]&&(x.margin=o,U=Do(x,h)),f.push(...U)}else{let[S]=S0(x,h);x.direction=S,f.push(...Do(x,h))}return hp(f)}function S0(e,t){let n=e.direction,r=Hj.includes(n),i=e.direction,o=t.direction;if(r){let s=e.point.y>t.point.y,a=t.point.x-e.point.x;n===le.BOTTOM?(i=s?eu[n]:a>=0?le.RIGHT:le.LEFT,a>0?o=s?le.LEFT:le.TOP:a<0&&(o=s?le.RIGHT:le.TOP)):(i=s?a>=0?le.RIGHT:le.LEFT:eu[n],a>0?o=s?le.BOTTOM:le.LEFT:a<0&&(o=s?le.BOTTOM:le.RIGHT))}else{let s=e.point.x>t.point.x,a=t.point.y-e.point.y;n===le.RIGHT?(i=s?eu[n]:a>=0?le.BOTTOM:le.TOP,a>0?o=s?le.TOP:le.LEFT:a<0&&(o=s?le.BOTTOM:le.LEFT)):(i=s?a>=0?le.BOTTOM:le.TOP:eu[n],a>0?o=s?le.RIGHT:le.TOP:a<0&&(o=s?le.RIGHT:le.BOTTOM))}return[i,o]}NN.Directions=le;var Qj=NN;var yp={};Ht(yp,{curve:()=>P0,jumpover:()=>fB,normal:()=>dB,rounded:()=>gB,smooth:()=>mB,straight:()=>vl});var tu={POINT:"point",CUBIC:"cubic",LINE:"line",GAP:"gap"},Kj=Object.values(tu),eB=10,tB=1,vl=function(e,t,n=[],r={}){let{cornerType:i=tu.POINT,cornerRadius:o=eB,cornerPreserveAspectRatio:s=!1,precision:a=tB,raw:u=!1}=r;if(Kj.indexOf(i)===-1)throw new Error("Invalid `cornerType` provided to `straight` connector.");let l;if(i===tu.POINT||!o){let h=[e].concat(n).concat([t]),f=new at(h);l=new be(f)}else{l=new be,l.appendSegment(be.createSegment("M",e));let h,f=n.length;for(let y=0;y<f;y++){let I=new k(n[y]),x=n[y-1]||e,S=n[y+1]||t,N=h||I.distance(x)/2;h=I.distance(S)/2;let P,U;s?P=U=-Math.min(o,N,h):(P=-Math.min(o,N),U=-Math.min(o,h));let H=I.clone().move(x,P).round(a),J=I.clone().move(S,U).round(a);switch(l.appendSegment(be.createSegment("L",H)),i){case tu.CUBIC:{let ie=.3333333333333333,g=2/3,v=new k(ie*H.x+g*I.x,g*I.y+ie*H.y),b=new k(ie*J.x+g*I.x,g*I.y+ie*J.y);l.appendSegment(be.createSegment("C",v,b,J));break}case tu.LINE:{l.appendSegment(be.createSegment("L",J));break}case tu.GAP:{l.appendSegment(be.createSegment("M",J));break}}}l.appendSegment(be.createSegment("L",t))}return u?l:l.serialize()};var nB=5,EN=["arc","gap","cubic"],rB=0,PN=1,iB=["smooth"],mp=1/3,vp=2/3;function ON(e,t){let{x:n,y:r}=e,{x:i,y:o}=t;if(n>i){let s=n;n=i,i=s,s=r,r=o,o=s}if(r>o){let s=n;n=i,i=s,s=r,r=o,o=s}return[new k(n,r),new k(i,o)]}function oB(e,t){let[{x:n,y:r},{x:i,y:o}]=ON(e.start,e.end),[{x:s,y:a},{x:u,y:l}]=ON(t.start,t.end),h=n<=u&&s<=i,f=r<=l&&a<=o;return h&&f}function N0(e,t,n){var r=[].concat(e,n,t);return r.reduce(function(i,o,s){var a=r[s+1];return a!=null&&(i[s]=Oi(o,a)),i},[])}function sB(e){var t=e.paper,n=t._jumpOverUpdateList;if(n==null){n=t._jumpOverUpdateList=[];var r=t.model;r.on("batch:stop",function(){this.hasActiveBatch()||aB(t)}),r.on("reset",function(){n=t._jumpOverUpdateList=[]})}n.indexOf(e)<0&&(n.push(e),e.listenToOnce(e.model,"change:connector remove",function(){n.splice(n.indexOf(e),1)}))}function aB(e){for(var t=e._jumpOverUpdateList,n=0;n<t.length;n++){let r=t[n],i=r.getFlag(r.constructor.Flags.CONNECTOR);r.requestUpdate(i)}}function uB(e,t){return Le(t).reduce(function(n,r){var i=e.intersection(r);return i&&n.push(i),n},[])}function RN(e,t){return Oi(e,t).squaredLength()}function cB(e,t,n){return t.reduce(function(r,i,o){if(i.skip===!0)return r;var s=r.pop()||e,a=pa(i).move(s.start,-n),u=pa(i).move(s.start,+n),l=t[o+1];if(l!=null){var h=u.distance(l);h<=n&&(u=l.move(s.start,h),l.skip=!0)}else{var f=a.distance(s.end);if(f<n*2+PN)return r.push(s),r}var y=u.distance(s.start);if(y<n*2+PN)return r.push(s),r;var I=Oi(a,u);return I.isJump=!0,r.push(Oi(s.start,a),I,Oi(u,s.end)),r},[])}function LN(e,t,n,r){var i=new be,o;return o=be.createSegment("M",e[0].start),i.appendSegment(o),Le(e).forEach(function(s,a){if(s.isJump){var u,l,h,f;if(n==="arc"){u=-90,l=s.start.difference(s.end);var y=+(l.x<0||l.x===0&&l.y<0);y&&(u+=180);var I=s.midpoint(),x=new ge(I,s.end).rotate(I,u),S;S=new ge(s.start,I),h=S.pointAt(2/3).rotate(s.start,u),f=x.pointAt(1/3).rotate(x.end,-u),o=be.createSegment("C",h,f,x.end),i.appendSegment(o),S=new ge(I,s.end),h=x.pointAt(1/3).rotate(x.end,u),f=S.pointAt(1/3).rotate(s.end,-u),o=be.createSegment("C",h,f,s.end),i.appendSegment(o)}else if(n==="gap")o=be.createSegment("M",s.end),i.appendSegment(o);else if(n==="cubic"){u=s.start.theta(s.end);var N=t*.6,P=t*1.35;l=s.start.difference(s.end),y=+(l.x<0||l.x===0&&l.y<0),y&&(P*=-1),h=k(s.start.x+N,s.start.y+P).rotate(s.start,u),f=k(s.end.x-N,s.end.y+P).rotate(s.end,u),o=be.createSegment("C",h,f,s.end),i.appendSegment(o)}}else{var U=e[a+1];r==0||!U||U.isJump?(o=be.createSegment("L",s.end),i.appendSegment(o)):lB(r,i,s.end,s.start,U.end)}}),i}function lB(e,t,n,r,i){var o=n.distance(r)/2,s=n.distance(i)/2,a=-Math.min(e,o),u=-Math.min(e,s),l=n.clone().move(r,a).round(),h=n.clone().move(i,u).round(),f=new k(mp*l.x+vp*n.x,vp*n.y+mp*l.y),y=new k(mp*h.x+vp*n.x,vp*n.y+mp*h.y),I;I=be.createSegment("L",l),t.appendSegment(I),I=be.createSegment("C",f,y,h),t.appendSegment(I)}var fB=function(e,t,n,r){sB(this);var i=r.raw,o=r.size||nB,s=r.jump&&(""+r.jump).toLowerCase(),a=r.radius||rB,u=r.ignoreConnectors||iB;EN.indexOf(s)===-1&&(s=EN[0]);var l=this.paper,h=l.model,f=h.getLinks();if(f.length===1)return LN(N0(e,t,n),o,s,a);var y=this.model,I=f.indexOf(y),x=l.options.defaultConnector||{},S=f.filter(function(ie,g){var v=ie.get("connector")||x;return Le(u).includes(v.name)?!1:g>I?v.name!=="jumpover":!0}),N=S.map(function(ie){return l.findViewByModel(ie)}),P=N0(e,t,n),U=N.map(function(ie){return ie==null?[]:ie===this?P:N0(ie.sourcePoint,ie.targetPoint,ie.route)},this),H=P.reduce(function(ie,g){var v=S.reduce(function(b,M,E){if(M!==y){let j=U[E].slice(),B=j.findIndex(ce=>oB(g,ce));B>-1&&g.containsPoint(j[B].end)&&j.splice(B+1,1);let W=uB(g,j);b.push.apply(b,W)}return b},[]).sort(function(b,M){return RN(g.start,b)-RN(g.start,M)});return v.length>0?ie.push.apply(ie,cB(g,v,o)):ie.push(g),ie},[]),J=LN(H,o,s,a);return i?J:J.serialize()};var dB=function(e,t,n=[],r={}){let{raw:i}=r;return vl(e,t,n,{cornerType:"point",raw:i})};var hB=10,pB=0,gB=function(e,t,n=[],r={}){let{radius:i=hB,raw:o}=r;return vl(e,t,n,{cornerType:"cubic",cornerRadius:i,precision:pB,raw:o})};var mB=function(e,t,n,r){var i=r&&r.raw,o;if(n&&n.length!==0){var s=[e].concat(n).concat([t]),a=ut.throughPoints(s);o=new be(a)}else{o=new be;var u;if(u=be.createSegment("M",e),o.appendSegment(u),Math.abs(e.x-t.x)>=Math.abs(e.y-t.y)){var l=(e.x+t.x)/2;u=be.createSegment("C",l,e.y,l,t.y,t.x,t.y),o.appendSegment(u)}else{var h=(e.y+t.y)/2;u=be.createSegment("C",e.x,h,t.x,h,t.x,t.y),o.appendSegment(u)}}return i?o:o.serialize()};var zr={AUTO:"auto",HORIZONTAL:"horizontal",VERTICAL:"vertical",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},Yn={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",AUTO:"auto",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},P0=function(e,t,n=[],r={},i){let o=!!r.raw,{direction:s=zr.AUTO,precision:a=3}=r,u={coeff:r.distanceCoefficient||.6,angleTangentCoefficient:r.angleTangentCoefficient||80,tau:r.tension||.5,sourceTangent:r.sourceTangent?new k(r.sourceTangent):null,targetTangent:r.targetTangent?new k(r.targetTangent):null,rotate:!!r.rotate};typeof r.sourceDirection=="string"?u.sourceDirection=r.sourceDirection:typeof r.sourceDirection=="number"?u.sourceDirection=new k(1,0).rotate(null,r.sourceDirection):u.sourceDirection=r.sourceDirection?new k(r.sourceDirection).normalize():null,typeof r.targetDirection=="string"?u.targetDirection=r.targetDirection:typeof r.targetDirection=="number"?u.targetDirection=new k(1,0).rotate(null,r.targetDirection):u.targetDirection=r.targetDirection?new k(r.targetDirection).normalize():null;let l=[e,...n,t].map(S=>new k(S)),h;if(u.sourceTangent)h=u.sourceTangent;else{let S=wB(i,l,s,u),N=l[0].distance(l[1])*u.coeff,P=l[1].difference(l[0]).normalize(),U=E0(S,P);if(U>Math.PI/4){let H=N+(U-Math.PI/4)*u.angleTangentCoefficient;h=S.clone().scale(H,H)}else h=S.clone().scale(N,N)}let f;if(u.targetTangent)f=u.targetTangent;else{let S=AB(i,l,s,u),N=l.length-1,P=l[N-1].distance(l[N])*u.coeff,U=l[N-1].difference(l[N]).normalize(),H=E0(S,U);if(H>Math.PI/4){let J=P+(H-Math.PI/4)*u.angleTangentCoefficient;f=S.clone().scale(J,J)}else f=S.clone().scale(P,P)}let I=xB(l,h,f,u).map(S=>DB(S,u)),x=new be(I).round(a);return o?x:x.serialize()};P0.Directions=zr;P0.TangentDirections=Yn;function vB(e,t,n){let{sourceBBox:r}=e,i,o;if(!e.sourceView)r.x>t[1].x?i="right":i="left";else if(o=e.sourceView.model.angle(),n.rotate&&o){let a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),u=t[0].clone();u.rotate(r.center(),o),i=a.sideNearestToPoint(u)}else i=r.sideNearestToPoint(t[0]);let s;switch(i){case"left":s=new k(-1,0);break;case"right":default:s=new k(1,0);break}return n.rotate&&o&&s.rotate(null,-o),s}function yB(e,t,n){let{targetBBox:r}=e,i,o;if(!e.targetView)r.x>t[t.length-2].x?i="left":i="right";else if(o=e.targetView.model.angle(),n.rotate&&o){let a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),u=t[t.length-1].clone();u.rotate(r.center(),o),i=a.sideNearestToPoint(u)}else i=r.sideNearestToPoint(t[t.length-1]);let s;switch(i){case"left":s=new k(-1,0);break;case"right":default:s=new k(1,0);break}return n.rotate&&o&&s.rotate(null,-o),s}function IB(e,t,n){let{sourceBBox:r}=e,i,o;if(!e.sourceView)r.y>t[1].y?i="bottom":i="top";else if(o=e.sourceView.model.angle(),n.rotate&&o){let a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),u=t[0].clone();u.rotate(r.center(),o),i=a.sideNearestToPoint(u)}else i=r.sideNearestToPoint(t[0]);let s;switch(i){case"top":s=new k(0,-1);break;case"bottom":default:s=new k(0,1);break}return n.rotate&&o&&s.rotate(null,-o),s}function CB(e,t,n){let{targetBBox:r}=e,i,o;if(!e.targetView)r.y>t[t.length-2].y?i="top":i="bottom";else if(o=e.targetView.model.angle(),n.rotate&&o){let a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),u=t[t.length-1].clone();u.rotate(r.center(),o),i=a.sideNearestToPoint(u)}else i=r.sideNearestToPoint(t[t.length-1]);let s;switch(i){case"top":s=new k(0,-1);break;case"bottom":default:s=new k(0,1);break}return n.rotate&&o&&s.rotate(null,-o),s}function kN(e,t,n){let{sourceBBox:r}=e,i,o;if(!e.sourceView)i=r.sideNearestToPoint(t[1]);else if(o=e.sourceView.model.angle(),n.rotate&&o){let a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),u=t[0].clone();u.rotate(r.center(),o),i=a.sideNearestToPoint(u)}else i=r.sideNearestToPoint(t[0]);let s;switch(i){case"top":s=new k(0,-1);break;case"bottom":s=new k(0,1);break;case"right":s=new k(1,0);break;case"left":s=new k(-1,0);break}return n.rotate&&o&&s.rotate(null,-o),s}function _N(e,t,n){let{targetBBox:r}=e,i,o;if(!e.targetView)i=r.sideNearestToPoint(t[t.length-2]);else if(o=e.targetView.model.angle(),n.rotate&&o){let a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),u=t[t.length-1].clone();u.rotate(r.center(),o),i=a.sideNearestToPoint(u)}else i=r.sideNearestToPoint(t[t.length-1]);let s;switch(i){case"top":s=new k(0,-1);break;case"bottom":s=new k(0,1);break;case"right":s=new k(1,0);break;case"left":s=new k(-1,0);break}return n.rotate&&o&&s.rotate(null,-o),s}function FN(e,t,n){return t[1].difference(t[0]).normalize()}function jN(e,t,n){let r=t.length-1;return t[r-1].difference(t[r]).normalize()}function BN(e,t,n){let{sourceBBox:r}=e,i=r.center();return t[0].difference(i).normalize()}function zN(e,t,n){let{targetBBox:r}=e,i=r.center();return t[t.length-1].difference(i).normalize()}function wB(e,t,n,r){if(r.sourceDirection)switch(r.sourceDirection){case Yn.UP:return new k(0,-1);case Yn.DOWN:return new k(0,1);case Yn.LEFT:return new k(-1,0);case Yn.RIGHT:return new k(1,0);case Yn.AUTO:return kN(e,t,r);case Yn.CLOSEST_POINT:return FN(e,t,r);case Yn.OUTWARDS:return BN(e,t,r);default:return r.sourceDirection}switch(n){case zr.HORIZONTAL:return vB(e,t,r);case zr.VERTICAL:return IB(e,t,r);case zr.CLOSEST_POINT:return FN(e,t,r);case zr.OUTWARDS:return BN(e,t,r);case zr.AUTO:default:return kN(e,t,r)}}function AB(e,t,n,r){if(r.targetDirection)switch(r.targetDirection){case Yn.UP:return new k(0,-1);case Yn.DOWN:return new k(0,1);case Yn.LEFT:return new k(-1,0);case Yn.RIGHT:return new k(1,0);case Yn.AUTO:return _N(e,t,r);case Yn.CLOSEST_POINT:return jN(e,t,r);case Yn.OUTWARDS:return zN(e,t,r);default:return r.targetDirection}switch(n){case zr.HORIZONTAL:return yB(e,t,r);case zr.VERTICAL:return CB(e,t,r);case zr.CLOSEST_POINT:return jN(e,t,r);case zr.OUTWARDS:return zN(e,t,r);case zr.AUTO:default:return _N(e,t,r)}}function bB(e,t){let n=Math.cos(t),r=Math.sin(t),i=n*e.x-r*e.y,o=r*e.x+n*e.y;e.x=i,e.y=o}function E0(e,t){let n=e.dot(t)/(e.magnitude()*t.magnitude());return n<-1&&(n=-1),n>1&&(n=1),Math.acos(n)}function GN(e,t){return e.x*t.y-e.y*t.x}function xB(e,t,n,r){let{tau:i,coeff:o}=r,s=[],a=[],u=[],l=e.length-1;for(let h=0;h<l;h++)s[h]=e[h].distance(e[h+1]);a[0]=t,a[l]=n;for(let h=1;h<l;h++){let f,y;h===1?f=e[h-1].clone().offset(a[h-1].x,a[h-1].y):f=e[h-1].clone(),h===l-1?y=e[h+1].clone().offset(a[h+1].x,a[h+1].y):y=e[h+1].clone();let I=f.difference(e[h]).normalize(),x=y.difference(e[h]).normalize(),S=E0(I,x),N=(Math.PI-S)/2,P,U=GN(I,x),H;H=GN(e[h].difference(e[h+1]),e[h].difference(e[h-1])),U<0&&(N=-N),S<Math.PI/2&&(N<0&&H<0||N>0&&H>0)&&(N=N-Math.PI),P=x.clone(),bB(P,N);let J=P.clone(),ie=P.clone(),g=s[h-1]*o,v=s[h]*o;J.scale(g,g),ie.scale(v,v),a[h]=[J,ie]}for(let h=0;h<l;h++){let f,y;h===0?f=e[h+1].difference(a[h].x/i,a[h].y/i):f=e[h+1].difference(a[h][1].x/i,a[h][1].y/i),h===l-1?y=e[h].clone().offset(a[h+1].x/i,a[h+1].y/i):y=e[h].difference(a[h+1][0].x/i,a[h+1][0].y/i),u[h]=[f,e[h],e[h+1],y]}return u}function DB(e,t){let{tau:n}=t,r=new k;r.x=e[1].x+(e[2].x-e[0].x)/(6*n),r.y=e[1].y+(e[2].y-e[0].y)/(6*n);let i=new k;return i.x=e[2].x+(e[3].x-e[1].x)/(6*n),i.y=e[2].y+(e[3].y-e[1].y)/(6*n),new ut(e[1],r,i,e[2])}var nu=ci(vo(),1),_e={TOOLS:Ze.Flags.TOOLS,RENDER:"RENDER",UPDATE:"UPDATE",LEGACY_TOOLS:"LEGACY_TOOLS",LABELS:"LABELS",VERTICES:"VERTICES",SOURCE:"SOURCE",TARGET:"TARGET",CONNECTOR:"CONNECTOR"},bs=Ze.extend({className:function(){var e=Ze.prototype.className.apply(this).split(" ");return e.push("link"),e.join(" ")},options:{shortLinkLength:105,doubleLinkTools:!1,longLinkLength:155,linkToolsOffset:40,doubleLinkToolsOffset:65,sampleInterval:50},_labelCache:null,_labelSelectors:null,_markerCache:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){Ze.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._markerCache={},this._V={},this.cleanNodesCache()},presentationAttributes:{markup:[_e.RENDER],attrs:[_e.UPDATE],router:[_e.UPDATE],connector:[_e.CONNECTOR],smooth:[_e.UPDATE],manhattan:[_e.UPDATE],toolMarkup:[_e.LEGACY_TOOLS],labels:[_e.LABELS],labelMarkup:[_e.LABELS],vertices:[_e.VERTICES,_e.UPDATE],vertexMarkup:[_e.VERTICES],source:[_e.SOURCE,_e.UPDATE],target:[_e.TARGET,_e.UPDATE]},initFlag:[_e.RENDER,_e.SOURCE,_e.TARGET,_e.TOOLS],UPDATE_PRIORITY:1,confirmUpdate:function(e,t){if(t||(t={}),this.hasFlag(e,_e.SOURCE)){if(!this.updateEndProperties("source"))return e;e=this.removeFlag(e,_e.SOURCE)}if(this.hasFlag(e,_e.TARGET)){if(!this.updateEndProperties("target"))return e;e=this.removeFlag(e,_e.TARGET)}let{paper:n,sourceView:r,targetView:i}=this;if(n&&(r&&!n.isViewMounted(r)||i&&!n.isViewMounted(i)))return e;if(this.hasFlag(e,_e.RENDER))return this.render(),this.updateHighlighters(!0),this.updateTools(t),e=this.removeFlag(e,[_e.RENDER,_e.UPDATE,_e.VERTICES,_e.LABELS,_e.TOOLS,_e.LEGACY_TOOLS,_e.CONNECTOR]),e;let o=!1;this.hasFlag(e,_e.VERTICES)&&(this.renderVertexMarkers(),e=this.removeFlag(e,_e.VERTICES));let{model:s}=this,{attributes:a}=s,u=this.hasFlag(e,_e.LABELS),l=this.hasFlag(e,_e.LEGACY_TOOLS);u&&(this.onLabelsChange(s,a.labels,t),e=this.removeFlag(e,_e.LABELS),o=!0),l&&(this.renderTools(),e=this.removeFlag(e,_e.LEGACY_TOOLS));let h=this.hasFlag(e,_e.UPDATE),f=this.hasFlag(e,_e.CONNECTOR);return(h||f)&&(h?t.translateBy&&s.isRelationshipEmbeddedIn(t.translateBy)?this.translate(t.tx,t.ty):this.update():(this.updatePath(),this.updateDOM()),this.updateTools(t),e=this.removeFlag(e,[_e.UPDATE,_e.TOOLS,_e.CONNECTOR]),u=!1,l=!1,o=!0),u&&this.updateLabelPositions(),l&&this.updateToolsPosition(),o&&this.updateHighlighters(),this.hasFlag(e,_e.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,_e.TOOLS)),e},requestConnectionUpdate:function(e){this.requestUpdate(this.getFlag(_e.UPDATE),e)},isLabelsRenderRequired:function(e={}){let t=this.model.previous("labels");if(!t)return!0;if("propertyPathArray"in e&&"propertyValue"in e){var n=e.propertyPathArray||[],r=n.length;if(r>1){var i=!!t[n[1]];if(i){if(r===2)return"markup"in Object(e.propertyValue);if(n[2]!=="markup")return!1}}}return!0},onLabelsChange:function(e,t,n){this.isLabelsRenderRequired(n)?this.renderLabels():this.updateLabels()},render:function(){return this.vel.empty(),this.unmountLabels(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.LinkView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if(typeof t=="string")return this.renderStringMarkup(t);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el);this.selectors=t.selectors,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=ee(e);Array.isArray(t)||(t=[t]);for(var n=this._V,r=0,i=t.length;r<i;r++){var o=t[r],s=o.attr("class");s&&(s=zS(s),n[nu.default.camelCase(s)]=o)}this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(t)},_getLabelMarkup:function(e){if(e){if(Array.isArray(e))return this.parseDOMJSON(e,null);if(typeof e=="string")return this._getLabelStringMarkup(e);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(e){var t=ee(e),n=document.createDocumentFragment();if(!Array.isArray(t))n.appendChild(t.node);else for(var r=0,i=t.length;r<i;r++){var o=t[r].node;n.appendChild(o)}return{fragment:n,selectors:{}}},_normalizeLabelMarkup:function(e){if(e){var t=e.fragment;if(!(e.fragment instanceof DocumentFragment)||!e.fragment.hasChildNodes())throw new Error("dia.LinkView: invalid label markup.");var n,r=t.childNodes;return r.length>1||r[0].nodeName.toUpperCase()!=="G"?n=ee("g").append(t):n=ee(r[0]),n.addClass("label"),{node:n.node,selectors:e.selectors}}},renderLabels:function(){var e=this._V,t=e.labels,n=this._labelCache={},r=this._labelSelectors={},i=this.model,o=i.attributes.labels||[],s=o.length;if(s===0)return t&&t.remove(),this;t?t.empty():(t=e.labels=ee("g").addClass("labels"),this.options.labelsLayer&&(t.addClass(Tn(Et(this,"className"))),t.attr("model-id",i.id)));for(var a=0;a<s;a++){var u=o[a],l=this._normalizeLabelMarkup(this._getLabelMarkup(u.markup)),h,f;if(l)h=l.node,f=l.selectors;else{var y=i._builtins.defaultLabel,I=this._normalizeLabelMarkup(this._getLabelMarkup(y.markup)),x=i._getDefaultLabel(),S=this._normalizeLabelMarkup(this._getLabelMarkup(x.markup)),N=S||I;h=N.node,f=N.selectors}h.setAttribute("label-idx",a),t.append(h),n[a]=h;var P=this.selector;if(f[P])throw new Error("dia.LinkView: ambiguous label root selector.");f[P]=h,r[a]=f}return t.parent()||this.mountLabels(),this.updateLabels(),this},mountLabels:function(){let{el:e,paper:t,model:n,_V:r,options:i}=this,{labels:o}=r;if(!o||!n.hasLabels())return;let{node:s}=o;i.labelsLayer?t.getLayerView(i.labelsLayer).insertSortedNode(s,n.get("z")):s.parentNode!==e&&e.appendChild(s)},unmountLabels:function(){let{options:e,_V:t}=this;if(!t)return;let{labels:n}=t;n&&e.labelsLayer&&n.remove()},findLabelNode:function(e,t){let n=this._labelCache[e];if(!n)return null;let r=this._labelSelectors[e],[i=null]=this.findBySelector(t,n,r);return i},_mergeLabelAttrs:function(e,t,n,r){return t===null?null:t===void 0?n===null?null:n===void 0?e?void 0:r:e?n:_t({},r,n):e?_t({},n,t):_t({},r,n,t)},_mergeLabelSize:function(e,t){return e===null?null:e===void 0?t===null?null:t===void 0?void 0:t:_t({},t,e)},updateLabels:function(){if(!this._V.labels)return this;for(var e=this.model,t=e.get("labels")||[],n=this.can("labelMove"),r=e._builtins.defaultLabel,i=r.attrs,o=e._getDefaultLabel(),s=o.markup,a=o.attrs,u=o.size,l=0,h=t.length;l<h;l++){var f=this._labelCache[l];f.setAttribute("cursor",n?"move":"default");var y=this._labelSelectors[l],I=t[l],x=I.markup,S=I.attrs,N=I.size,P=this._mergeLabelAttrs(x||s,S,a,i),U=this._mergeLabelSize(N,u);this.updateDOMSubtreeAttributes(f,P,{rootBBox:new fe(U),selectors:y})}return this},renderTools:function(){if(!this._V.linkTools)return this;var e=(0,nu.default)(this._V.linkTools.node).empty(),t=On(this.model.get("toolMarkup")||this.model.toolMarkup),n=ee(t());if(e.append(n.node),this._toolCache=n,this.options.doubleLinkTools){var r;this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(t=On(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),r=ee(t())):r=n.clone(),e.append(r.node),this._tool2Cache=r}return this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var e=(0,nu.default)(this._V.markerVertices.node).empty(),t=On(this.model.get("vertexMarkup")||this.model.vertexMarkup);return this.model.vertices().forEach(function(n,r){e.append(ee(t(Ce({idx:r},n))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var e=(0,nu.default)(this._V.markerArrowheads.node);e.empty();var t=On(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=ee(t({end:"source"})),this._V.targetArrowhead=ee(t({end:"target"})),e.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},removeRedundantLinearVertices:function(e){let n=this.model,r=n.vertices(),i=[this.sourceAnchor,...r,this.targetAnchor],o=i.length,s=new at(i);s.simplify({threshold:.001});let a=s.points.map(l=>l.toJSON()),u=a.length;return o===u?0:(n.vertices(a.slice(1,u-1),e),o-u)},updateDefaultConnectionPath:function(){var e=this._V;e.connection&&e.connection.attr("d",this.getSerializedConnection()),e.connectionWrap&&e.connectionWrap.attr("d",this.getSerializedConnection()),e.markerSource&&e.markerTarget&&this._translateAndAutoOrientArrows(e.markerSource,e.markerTarget)},getEndView:function(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(e){switch(e){case"source":return new k(this.sourceAnchor);case"target":return new k(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndConnectionPoint:function(e){switch(e){case"source":return new k(this.sourcePoint);case"target":return new k(this.targetPoint);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(e){switch(e){case"source":var t=this.sourceView;if(!t)break;return this.sourceMagnet||t.el;case"target":var n=this.targetView;if(!n)break;return this.targetMagnet||n.el;default:throw new Error("dia.LinkView: type parameter required.")}return null},update:function(){return this.updateRoute(),this.updatePath(),this.updateDOM(),this},translate:function(e=0,t=0){let{route:n,path:r}=this;if(!n||!r)return;let i=new at(n);i.translate(e,t),this.route=i.points,this._translateConnectionPoints(e,t),r.translate(e,t),this.updateDOM()},updateDOM(){let{el:e,model:t,selectors:n}=this;this.cleanNodesCache(),this.updateDOMSubtreeAttributes(e,t.attr(),{selectors:n}),this.updateDefaultConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.options.perpendicular=null},updateRoute:function(){let{model:e}=this,t=e.vertices(),n=this.findAnchors(t),r=this.sourceAnchor=n.source,i=this.targetAnchor=n.target,o=this.findRoute(t);this.route=o;var s=this.findConnectionPoints(o,r,i);this.sourcePoint=s.source,this.targetPoint=s.target},updatePath:function(){let{route:e,sourcePoint:t,targetPoint:n}=this,r=this.findMarkerPoints(e,t,n),i=this.findPath(e,r.source||t,r.target||n);this.path=i},findMarkerPoints:function(e,t,n){var r=e[0],i=e[e.length-1],o=this._markerCache,s,a;return this._V.markerSource&&(o.sourceBBox=o.sourceBBox||this._V.markerSource.getBBox(),s=k(t).move(r||n,o.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(o.targetBBox=o.targetBBox||this._V.markerTarget.getBBox(),a=k(n).move(i||t,o.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),o.sourcePoint=s||t.clone(),o.targetPoint=a||n.clone(),{source:s,target:a}},findAnchorsOrdered:function(e,t,n,r){var i,o,s,a,u=this.model,l=u.get(e),h=u.get(n),f=this.getEndView(e),y=this.getEndView(n),I=this.getEndMagnet(e),x=this.getEndMagnet(n);f?(t?s=new k(t):y?s=x:s=new k(h),i=this.getAnchor(l.anchor,f,I,s,e)):i=new k(l),y?(a=new k(r||i),o=this.getAnchor(h.anchor,y,x,a,n)):o=new k(h);var S={};return S[e]=i,S[n]=o,S},findAnchors:function(e){var t=this.model,n=e[0],r=e[e.length-1];return t.target().priority&&!t.source().priority?this.findAnchorsOrdered("target",r,"source",n):this.findAnchorsOrdered("source",n,"target",r)},findConnectionPoints:function(e,t,n){var r=e[0],i=e[e.length-1],o=this.model,s=o.get("source"),a=o.get("target"),u=this.sourceView,l=this.targetView,h=this.paper.options,f,y,I;if(u&&!u.isNodeConnection(this.sourceMagnet)){f=this.sourceMagnet||u.el;var x=s.connectionPoint||h.defaultConnectionPoint,S=r||n,N=new ge(S,t);I=this.getConnectionPoint(x,u,f,N,"source")}else I=t;var P;if(l&&!l.isNodeConnection(this.targetMagnet)){y=this.targetMagnet||l.el;var U=a.connectionPoint||h.defaultConnectionPoint,H=i||t,J=new ge(H,n);P=this.getConnectionPoint(U,l,y,J,"target")}else P=n;return{source:I,target:P}},getAnchor:function(e,t,n,r,i){var o=t.isNodeConnection(n),s=this.paper.options;if(e||(o?e=s.defaultLinkAnchor:s.perpendicularLinks||this.options.perpendicular?e={name:"perpendicular"}:e=s.defaultAnchor),!e)throw new Error("Anchor required.");var a;if(typeof e=="function")a=e;else{var u=e.name,l=o?"linkAnchorNamespace":"anchorNamespace";if(a=s[l][u],typeof a!="function")throw new Error("Unknown anchor: "+u)}var h=a.call(this,t,n,r,e.args||{},i,this);return h?h.round(this.decimalsRounding):new k},getConnectionPoint:function(e,t,n,r,i){var o,s=r.end,a=this.paper.options;if(typeof a.linkConnectionPoint=="function"){var u=n===t.el?void 0:n;if(o=a.linkConnectionPoint(this,t,u,r.start,i),o)return o}if(!e)return s;var l;if(typeof e=="function")l=e;else{var h=e.name;if(l=a.connectionPointNamespace[h],typeof l!="function")throw new Error("Unknown connection point: "+h)}return o=l.call(this,r,t,n,e.args||{},i,this),o?o.round(this.decimalsRounding):s},_translateConnectionPoints:function(e,t){var n=this._markerCache;n.sourcePoint.offset(e,t),n.targetPoint.offset(e,t),this.sourcePoint.offset(e,t),this.targetPoint.offset(e,t),this.sourceAnchor.offset(e,t),this.targetAnchor.offset(e,t)},_getDefaultLabelPositionProperty:function(){var e=this.model,t=e._builtins.defaultLabel,n=t.position,r=e._getDefaultLabel(),i=this._normalizeLabelPosition(r.position);return _t({},n,i)},_normalizeLabelPosition:function(e){return typeof e=="number"?{distance:e,offset:null,angle:0,args:null}:e},_mergeLabelPositionProperty:function(e,t){return e===null?null:e===void 0?t===null?null:t:_t({},t,e)},updateLabelPositions:function(){if(!this._V.labels)return this;var e=this.path;if(!e)return this;var t=this.model,n=t.get("labels")||[];if(!n.length)return this;for(var r=this._getDefaultLabelPositionProperty(),i=0,o=n.length;i<o;i++){var s=this._labelCache[i];if(s){var a=n[i],u=this._normalizeLabelPosition(a.position),l=this._mergeLabelPositionProperty(u,r),h=this._getLabelTransformationMatrix(l);s.setAttribute("transform",ee.matrixToTransformString(h)),this._cleanLabelMatrices(i)}}return this},_cleanLabelMatrices:function(e){let{metrics:t,_labelSelectors:n}=this,r=n[e];if(r)for(let i in r){let{id:o}=r[i];o&&o in t&&delete t[o].magnetMatrix}},updateToolsPosition:function(){if(!this._V.linkTools)return this;var e="",t=this.options.linkToolsOffset,n=this.getConnectionLength();if(!Number.isNaN(n)){n<this.options.shortLinkLength&&(e="scale(.5)",t/=2);var r=this.getPointAtLength(t);if(this._toolCache.attr("transform","translate("+r.x+", "+r.y+") "+e),this.options.doubleLinkTools&&n>=this.options.longLinkLength){var i=this.options.doubleLinkToolsOffset||t;r=this.getPointAtLength(n-i),this._tool2Cache.attr("transform","translate("+r.x+", "+r.y+") "+e),this._tool2Cache.attr("display","inline")}else this.options.doubleLinkTools&&this._tool2Cache.attr("display","none")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if(nu.default.css(this._V.markerArrowheads.node,"display")==="none")return this;var e=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(e),this._V.targetArrowhead.scale(e),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},updateEndProperties:function(e){let{model:t,paper:n}=this,r=`${e}View`,i=t.get(e),o=i&&i.id;if(!o)return this[r]=null,this.updateEndMagnet(e),!0;let s=n.getModelById(o);if(!s)throw new Error("LinkView: invalid "+e+" cell.");let a=s.findView(n);return a?(this[r]=a,this.updateEndMagnet(e),!0):!1},updateEndMagnet:function(e){let t=`${e}Magnet`,n=this.getEndView(e);if(n){let r=n.getMagnetFromLinkEnd(this.model.get(e));r===n.el&&(r=null),this[t]=r}else this[t]=null},_translateAndAutoOrientArrows:function(e,t){var n=Le(this.route);e&&e.translateAndAutoOrient(this.sourcePoint,n[0]||this.targetPoint,this.paper.cells),t&&t.translateAndAutoOrient(this.targetPoint,n[n.length-1]||this.sourcePoint,this.paper.cells)},_getLabelPositionProperty:function(e){return this.model.label(e).position||{}},_getLabelPositionAngle:function(e){var t=this._getLabelPositionProperty(e);return t.angle||0},_getLabelPositionArgs:function(e){var t=this._getLabelPositionProperty(e);return t.args},_getDefaultLabelPositionArgs:function(){var e=this.model._getDefaultLabel(),t=e.position||{};return t.args},_mergeLabelPositionArgs:function(e,t){return e===null?null:e===void 0?t===null?null:t:_t({},t,e)},addLabel:function(e,t,n,r){var i,o,s=0,a;typeof e!="number"?(i=e.x,o=e.y,typeof t=="number"?(s=t,a=n):a=t):(i=e,o=t,typeof n=="number"?(s=n,a=r):a=n);var u=this._getDefaultLabelPositionArgs(),l=a,h=this._mergeLabelPositionArgs(l,u),f={position:this.getLabelPosition(i,o,s,h)},y=-1;return this.model.insertLabel(y,f,a),y},addVertex:function(e,t,n){var r=typeof e!="number",i=r?e.x:e,o=r?e.y:t,s=r?t:n,a={x:i,y:o},u=this.getVertexIndex(i,o);return this.model.insertVertex(u,a,s),u},sendToken:function(e,t,n){function r(f,y){return function(){f.remove(),typeof y=="function"&&y()}}var i,o,s;$e(t)?(i=t.duration,o=t.direction==="reverse",s=t.connection):(i=t,o=!1,s=null),i=i||1e3;var a={dur:i+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};o&&(a.keyPoints="1;0",a.keyTimes="0;1");var u=ee(e),l;if(typeof s=="string")l=this.findBySelector(s,this.el,this.selectors)[0];else{var h=this._V;l=h.connection?h.connection.node:this.el.querySelector("path")}if(!(l instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");u.appendTo(this.paper.cells).animateAlongPath(a,l),setTimeout(r(u,n),i)},findRoute:function(e){e||(e=[]);var t=this.paper.options.routerNamespace||gp,n=this.model.router(),r=this.paper.options.defaultRouter;if(!n)if(r)n=r;else return e.map(k);var i=ct(n)?n:t[n.name];if(!ct(i))throw new Error('dia.LinkView: unknown router: "'+n.name+'".');var o=n.args||{},s=i.call(this,e,o,this);return s||e.map(k)},findPath:function(e,t,n){var r=this.paper.options.connectorNamespace||yp,i=this.model.connector(),o=this.paper.options.defaultConnector;i||(i=o||{});var s=ct(i)?i:r[i.name];if(!ct(s))throw new Error('dia.LinkView: unknown connector: "'+i.name+'".');var a=Cr(i.args||{});a.raw=!0;var u=s.call(this,t,n,e,a,this);return typeof u=="string"&&(u=new be(ee.normalizePathData(u))),u},getConnection:function(){var e=this.path;return e?e.clone():null},getSerializedConnection:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("data"))return t.data;var n=e.serialize();return t.data=n,n},getConnectionSubdivisions:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("segmentSubdivisions"))return t.segmentSubdivisions;var n=e.getSegmentSubdivisions();return t.segmentSubdivisions=n,n},getConnectionLength:function(){var e=this.path;if(!e)return 0;var t=this.metrics;if(t.hasOwnProperty("length"))return t.length;var n=e.length({segmentSubdivisions:this.getConnectionSubdivisions()});return t.length=n,n},getPointAtLength:function(e){var t=this.path;return t?t.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(e){var t=this.path;return t?(nn(e)&&(e=parseFloat(e)/100),t.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(e){var t=this.path;return t?t.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(e){var t=this.path;return t?t.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(e){var t=this.path;return t?t.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(e){var t=this.path;return t?t.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(e){var t=this.path;return t?t.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(e,t,n,r){var i={},o=0,s;typeof n=="number"?(o=n,s=r):s=n,s&&(i.args=s);var a=!(s&&s.absoluteDistance),u=s&&s.absoluteDistance&&s.reverseDistance,l=s&&s.absoluteOffset,h=this.path,f={segmentSubdivisions:this.getConnectionSubdivisions()},y=new k(e,t),I=h.closestPointT(y,f),x=h.lengthAtT(I,f);a&&(x=x/this.getConnectionLength()||0),u&&(x=-1*(this.getConnectionLength()-x)||1),i.distance=x;var S;l||(S=h.tangentAtT(I));var N;if(S)N=S.pointOffset(y);else{var P=h.pointAtT(I),U=y.difference(P);N={x:U.x,y:U.y}}return i.offset=N,i.angle=o,i},_getLabelTransformationMatrix:function(e){var t,n=0,r={};if(typeof e=="number")t=e;else if(typeof e.distance=="number")r=e.args||{},t=e.distance,n=e.angle||0;else throw new Error("dia.LinkView: invalid label position distance.");var i=t>0&&t<=1,o=0,s={x:0,y:0};if(e.offset){var a=e.offset;typeof a=="number"&&(o=a),a.x&&(s.x=a.x),a.y&&(s.y=a.y)}var u=s.x!==0||s.y!==0||o===0,l=r.keepGradient,h=r.ensureLegibility,f=this.path,y={segmentSubdivisions:this.getConnectionSubdivisions()},I=i?t*this.getConnectionLength():t,x=f.tangentAtLength(I,y),S,N=n;if(x){if(u)S=x.start.clone(),S.offset(s);else{var P=x.clone();P.rotate(x.start,-90),P.setLength(o),S=P.end}l&&(N=x.angle()+n,h&&(N=dn((N+90)%180-90)))}else S=f.start.clone(),u&&S.offset(s);return ee.createSVGMatrix().translate(S.x,S.y).rotate(N)},getLabelCoordinates:function(e){var t=this._getLabelTransformationMatrix(e);return new k(t.e,t.f)},getVertexIndex:function(e,t){for(var n=this.model,r=n.vertices(),i=this.getClosestPointLength(new k(e,t)),o=0,s=r.length;o<s;o++){var a=r[o],u=this.getClosestPointLength(a);if(i<u)break}return o},notifyPointerdown(e,t,n){Ze.prototype.pointerdown.call(this,e,t,n),this.notify("link:pointerdown",e,t,n)},notifyPointermove(e,t,n){Ze.prototype.pointermove.call(this,e,t,n),this.notify("link:pointermove",e,t,n)},notifyPointerup(e,t,n){this.notify("link:pointerup",e,t,n),Ze.prototype.pointerup.call(this,e,t,n)},pointerdblclick:function(e,t,n){Ze.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){Ze.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",e,t,n)},contextmenu:function(e,t,n){Ze.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",e,t,n)},pointerdown:function(e,t,n){this.notifyPointerdown(e,t,n);var r=e.target.getAttribute("class");switch(r){case"marker-vertex":this.dragVertexStart(e,t,n);return;case"marker-vertex-remove":case"marker-vertex-remove-area":this.dragVertexRemoveStart(e,t,n);return;case"marker-arrowhead":this.dragArrowheadStart(e,t,n);return;case"connection":case"connection-wrap":this.dragConnectionStart(e,t,n);return;case"marker-source":case"marker-target":return}this.dragStart(e,t,n)},pointermove:function(e,t,n){var r=this._dragData;r&&this.eventData(e,r);var i=this.eventData(e);switch(i.action){case"vertex-move":this.dragVertex(e,t,n);break;case"label-move":this.dragLabel(e,t,n);break;case"arrowhead-move":this.dragArrowhead(e,t,n);break;case"move":this.drag(e,t,n);break}r&&Ce(r,this.eventData(e)),this.notifyPointermove(e,t,n)},pointerup:function(e,t,n){var r=this._dragData;r&&(this.eventData(e,r),this._dragData=null);var i=this.eventData(e);switch(i.action){case"vertex-move":this.dragVertexEnd(e,t,n);break;case"label-move":this.dragLabelEnd(e,t,n);break;case"arrowhead-move":this.dragArrowheadEnd(e,t,n);break;case"move":this.dragEnd(e,t,n)}this.notifyPointerup(e,t,n),this.checkMouseleave(e)},mouseover:function(e){Ze.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",e)},mouseout:function(e){Ze.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",e)},mouseenter:function(e){Ze.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",e)},mouseleave:function(e){Ze.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",e)},mousewheel:function(e,t,n,r){Ze.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",e,t,n,r)},onevent:function(e,t,n,r){var i=ee(e.target).findParentByClass("link-tool",this.el);if(i){if(e.stopPropagation(),this.can("useLinkTools"))if(t==="remove"){this.model.remove({ui:!0});return}else this.notify(t,e,n,r);this.notifyPointerdown(e,n,r),this.paper.delegateDragEvents(this,e.data)}else Ze.prototype.onevent.apply(this,arguments)},onlabel:function(e,t,n){this.notifyPointerdown(e,t,n),this.dragLabelStart(e,t,n);var r=this.eventData(e).stopPropagation;r&&e.stopPropagation()},dragConnectionStart:function(e,t,n){if(this.can("vertexAdd")){var r=this.addVertex({x:t,y:n},{ui:!0});this.eventData(e,{action:"vertex-move",vertexIdx:r})}},dragLabelStart:function(e,t,n){if(this.can("labelMove")){if(this.isDefaultInteractionPrevented(e))return;var r=e.currentTarget,i=parseInt(r.getAttribute("label-idx"),10),o=this._getDefaultLabelPositionProperty(),s=this._normalizeLabelPosition(this._getLabelPositionProperty(i)),a=this._mergeLabelPositionProperty(s,o),u=this.getLabelCoordinates(a),l=u.x-t,h=u.y-n,f=this._getLabelPositionAngle(i),y=this._getLabelPositionArgs(i),I=this._getDefaultLabelPositionArgs(),x=this._mergeLabelPositionArgs(y,I);this.eventData(e,{action:"label-move",labelIdx:i,dx:l,dy:h,positionAngle:f,positionArgs:x,stopPropagation:!0})}else this.eventData(e,{stopPropagation:!0});this.paper.delegateDragEvents(this,e.data)},dragVertexStart:function(e,t,n){if(this.can("vertexMove")){var r=e.target,i=parseInt(r.getAttribute("idx"),10);this.eventData(e,{action:"vertex-move",vertexIdx:i})}},dragVertexRemoveStart:function(e,t,n){if(this.can("vertexRemove")){var r=e.target,i=parseInt(r.getAttribute("idx"),10);this.model.removeVertex(i)}},dragArrowheadStart:function(e,t,n){if(this.can("arrowheadMove")){var r=e.target,i=r.getAttribute("end"),o=this.startArrowheadMove(i,{ignoreBackwardsCompatibility:!0});this.eventData(e,o)}},dragStart:function(e,t,n){this.isDefaultInteractionPrevented(e)||this.can("linkMove")&&this.eventData(e,{action:"move",dx:t,dy:n})},dragLabel:function(e,t,n){var r=this.eventData(e),i={position:this.getLabelPosition(t+r.dx,n+r.dy,r.positionAngle,r.positionArgs)};this.paper.options.snapLabels&&delete i.position.offset;let o={ui:!0};this.paper.isAsync()&&e.type==="touchmove"&&(o.async=!1),this.model.label(r.labelIdx,i,o)},dragVertex:function(e,t,n){var r=this.eventData(e);this.model.vertex(r.vertexIdx,{x:t,y:n},{ui:!0})},dragArrowhead:function(e,t,n){this.paper.options.snapLinks?!this._snapArrowhead(e,t,n)&&this.paper.options.snapLinksSelf&&this._snapArrowheadSelf(e,t,n):this.paper.options.snapLinksSelf?this._snapArrowheadSelf(e,t,n):this._connectArrowhead(this.getEventTarget(e),t,n,this.eventData(e))},drag:function(e,t,n){var r=this.eventData(e);this.model.translate(t-r.dx,n-r.dy,{ui:!0}),this.eventData(e,{dx:t,dy:n})},dragLabelEnd:function(){},dragVertexEnd:function(){},dragArrowheadEnd:function(e,t,n){var r=this.eventData(e),i=this.paper;i.options.snapLinks?this._snapArrowheadEnd(r):this._connectArrowheadEnd(r,t,n),i.linkAllowed(this)?(this._finishEmbedding(r),this._notifyConnectEvent(r,e)):this._disallow(r),this._afterArrowheadMove(r)},dragEnd:function(){},_disallow:function(e){switch(e.whenNotAllowed){case"remove":this.model.remove({ui:!0});break;case"revert":default:this.model.set(e.arrowhead,e.initialEnd,{ui:!0});break}},_finishEmbedding:function(e){this.paper.options.embeddingMode&&this.model.reparent()&&(e.z=null)},_notifyConnectEvent:function(e,t){var n=e.arrowhead,r=e.initialEnd,i=this.model.prop(n),o=i&&!bt.endsEqual(r,i);if(o){var s=this.paper;r.id&&this.notify("link:disconnect",t,s.findViewByModel(r.id),e.initialMagnet,n),i.id&&this.notify("link:connect",t,s.findViewByModel(i.id),e.magnetUnderPointer,n)}},_snapToPoints:function(e,t,n){let r=null,i=1/0,o=null,s=1/0,a=e.x,u=e.y;for(let l=0;l<t.length;l++){let h=Math.abs(t[l].x-e.x);h<i&&(i=h,r=t[l]);let f=Math.abs(t[l].y-e.y);f<s&&(s=f,o=t[l])}return i<n&&(a=r.x),s<n&&(u=o.y),{x:a,y:u}},_snapArrowheadSelf:function(e,t,n){let{paper:r,model:i}=this,{snapLinksSelf:o}=r.options,s=this.eventData(e),a=o.radius||20,u=this.getEndAnchor(s.arrowhead==="source"?"target":"source"),l=i.vertices(),h=[u,...l],f=this._snapToPoints({x:t,y:n},h,a),y=r.localToClientPoint(f);this._connectArrowhead(document.elementFromPoint(y.x,y.y),f.x,f.y,this.eventData(e))},_snapArrowhead:function(e,t,n){let{paper:r}=this,{snapLinks:i,connectionStrategy:o}=r.options,s=this.eventData(e),a=!1;var u=i.radius||50,l=r.findViewsInArea({x:t-u,y:n-u,width:2*u,height:2*u}),h=s.closestView||null,f=s.closestMagnet||null,y=s.magnetProxy||null;s.closestView=s.closestMagnet=s.magnetProxy=null;var I=Number.MAX_VALUE,x=new k(t,n);l.forEach(function(ie){let g=[];ie.el.getAttribute("magnet")!=="false"&&g.push({bbox:ie.model.getBBox(),magnet:ie.el}),ie.$("[magnet]").toArray().forEach(v=>{g.push({bbox:ie.getNodeBBox(v),magnet:v})}),g.forEach(v=>{let{magnet:b,bbox:M}=v,E=M.center().squaredDistance(x);E<I&&(f===b||r.options.validateConnection.apply(r,s.validateConnectionArgs(ie,ie.el===b?null:b)))&&(I=E,s.closestView=ie,s.closestMagnet=b)})},this);var S,N=null,P=s.closestView,U=s.closestMagnet;U&&(N=s.magnetProxy=P.findProxyNode(U,"highlighter"));var H=s.arrowhead,J=f!==U;if(h&&J&&h.unhighlight(y,{connecting:!0,snapping:!0}),P){let{prevEnd:ie,prevX:g,prevY:v}=s;if(s.prevX=t,s.prevY=n,a=!0,!J&&(typeof o!="function"||g===t&&v===n)||(S=P.getLinkEnd(U,t,n,this.model,H),!J&&wi(ie,S)))return a;s.prevEnd=S,J&&P.highlight(N,{connecting:!0,snapping:!0})}else S={x:t,y:n};return this.model.set(H,S||{x:t,y:n},{ui:!0}),h&&this.notify("link:snap:disconnect",e,h,f,H),P&&this.notify("link:snap:connect",e,P,U,H),a},_snapArrowheadEnd:function(e){var t=e.closestView,n=e.closestMagnet;t&&n&&(t.unhighlight(e.magnetProxy,{connecting:!0,snapping:!0}),e.magnetUnderPointer=t.findMagnet(n)),e.closestView=e.closestMagnet=null},_connectArrowhead:function(e,t,n,r){let{paper:i,model:o}=this;if(r.eventTarget!==e){r.magnetProxy&&r.viewUnderPointer.unhighlight(r.magnetProxy,{connecting:!0});let s=r.viewUnderPointer=i.findView(e);if(s){let a=r.magnetUnderPointer=s.findMagnet(e),u=r.magnetProxy=s.findProxyNode(a,"highlighter");a&&this.paper.options.validateConnection.apply(i,r.validateConnectionArgs(s,a))?u&&s.highlight(u,{connecting:!0}):(r.magnetUnderPointer=null,r.magnetProxy=null)}else r.magnetUnderPointer=null,r.magnetProxy=null}r.eventTarget=e,o.set(r.arrowhead,{x:t,y:n},{ui:!0})},_connectArrowheadEnd:function(e={},t,n){let{model:r}=this,{viewUnderPointer:i,magnetUnderPointer:o,magnetProxy:s,arrowhead:a}=e;if(!o||!s||!i)return;i.unhighlight(s,{connecting:!0});let u=i.getLinkEnd(o,t,n,r,a);r.set(a,u,{ui:!0})},_beforeArrowheadMove:function(e){e.z=this.model.get("z"),this.model.toFront();var t=this.el.style;e.pointerEvents=t.pointerEvents,t.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(e)},_afterArrowheadMove:function(e){e.z!==null&&(this.model.set("z",e.z,{ui:!0}),e.z=null),this.el.style.pointerEvents=e.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(e)},_createValidateConnectionArgs:function(e){var t=[];t[4]=e,t[5]=this;var n,r=0,i=0;e==="source"?(r=2,n="target"):(i=2,n="source");var o=this.model.get(n);if(o.id){var s=t[r]=this.paper.findViewByModel(o.id),a=s.getMagnetFromLinkEnd(o);a===s.el&&(a=void 0),t[r+1]=a}function u(l,h){return t[i]=l,t[i+1]=l.el===h?void 0:h,t}return u},_markAvailableMagnets:function(e){function t(f,y){var I=f.paper,x=I.options.validateConnection;return x.apply(I,this.validateConnectionArgs(f,y))}var n=this.paper,r=n.model.getCells();e.marked={};for(var i=0,o=r.length;i<o;i++){var s=r[i].findView(n);if(s){var a=Array.prototype.slice.call(s.el.querySelectorAll("[magnet]"));s.el.getAttribute("magnet")!=="false"&&a.push(s.el);var u=a.filter(t.bind(e,s));if(u.length>0){for(var l=0,h=u.length;l<h;l++)s.highlight(u[l],{magnetAvailability:!0});s.highlight(null,{elementAvailability:!0}),e.marked[s.model.id]=u}}}},_unmarkAvailableMagnets:function(e){for(var t=Object.keys(e.marked),n,r,i=0,o=t.length;i<o;i++){n=t[i],r=e.marked[n];var s=this.paper.findViewByModel(n);if(s){for(var a=0,u=r.length;a<u;a++)s.unhighlight(r[a],{magnetAvailability:!0});s.unhighlight(null,{elementAvailability:!0})}}e.marked=null},startArrowheadMove:function(e,t){t||(t={});var n={action:"arrowhead-move",arrowhead:e,whenNotAllowed:t.whenNotAllowed||"revert",initialMagnet:this[e+"Magnet"]||(this[e+"View"]?this[e+"View"].el:null),initialEnd:Cr(this.model.get(e)),validateConnectionArgs:this._createValidateConnectionArgs(e)};return this._beforeArrowheadMove(n),t.ignoreBackwardsCompatibility!==!0&&(this._dragData=n),n},onMount:function(){Ze.prototype.onMount.apply(this,arguments),this.mountLabels()},onDetach:function(){Ze.prototype.onDetach.apply(this,arguments),this.unmountLabels()},onRemove:function(){Ze.prototype.onRemove.apply(this,arguments),this.unmountLabels()}},{Flags:_e});Object.defineProperty(bs.prototype,"sourceBBox",{enumerable:!0,get:function(){var e=this.sourceView;if(!e){var t=this.model.source();return new fe(t.x,t.y)}var n=this.sourceMagnet;return e.isNodeConnection(n)?new fe(this.sourceAnchor):e.getNodeBBox(n||e.el)}});Object.defineProperty(bs.prototype,"targetBBox",{enumerable:!0,get:function(){var e=this.targetView;if(!e){var t=this.model.target();return new fe(t.x,t.y)}var n=this.targetMagnet;return e.isNodeConnection(n)?new fe(this.targetAnchor):e.getNodeBBox(n||e.el)}});var Ip={};Ht(Ip,{addClass:()=>EB,list:()=>PB,mask:()=>SB,opacity:()=>NB,stroke:()=>MB});var MB=mn.extend({tagName:"path",className:"highlight-stroke",attributes:{"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},options:{padding:3,rx:0,ry:0,useFirstSubpath:!1,attrs:{"stroke-width":3,stroke:"#FEB663"}},getPathData(e,t){let{options:n}=this,{useFirstSubpath:r}=n,i;try{let o=ee(t);if(i=o.convertToPathData().trim(),o.tagName()==="PATH"&&r){let s=i.search(/.M/i)+1;s>0&&(i=i.substr(0,s))}}catch{let s=e.getNodeBoundingRect(t);i=ee.rectToPath(Ce({},n,s.toJSON()))}return i},highlightConnection(e){this.vel.attr("d",e.getSerializedConnection())},highlightNode(e,t){let{vel:n,options:r}=this,{padding:i,layer:o}=r,s=this.getNodeMatrix(e,t);if(i){!o&&t===e.el&&n.remove();let a=e.getNodeBoundingRect(t),u=a.x+a.width/2,l=a.y+a.height/2;a=ee.transformRect(a,s);let h=Math.max(a.width,1),f=Math.max(a.height,1),y=(h+i)/h,I=(f+i)/f,x=ee.createSVGMatrix({a:y,b:0,c:0,d:I,e:u-y*u,f:l-I*l});s=s.multiply(x)}n.attr({d:this.getPathData(e,t),transform:ee.matrixToTransformString(s)})},highlight(e,t){let{vel:n,options:r}=this;n.attr(r.attrs),e.isNodeConnection(t)?this.highlightConnection(e):this.highlightNode(e,t)}});var UN=20;function TB(e,t){let n=e.children();for(;n.length>0;){let r=n.shift();t(r)&&n.push(...r.children())}}var SB=mn.extend({tagName:"rect",className:"highlight-mask",attributes:{"pointer-events":"none"},options:{padding:3,maskClip:UN,deep:!1,attrs:{stroke:"#FEB663","stroke-width":3,"stroke-linecap":"butt","stroke-linejoin":"miter"}},VISIBLE:"white",INVISIBLE:"black",MASK_ROOT_ATTRIBUTE_BLACKLIST:["marker-start","marker-end","marker-mid","transform","stroke-dasharray","class"],MASK_CHILD_ATTRIBUTE_BLACKLIST:["stroke","fill","stroke-width","stroke-opacity","stroke-dasharray","fill-opacity","marker-start","marker-end","marker-mid","class"],MASK_REPLACE_TAGS:["FOREIGNOBJECT","IMAGE","USE","TEXT","TSPAN","TEXTPATH"],MASK_REMOVE_TAGS:["TEXT","TSPAN","TEXTPATH"],transformMaskChild(e,t){let{MASK_CHILD_ATTRIBUTE_BLACKLIST:n,MASK_REPLACE_TAGS:r,MASK_REMOVE_TAGS:i}=this,o=t.tagName();if(!ee.isSVGGraphicsElement(t)||i.includes(o))return t.remove(),!1;if(r.includes(o)){let s=e.vel.findOne(`#${t.id}`);if(s){let{node:a}=s,u=e.getNodeBoundingRect(a);e.model.isElement()&&(u=ee.transformRect(u,e.getNodeMatrix(a)));let l=ee("rect",u.toJSON()),{x:h,y:f}=u.center(),{angle:y,cx:I=h,cy:x=f}=s.rotate();y&&l.rotate(y,I,x),t.parent().append(l)}return t.remove(),!1}return n.forEach(s=>{s==="fill"&&t.attr("fill")==="none"||t.removeAttr(s)}),!0},transformMaskRoot(e,t){let{MASK_ROOT_ATTRIBUTE_BLACKLIST:n}=this;n.forEach(r=>{t.removeAttr(r)})},getMaskShape(e,t){let{options:n,MASK_REPLACE_TAGS:r}=this,{deep:i}=n,o=t.tagName(),s;if(o==="G"){if(!i)return null;s=t.clone(),TB(s,a=>this.transformMaskChild(e,a))}else{if(r.includes(o))return null;s=t.clone()}return this.transformMaskRoot(e,s),s},getMaskId(){return`highlight-mask-${this.cid}`},getMask(e,t){let{VISIBLE:n,INVISIBLE:r,options:i}=this,{padding:o,attrs:s}=i,a="stroke-width"in s?s["stroke-width"]:1,u=t.attr("fill")!=="none",l=parseFloat(t.attr("stroke-width"));isNaN(l)&&(l=1);let h=l+o*2,f=h+a*2,y=this.getMaskShape(e,t);if(!y){let I=e.getNodeBoundingRect(t.node);I.inflate(I.width?0:.5,I.height?0:.5),y=ee("rect",I.toJSON())}return y.attr(s),ee("mask",{id:this.getMaskId()}).append([y.clone().attr({fill:u?n:"none",stroke:n,"stroke-width":f}),y.clone().attr({fill:u?r:"none",stroke:r,"stroke-width":h})])},removeMask(e){let t=e.svg.getElementById(this.getMaskId());t&&e.defs.removeChild(t)},addMask(e,t){e.defs.appendChild(t.node)},highlight(e,t){let{options:n,vel:r}=this,{padding:i,attrs:o,maskClip:s=UN,layer:a}=n,u="stroke"in o?o.stroke:"#000000";!a&&t===e.el&&r.remove();let l=e.getNodeBoundingRect(t).inflate(i+s),h=this.getNodeMatrix(e,t),f=this.getMask(e,ee(t));this.addMask(e.paper,f),r.attr(l.toJSON()),r.attr({transform:ee.matrixToTransformString(h),mask:`url(#${f.id})`,fill:u})},unhighlight(e){this.removeMask(e.paper)}});var NB=mn.extend({UPDATABLE:!1,MOUNTABLE:!1,opacityClassName:Tn("highlight-opacity"),highlight:function(e,t){ee(t).addClass(this.opacityClassName)},unhighlight:function(e,t){ee(t).removeClass(this.opacityClassName)}});var VN=Tn("highlighted"),EB=mn.extend({UPDATABLE:!1,MOUNTABLE:!1,options:{className:VN},highlight:function(e,t){ee(t).addClass(this.options.className)},unhighlight:function(e,t){ee(t).removeClass(this.options.className)}},{className:VN});var O0={ROW:"row",COLUMN:"column"},PB=mn.extend({tagName:"g",MOUNTABLE:!0,UPDATE_ATTRIBUTES:function(){return[this.options.attribute]},_prevItems:null,highlight(e,t){let n=e.model,{attribute:r,size:i=20,gap:o=5,direction:s=O0.ROW}=this.options;if(!r)throw new Error("List: attribute is required");let a=typeof i=="number"?{width:i,height:i}:i,u=s===O0.ROW,l=u?a.width:a.height,h=n.get(r);Array.isArray(h)||(h=[]);let f=this._prevItems||[],y=h.map((N,P)=>wi(f[P],h[P]));if(f.length!==h.length||y.some(N=>!N)){let N=this.vel.children(),P=h.map((U,H)=>{let J=H in N?N[H].node:null;if(y[H])return J;let ie=this.createListItem(U,a,J);if(!ie)return null;if(!(ie instanceof SVGElement))throw new Error("List: item must be an SVGElement");ie.dataset.index=H,ie.dataset.attribute=r;let g=H*(l+o);return ie.setAttribute("transform",u?`translate(${g}, 0)`:`translate(0, ${g})`),ie});this.vel.empty().append(P),this._prevItems=h}let I=h.length,x=I===0?0:I*l+(I-1)*o,S=u?{width:x,height:a.height}:{width:a.width,height:x};this.position(n,S)},position(e,t){let{vel:n,options:r}=this,{margin:i=5,position:o="top-left"}=r,{width:s,height:a}=e.size(),{left:u,right:l,top:h,bottom:f}=Ar(i),y=new fe(u,h,s-(u+l),a-(h+f)),{x:I,y:x}=fl(y,o);switch(o){case Xt.CENTER:case Xt.TOP:case Xt.BOTTOM:{I-=t.width/2;break}case Xt.RIGHT:case Xt.BOTTOM_RIGHT:case Xt.TOP_RIGHT:{I-=t.width;break}}switch(o){case Xt.CENTER:case Xt.RIGHT:case Xt.LEFT:{x-=t.height/2;break}case Xt.BOTTOM:case Xt.BOTTOM_RIGHT:case Xt.BOTTOM_LEFT:{x-=t.height;break}}n.attr("transform",`translate(${I}, ${x})`)}},{Directions:O0,Positions:Xt});var Cp={};Ht(Cp,{connectionClosest:()=>WN,connectionLength:()=>RB,connectionPerpendicular:()=>_B,connectionRatio:()=>OB,resolveRef:()=>ru});function OB(e,t,n,r){var i="ratio"in r?r.ratio:.5;return e.getPointAtRatio(i)}function RB(e,t,n,r){var i="length"in r?r.length:20;return e.getPointAtLength(i)}function LB(e,t,n,r){var i=1e6,o=e.getConnection(),s=e.getConnectionSubdivisions(),a=new ge(n.clone().offset(0,i),n.clone().offset(0,-i)),u=new ge(n.clone().offset(i,0),n.clone().offset(-i,0)),l=a.intersect(o,{segmentSubdivisions:s}),h=u.intersect(o,{segmentSubdivisions:s}),f=[];return l&&Array.prototype.push.apply(f,l),h&&Array.prototype.push.apply(f,h),f.length>0?n.chooseClosest(f):"fallbackAt"in r?ZN(e,r.fallbackAt):WN(e,t,n,r)}function kB(e,t,n,r){var i=e.getClosestPoint(n);return i||new k}function ru(e){return function(t,n,r,i){if(r instanceof Element){var o=this.paper.findView(r),s;if(o)if(o.isNodeConnection(r)){var a="fixedAt"in i?i.fixedAt:"50%";s=ZN(o,a)}else s=o.getNodeBBox(r).center();else s=new k;return e.call(this,t,n,s,i)}return e.apply(this,arguments)}}function ZN(e,t){var n=parseFloat(t);return nn(t)?e.getPointAtRatio(n/100):e.getPointAtLength(n)}var _B=ru(LB),WN=ru(kB);var Ap={};Ht(Ap,{anchor:()=>UB,bbox:()=>VB,boundary:()=>WB,rectangle:()=>ZB});function wp(e,t,n){if(At(n)){let{x:i,y:o}=n;if(isFinite(o)){let s=new ge(t,e),{start:a,end:u}=s.parallel(o);t=a,e=u}n=i}if(!isFinite(n))return e;var r=e.distance(t);return n===0&&r>0?e:e.move(t,-Math.min(n,r-1))}function k0(e){var t=e.getAttribute("stroke-width");return t===null?0:parseFloat(t)||0}function FB(e,t,n=0){let r,i,o,s,{start:a,end:u}=e;switch(t){case"left":r="x",i=u,o=a,s=-1;break;case"right":r="x",i=a,o=u,s=1;break;case"top":r="y",i=u,o=a,s=-1;break;case"bottom":r="y",i=a,o=u,s=1;break;default:return}a[r]<u[r]?i[r]=o[r]:o[r]=i[r],isFinite(n)&&(i[r]+=s*n,o[r]+=s*n)}function jB(e,t,n,r){let{offset:i,alignOffset:o,align:s}=r;return s&&FB(e,s,o),wp(e.end,e.start,i)}function HN(e,t,n,r){var i=t.getNodeBBox(n);r.stroke&&i.inflate(k0(n)/2);var o=e.intersect(i),s=o?e.start.chooseClosest(o):e.end;return wp(s,e.start,r.offset)}function BB(e,t,n,r){var i=t.model.angle();if(i===0)return HN(e,t,n,r);var o=t.getNodeUnrotatedBBox(n);r.stroke&&o.inflate(k0(n)/2);var s=o.center(),a=e.clone().rotate(s,i),u=a.setLength(1e6).intersect(o),l=u?a.start.chooseClosest(u).rotate(s,-i):e.end;return wp(l,e.start,r.offset)}function zB(e){if(!e)return null;var t=e;do{var n=t.tagName;if(typeof n!="string")return null;if(n=n.toUpperCase(),n==="G")t=t.firstElementChild;else if(n==="TITLE")t=t.nextElementSibling;else break}while(t);return t}var R0="segmentSubdivisons",L0="shapeBBox";function GB(e,t,n,r){var i,o,s=r.selector,a=e.end;if(typeof s=="string"?i=t.findBySelector(s)[0]:s===!1?i=n:Array.isArray(s)?i=ji(n,s):i=zB(n),!ee.isSVGGraphicsElement(i)){if(i===n||!ee.isSVGGraphicsElement(n))return a;i=n}var u=t.getNodeShape(i),l=t.getNodeMatrix(i),h=t.getRootTranslateMatrix(),f=t.getRootRotateMatrix(),y=h.multiply(f).multiply(l),I=y.inverse(),x=ee.transformLine(e,I),S=x.start.clone(),N=t.getNodeData(i);if(r.insideout===!1){N[L0]||(N[L0]=u.bbox());var P=N[L0];if(P.containsPoint(S))return a}var U;if(u instanceof be){var H=r.precision||2;N[R0]||(N[R0]=u.getSegmentSubdivisions({precision:H})),U={precision:H,segmentSubdivisions:N[R0]}}r.extrapolate===!0&&x.setLength(1e6),o=x.intersect(u,U),o?ee.isArray(o)&&(o=S.chooseClosest(o)):r.sticky===!0&&(u instanceof fe?o=u.pointNearestToPoint(S):u instanceof un?o=u.intersectionWithLineFromCenterToPoint(S):o=u.closestPoint(S,U));var J=o?ee.transformPoint(o,y):a,ie=r.offset||0;return r.stroke&&(ie+=k0(i)/2),wp(J,e.start,ie)}var UB=jB,VB=HN,ZB=BB,WB=GB;var bp={};Ht(bp,{bottom:()=>qB,bottomLeft:()=>nz,bottomRight:()=>rz,center:()=>XB,left:()=>QB,midSide:()=>oz,modelCenter:()=>sz,perpendicular:()=>iz,right:()=>KB,top:()=>JB,topLeft:()=>ez,topRight:()=>tz});function Bi(e){return function(t,n,r,i){var o=!!i.rotate,s=o?t.getNodeUnrotatedBBox(n):t.getNodeBBox(n),a=s[e](),u=i.dx;if(u){var l=nn(u);u=parseFloat(u),isFinite(u)&&(l&&(u/=100,u*=s.width),a.x+=u)}var h=i.dy;if(h){var f=nn(h);h=parseFloat(h),isFinite(h)&&(f&&(h/=100,h*=s.height),a.y+=h)}return o?a.rotate(t.model.getBBox().center(),-t.model.angle()):a}}function HB(e,t,n,r){var i=e.model.angle(),o=e.getNodeBBox(t),s=o.center(),a=o.origin(),u=o.corner(),l=r.padding;if(isFinite(l)||(l=0),a.y+l<=n.y&&n.y<=u.y-l){var h=n.y-s.y;s.x+=i===0||i===180?0:h*1/Math.tan(qt(i)),s.y+=h}else if(a.x+l<=n.x&&n.x<=u.x-l){var f=n.x-s.x;s.y+=i===90||i===270?0:f*Math.tan(qt(i)),s.x+=f}return s}function YB(e,t,n,r){var i=!!r.rotate,o,s,a;i?(o=e.getNodeUnrotatedBBox(t),a=e.model.getBBox().center(),s=e.model.angle()):o=e.getNodeBBox(t);var u=r.padding;isFinite(u)&&o.inflate(u),i&&n.rotate(a,s);var l=o.sideNearestToPoint(n),h;switch(l){case"left":h=o.leftMiddle();break;case"right":h=o.rightMiddle();break;case"top":h=o.topMiddle();break;case"bottom":h=o.bottomMiddle();break}return i?h.rotate(a,-s):h}function $B(e,t,n,r,i){return e.model.getPointFromConnectedLink(this.model,i).offset(r.dx,r.dy)}var XB=Bi("center"),JB=Bi("topMiddle"),qB=Bi("bottomMiddle"),QB=Bi("leftMiddle"),KB=Bi("rightMiddle"),ez=Bi("origin"),tz=Bi("topRight"),nz=Bi("bottomLeft"),rz=Bi("corner"),iz=ru(HB),oz=ru(YB),sz=$B;var Gr=ci(vo(),1),JN=ci(Wc(),1),iu={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},az=50,YN=20,$N=1e3,uz=1/0,xp=9007199254740991,_0=Ze.Highlighting,XN={[_0.DEFAULT]:{name:"stroke",options:{padding:3}},[_0.MAGNET_AVAILABILITY]:{name:"addClass",options:{className:"available-magnet"}},[_0.ELEMENT_AVAILABILITY]:{name:"addClass",options:{className:"available-cell"}}},cz=[{name:Wn.BACK},{name:Wn.CELLS},{name:Wn.LABELS},{name:Wn.FRONT},{name:Wn.TOOLS}],lz=or.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,drawGridSize:null,background:!1,perpendicularLinks:!1,elementView:Vt,linkView:bs,snapLabels:!1,snapLinks:!1,snapLinksSelf:!1,labelsLayer:!1,multiLinks:!0,guard:function(e,t){return!1},highlighting:XN,preventContextMenu:!0,preventDefaultBlankAction:!0,preventDefaultViewAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new bt,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"bbox"},connectionStrategy:null,validateMagnet:function(e,t,n){return t.getAttribute("magnet")!=="passive"},validateConnection:function(e,t,n,r,i,o){return(i==="target"?n:e)instanceof Vt},embeddingMode:!1,validateEmbedding:function(e,t){return!0},validateUnembedding:function(e){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:iu.EXACT,frozen:!1,autoFreeze:!1,onViewUpdate:function(e,t,n,r,i){t&(e.FLAG_INSERT|e.FLAG_REMOVE)||r.mounting||r.isolate||i.requestConnectedLinksUpdate(e,n,r)},onViewPostponed:function(e,t,n){return n.forcePostponedViewUpdate(e,t)},beforeRender:null,afterRender:null,viewport:null,cellViewNamespace:null,routerNamespace:null,connectorNamespace:null,highlighterNamespace:Ip,anchorNamespace:bp,linkAnchorNamespace:Cp,connectionPointNamespace:Ap,overflow:!1},events:{dblclick:"pointerdblclick",dbltap:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",wheel:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},svg:null,viewport:null,defs:null,tools:null,$background:null,layers:null,$grid:null,$document:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,_layers:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],FORM_CONTROL_TAG_NAMES:["TEXTAREA","INPUT","BUTTON","SELECT","OPTION"],GUARDED_TAG_NAMES:["SELECT"],MIN_SCALE:1e-6,init:function(){let{options:e,el:t}=this;e.cellViewNamespace||(e.cellViewNamespace=typeof joint<"u"&&ir(joint,"shapes")?joint.shapes:null);let n=this.model=e.model||new ip;this._layers={},this.setGrid(e.drawGrid),this.cloneOptions(),this.render(),this._setDimensions(),this.startListening(),this._views={},this._mw_evt_buffer={event:null,deltas:[]},this.$document=(0,Gr.default)(t.ownerDocument),this.resetViews(n.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1,disabled:!1,idle:!1}},startListening:function(){var e=this.model;this.listenTo(e,"add",this.onCellAdded).listenTo(e,"remove",this.onCellRemoved).listenTo(e,"change",this.onCellChange).listenTo(e,"reset",this.onGraphReset).listenTo(e,"sort",this.onGraphSort).listenTo(e,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("scale translate",this.update)},onCellAdded:function(e,t,n){var r=n.position;this.isAsync()||!cn(r)?this.renderView(e,n):(n.maxPosition===r&&this.freeze({key:"addCells"}),this.renderView(e,n),r===0&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(e,t,n){let r=this.findViewByModel(e);r&&this.requestViewUpdate(r,r.FLAG_REMOVE,r.UPDATE_PRIORITY,n)},onCellChange:function(e,t){if(e!==this.model.attributes.cells&&e.hasChanged("z")&&this.options.sorting===iu.APPROX){let n=this.findViewByModel(e);n&&this.requestViewUpdate(n,n.FLAG_INSERT,n.UPDATE_PRIORITY,t)}},onGraphReset:function(e,t){this.resetLayers(),this.resetViews(e.models,t)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(e){if(!this.isFrozen()){var t=e&&e.batchName,n=this.model;if(!this.isAsync()){var r=this.UPDATE_DELAYING_BATCHES;r.includes(t)&&!n.hasActiveBatch(r)&&this.updateViews(e)}var i=this.SORT_DELAYING_BATCHES;i.includes(t)&&!n.hasActiveBatch(i)&&this.sortViews()}},cloneOptions:function(){let{options:e}=this,{defaultConnector:t,defaultRouter:n,defaultConnectionPoint:r,defaultAnchor:i,defaultLinkAnchor:o,origin:s,highlighting:a,cellViewNamespace:u,interactive:l}=e;!u&&typeof joint<"u"&&ir(joint,"shapes")&&(e.cellViewNamespace=joint.shapes),ct(t)||(e.defaultConnector=Pn(t)),ct(n)||(e.defaultRouter=Pn(n)),ct(r)||(e.defaultConnectionPoint=Pn(r)),ct(i)||(e.defaultAnchor=Pn(i)),ct(o)||(e.defaultLinkAnchor=Pn(o)),At(l)&&(e.interactive=Ce({},l)),At(a)&&(e.highlighting=ys({},a,XN)),e.origin=Ce({},s)},children:function(){var e=ee.namespace;return[{namespaceURI:e.xhtml,tagName:"div",className:Tn("paper-background"),selector:"background"},{namespaceURI:e.xhtml,tagName:"div",className:Tn("paper-grid"),selector:"grid"},{namespaceURI:e.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":e.xlink},selector:"svg",children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:Tn("layers"),selector:"layers"}]}]},hasLayerView(e){return e in this._layers},getLayerView(e){let{_layers:t}=this;if(e in t)return t[e];throw new Error(`dia.Paper: Unknown layer "${e}"`)},getLayerNode(e){return this.getLayerView(e).el},render:function(){this.renderChildren();let{childNodes:e,options:t}=this,{svg:n,defs:r,layers:i,background:o,grid:s}=e;return n.style.overflow=t.overflow?"visible":"hidden",this.svg=n,this.defs=r,this.layers=i,this.$background=(0,Gr.default)(o),this.$grid=(0,Gr.default)(s),this.renderLayers(),ee.ensureId(n),t.background&&this.drawBackground(t.background),t.drawGrid&&this.drawGrid(),this},renderLayers:function(e=cz){this.removeLayers(),e.forEach(({name:i,sorted:o})=>{let s=new I0({name:i});this.layers.appendChild(s.el),this._layers[i]=s});let t=this.getLayerView(Wn.CELLS),n=this.getLayerView(Wn.TOOLS),r=this.getLayerView(Wn.LABELS);this.tools=n.el,this.cells=this.viewport=t.el,t.vel.addClass(Tn("viewport")),r.vel.addClass(Tn("viewport"))},removeLayers:function(){let{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].remove(),delete e[t]})},resetLayers:function(){let{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].removePivots()})},update:function(){return this.options.drawGrid&&this.drawGrid(),this._background&&this.updateBackgroundImage(this._background),this},matrix:function(e){var t=this.layers;if(e===void 0){var n=t.getAttribute("transform");return(this._viewportTransformString||null)===n?e=this._viewportMatrix:(e=t.getCTM(),this._viewportMatrix=e,this._viewportTransformString=n),ee.createSVGMatrix(e)}e=ee.createSVGMatrix(e);var r=ee.matrixToTransformString(e);return t.setAttribute("transform",r),this._viewportMatrix=e,this._viewportTransformString=t.getAttribute("transform"),this},clientMatrix:function(){return ee.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(e,t,n){if(e instanceof Ze)for(var r=e.model,i=this.model.getConnectedLinks(r),o=0,s=i.length;o<s;o++){var a=i[o],u=this.findViewByModel(a);if(u){var l=["UPDATE"];a.getTargetCell()===r&&l.push("TARGET"),a.getSourceCell()===r&&l.push("SOURCE");var h=Math.max(t+1,u.UPDATE_PRIORITY);this.scheduleViewUpdate(u,u.getFlag(l),h,n)}}},forcePostponedViewUpdate:function(e,t){if(!e||!(e instanceof Ze))return!1;var n=e.model;if(n.isElement())return!1;if(!(t&e.getFlag(["SOURCE","TARGET"]))){var r={silent:!0},i=0,o=this.findViewByModel(n.getSourceCell());o&&!this.isViewMounted(o)&&(i=this.dumpView(o,r),e.updateEndMagnet("source"));var s=0,a=this.findViewByModel(n.getTargetCell());if(a&&!this.isViewMounted(a)&&(s=this.dumpView(a,r),e.updateEndMagnet("target")),i===0&&s===0)return!this.dumpView(e,r)}return!1},requestViewUpdate:function(e,t,n,r){r||(r={}),this.scheduleViewUpdate(e,t,n,r);var i=this.isAsync();if(!(this.isFrozen()||i&&r.async!==!1)&&!this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES)){var o=this.updateViews(r);i&&this.notifyAfterRender(o,r)}},scheduleViewUpdate:function(e,t,n,r){let{_updates:i,options:o}=this;i.idle&&o.autoFreeze&&(i.idle=!1,this.unfreeze());let{FLAG_REMOVE:s,FLAG_INSERT:a,UPDATE_PRIORITY:u,cid:l}=e,h=i.priorities[n];if(h||(h=i.priorities[n]={}),n>u)for(let I=n-1;I>=u;I--){let x=i.priorities[I];!x||!(l in x)||(h[l]|=x[l],delete x[l])}let f=h[l]||0;if((f&t)===t)return;f||i.count++,t&s&&f&a?h[l]^=a:t&a&&f&s&&(h[l]^=s),h[l]|=t;let y=o.onViewUpdate;typeof y=="function"&&y.call(this,e,t,n,r||{},this)},dumpViewUpdate:function(e){if(!e)return 0;var t=this._updates,n=e.cid,r=t.priorities[e.UPDATE_PRIORITY],i=this.registerMountedView(e)|r[n];return delete r[n],i},dumpView:function(e,t={}){let n=this.dumpViewUpdate(e);if(!n)return 0;let r=!t.silent;r&&this.notifyBeforeRender(t);let i=this.updateView(e,n,t);if(r){let o={updated:1,priority:e.UPDATE_PRIORITY};this.notifyAfterRender(o,t)}return i},updateView:function(e,t,n){if(!e)return 0;let{FLAG_REMOVE:r,FLAG_INSERT:i,FLAG_INIT:o,model:s}=e;if(e instanceof Ze){if(t&r)return this.removeView(s),0;if(t&i){let a=!!(t&o);a&&(t^=o),this.insertView(e,a),t^=i}}return t?e.confirmUpdate(t,n||{}):0},requireView:function(e,t){var n=this.findViewByModel(e);return n?(this.dumpView(n,t),n):null},registerUnmountedView:function(e){var t=e.cid,n=this._updates;if(t in n.unmounted)return 0;var r=n.unmounted[t]|=e.FLAG_INSERT;return n.unmountedCids.push(t),delete n.mounted[t],r},registerMountedView:function(e){var t=e.cid,n=this._updates;if(t in n.mounted)return 0;n.mounted[t]=!0,n.mountedCids.push(t);var r=n.unmounted[t]||0;return delete n.unmounted[t],r},isViewMounted:function(e){if(!e)return!1;var t=e.cid,n=this._updates;return t in n.mounted},dumpViews:function(e){var t=Mn({},e,{viewport:null});this.checkViewport(t),this.updateViews(t)},updateViews:function(e){this.notifyBeforeRender(e);let t,n=0,r=0,i=xp;do r++,t=this.updateViewsBatch(e),n+=t.updated,i=Math.min(t.priority,i);while(!t.empty);let o={updated:n,batches:r,priority:i};return this.notifyAfterRender(o,e),o},hasScheduledUpdates:function(){let e=this._updates.priorities,t=Object.keys(e),n=t.length;for(;n>0&&n--;)for(let r in e[t[n]])return!0;return!1},updateViewsAsync:function(e,t){e||(e={}),t||(t={processed:0,priority:xp});let{_updates:n,options:r}=this,i=n.id;if(i){ul(i),t.processed===0&&this.hasScheduledUpdates()&&this.notifyBeforeRender(e);let o=this.updateViewsBatch(e),s=Mn({},e,{mountBatchSize:$N-o.mounted,unmountBatchSize:$N-o.unmounted}),a=this.checkViewport(s),u=a.unmounted,l=a.mounted,h=t.processed,f=n.count;o.updated>0?(h+=o.updated+o.unmounted,o.processed=h,t.priority=Math.min(o.priority,t.priority),o.empty&&l===0?(o.unmounted+=u,o.mounted+=l,o.priority=t.priority,this.notifyAfterRender(o,e),t.processed=0,t.priority=xp,n.count=0):t.processed=h):n.idle||r.autoFreeze&&(this.freeze(),n.idle=!0,this.trigger("render:idle",e));let y=e.progress;if(f&&typeof y=="function"&&y.call(this,o.empty,h,f,o,this),n.id!==i)return}if(n.disabled)throw new Error("dia.Paper: can not unfreeze the paper after it was removed");n.id=al(this.updateViewsAsync,this,e,t)},notifyBeforeRender:function(e={}){let t=e.beforeRender;typeof t!="function"&&(t=this.options.beforeRender,typeof t!="function")||t.call(this,e,this)},notifyAfterRender:function(e,t={}){let n=t.afterRender;typeof n!="function"&&(n=this.options.afterRender),typeof n=="function"&&n.call(this,e,t,this),this.trigger("render:done",e,t)},updateViewsBatch:function(e){e||(e={});var t=e.batchSize||uz,n=this._updates,r=0,i=0,o=0,s=0,a=xp,u=!0,l=this.options,h=n.priorities,f="viewport"in e?e.viewport:l.viewport;typeof f!="function"&&(f=null);var y=l.onViewPostponed;typeof y!="function"&&(y=null);var I=Object.keys(h);e:for(var x=0,S=I.length;x<S;x++){var N=+I[x],P=h[N];for(var U in P){if(r>=t){u=!1;break e}var H=xo[U];if(!H){delete P[U];continue}var J=P[U];if(!(J&H.FLAG_REMOVE)){var ie=U in n.unmounted;if(H.DETACHABLE&&f&&!f.call(this,H,!ie,this)){ie||(this.registerUnmountedView(H),this.detachView(H)),n.unmounted[U]|=J,delete P[U],o++;continue}ie&&(J|=H.FLAG_INSERT,s++),J|=this.registerMountedView(H)}var g=this.updateView(H,J,e);if(g>0&&(P[U]=g,!y||!y.call(this,H,g,this)||P[U])){i++,u=!1;continue}a>N&&(a=N),r++,delete P[U]}}return{priority:a,updated:r,postponed:i,unmounted:o,mounted:s,empty:u}},getUnmountedViews:function(){let e=this._updates,t=Object.keys(e.unmounted),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=xo[t[i]];return r},getMountedViews:function(){let e=this._updates,t=Object.keys(e.mounted),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=xo[t[i]];return r},checkUnmountedViews:function(e,t){t||(t={});var n=0;typeof e!="function"&&(e=null);for(var r=("mountBatchSize"in t)?t.mountBatchSize:1/0,i=this._updates,o=i.unmountedCids,s=i.unmounted,a=0,u=Math.min(o.length,r);a<u;a++){var l=o[a];if(l in s){var h=xo[l];if(h){if(h.DETACHABLE&&e&&!e.call(this,h,!1,this)){o.push(l);continue}n++;var f=this.registerMountedView(h);f&&this.scheduleViewUpdate(h,f,h.UPDATE_PRIORITY,{mounting:!0})}}}return o.splice(0,a),n},checkMountedViews:function(e,t){t||(t={});var n=0;if(typeof e!="function")return n;for(var r=("unmountBatchSize"in t)?t.unmountBatchSize:1/0,i=this._updates,o=i.mountedCids,s=i.mounted,a=0,u=Math.min(o.length,r);a<u;a++){var l=o[a];if(l in s){var h=xo[l];if(h){if(!h.DETACHABLE||e.call(this,h,!0,this)){o.push(l);continue}n++;var f=this.registerUnmountedView(h);f&&this.detachView(h)}}}return o.splice(0,a),n},checkViewVisibility:function(e,t={}){let n="viewport"in t?t.viewport:this.options.viewport;typeof n!="function"&&(n=null);let r=this._updates,{mounted:i,unmounted:o}=r,s=!e.DETACHABLE||!n||n.call(this,e,!1,this),a=!1,u=!1;if(e.cid in i&&!s){this.registerUnmountedView(e)&&this.detachView(e);let f=r.mountedCids.indexOf(e.cid);r.mountedCids.splice(f,1),a=!0}if(!a&&e.cid in o&&s){let h=r.unmountedCids.indexOf(e.cid);r.unmountedCids.splice(h,1);var l=this.registerMountedView(e);l&&this.scheduleViewUpdate(e,l,e.UPDATE_PRIORITY,{mounting:!0}),u=!0}return{mounted:u?1:0,unmounted:a?1:0}},checkViewport:function(e){var t=Mn({},e,{mountBatchSize:1/0,unmountBatchSize:1/0}),n="viewport"in t?t.viewport:this.options.viewport,r=this.checkMountedViews(n,t);if(r>0){var i=this._updates.unmountedCids;t.mountBatchSize=Math.min(i.length-r,t.mountBatchSize)}var o=this.checkUnmountedViews(n,t);return{mounted:o,unmounted:r}},freeze:function(e){e||(e={});var t=this._updates,n=e.key,r=this.options.frozen,i=t.freezeKey;if(n&&n!==i){if(r&&i)return;t.freezeKey=n,t.keyFrozen=r}this.options.frozen=!0;var o=t.id;t.id=null,this.isAsync()&&o&&ul(o)},unfreeze:function(e){e||(e={});var t=this._updates,n=e.key,r=t.freezeKey;n&&r&&n!==r||(t.freezeKey=null,!(n&&n===r&&t.keyFrozen)&&(this.isAsync()?(this.freeze(),this.updateViewsAsync(e)):this.updateViews(e),this.options.frozen=t.keyFrozen=!1,t.sort&&(this.sortViews(),t.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===iu.EXACT},onRemove:function(){this.freeze(),this._updates.disabled=!0,this.removeLayers(),this.removeViews()},getComputedSize:function(){var e=this.options,t=e.width,n=e.height;return cn(t)||(t=this.el.clientWidth),cn(n)||(n=this.el.clientHeight),{width:t,height:n}},setDimensions:function(e,t){let{options:n}=this,{width:r,height:i}=n,o=e===void 0?r:e,s=t===void 0?i:t;if(r===o&&i===s)return;n.width=o,n.height=s,this._setDimensions();let a=this.getComputedSize();this.trigger("resize",a.width,a.height)},_setDimensions:function(){let{options:e}=this,t=e.width,n=e.height;cn(t)&&(t=Math.round(t)),cn(n)&&(n=Math.round(n)),this.$el.css({width:t===null?"":t,height:n===null?"":n})},setOrigin:function(e,t){return this.translate(e||0,t||0)},fitToContent:function(e,t,n,r){$e(e)?r=e:r=Ce({gridWidth:e,gridHeight:t,padding:n},r);let{x:i,y:o,width:s,height:a}=this.getFitToContentArea(r),{sx:u,sy:l}=this.scale();return this.setOrigin(-i*u,-o*l),this.setDimensions(s*u,a*l),new fe(i,o,s,a)},getFitToContentArea:function(e={}){let t=e.gridWidth||1,n=e.gridHeight||1,r=Ar(e.padding||0),i=Math.max(e.minWidth||0,t),o=Math.max(e.minHeight||0,n),s=e.maxWidth||Number.MAX_VALUE,a=e.maxHeight||Number.MAX_VALUE,u=e.allowNewOrigin,l="contentArea"in e?new fe(e.contentArea):this.getContentArea(e),{sx:h,sy:f}=this.scale();l.x*=h,l.y*=f,l.width*=h,l.height*=f;let y=Math.ceil((l.width+l.x)/t),I=Math.ceil((l.height+l.y)/n);e.allowNegativeBottomRight||(y=Math.max(y,1),I=Math.max(I,1)),y*=t,I*=n;let x=0;(u==="negative"&&l.x<0||u==="positive"&&l.x>=0||u==="any")&&(x=Math.ceil(-l.x/t)*t,x+=r.left,y+=x);let S=0;return(u==="negative"&&l.y<0||u==="positive"&&l.y>=0||u==="any")&&(S=Math.ceil(-l.y/n)*n,S+=r.top,I+=S),y+=r.right,I+=r.bottom,y=Math.max(y,i),I=Math.max(I,o),y=Math.min(y,s),I=Math.min(I,a),new fe(-x/h,-S/f,y/h,I/f)},transformToFitContent:function(e){e||(e={});let t,n;if("contentArea"in e){let N=e.contentArea;t=this.localToPaperRect(N),n=new k(N)}else t=this.getContentBBox(e),n=this.paperToLocalPoint(t);if(!t.width||!t.height)return;Mn(e,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE,verticalAlign:"top",horizontalAlign:"left"});let r=Ar(e.padding),i=e.minScaleX||e.minScale,o=e.maxScaleX||e.maxScale,s=e.minScaleY||e.minScale,a=e.maxScaleY||e.maxScale,u;if(e.fittingBBox)u=e.fittingBBox;else{let N=this.translate(),P=this.getComputedSize();u={x:N.tx,y:N.ty,width:P.width,height:P.height}}u=new fe(u).moveAndExpand({x:r.left,y:r.top,width:-r.left-r.right,height:-r.top-r.bottom});let l=this.scale(),h=u.width/t.width*l.sx,f=u.height/t.height*l.sy;if(e.preserveAspectRatio&&(h=f=Math.min(h,f)),e.scaleGrid){let N=e.scaleGrid;h=N*Math.floor(h/N),f=N*Math.floor(f/N)}h=Math.min(o,Math.max(i,h)),f=Math.min(a,Math.max(s,f));let y={x:h/l.sx,y:f/l.sy},I=this.options.origin,x=u.x-n.x*h-I.x,S=u.y-n.y*f-I.y;switch(e.verticalAlign){case"middle":S=S+(u.height-t.height*y.y)/2;break;case"bottom":S=S+(u.height-t.height*y.y);break;case"top":default:break}switch(e.horizontalAlign){case"middle":x=x+(u.width-t.width*y.x)/2;break;case"right":x=x+(u.width-t.width*y.x);break;case"left":default:break}this.scale(h,f),this.translate(x,S)},scaleContentToFit:function(e){this.transformToFitContent(e)},getContentArea:function(e){return e&&e.useModelGeometry?this.model.getBBox()||new fe:ee(this.cells).getBBox()},getContentBBox:function(e){return this.localToPaperRect(this.getContentArea(e))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(...e){let{restrictTranslate:t}=this.options,n;return ct(t)?n=t.apply(this,e):t===!0?n=this.getArea():t?n=new fe(t):n=null,n},createViewForModel:function(e){let{options:t}=this;var n,r,i=t.cellViewNamespace,o=e.get("type")+"View",s=ji(i,o,".");e.isLink()?(n=t.linkView,r=bs):(n=t.elementView,r=Vt);var a=n.prototype instanceof JN.default.View?s||n:n.call(this,e)||s||r;return new a({model:e,interactive:t.interactive,labelsLayer:t.labelsLayer===!0?Wn.LABELS:t.labelsLayer})},removeView:function(e){let{id:t}=e,{_views:n,_updates:r}=this,i=n[t];if(i){var{cid:o}=i;let{mounted:s,unmounted:a}=r;i.remove(),delete n[t],delete s[o],delete a[o]}return i},renderView:function(e,t){let{id:n}=e,r=this._views,i,o,s=!0;return n in r&&(i=r[n],i.model===e?(o=i.FLAG_INSERT,s=!1):this.removeView(e)),s&&(i=r[n]=this.createViewForModel(e),i.paper=this,o=this.registerUnmountedView(i)|this.FLAG_INIT|i.getFlag(Et(i,"initFlag"))),this.requestViewUpdate(i,o,i.UPDATE_PRIORITY,t),i},onImageDragStart:function(){return!1},resetViews:function(e,t){t||(t={}),e||(e=[]),this._resetUpdates(),this.removeViews();let n=this.options.autoFreeze?null:"reset";this.freeze({key:n});for(var r=0,i=e.length;r<i;r++)this.renderView(e[r],t);this.unfreeze({key:n}),this.sortViews()},removeViews:function(){Un(this._views,"remove"),this._views={}},sortViews:function(){if(this.isExactSorting()){if(this.isFrozen()){this._updates.sort=!0;return}this.sortViewsExact()}},sortViewsExact:function(){var e=(0,Gr.default)(this.cells).children("[model-id]"),t=this.model.get("cells");YS(e,function(n,r){var i=t.get(n.getAttribute("model-id")),o=t.get(r.getAttribute("model-id")),s=i.attributes.z||0,a=o.attributes.z||0;return s===a?0:s<a?-1:1})},insertView:function(e,t){let n=this.getLayerView(Wn.CELLS),{el:r,model:i}=e;switch(this.options.sorting){case iu.APPROX:n.insertSortedNode(r,i.get("z"));break;case iu.EXACT:default:n.insertNode(r);break}e.onMount(t)},detachView(e){e.unmount(),e.onDetach()},scale:function(e,t,n,r){if(e===void 0)return ee.matrixToScale(this.matrix());t===void 0&&(t=e),n===void 0&&(n=0,r=0);var i=this.translate();if(n||r||i.tx||i.ty){var o=i.tx-n*(e-1),s=i.ty-r*(t-1);this.translate(o,s)}e=Math.max(e||0,this.MIN_SCALE),t=Math.max(t||0,this.MIN_SCALE);var a=this.matrix();return a.a=e,a.d=t,this.matrix(a),this.trigger("scale",e,t,n,r),this},rotate:function(e,t,n){if(e===void 0)return ee.matrixToRotate(this.matrix());if(t===void 0){var r=this.cells.getBBox();t=r.width/2,n=r.height/2}var i=this.matrix().translate(t,n).rotate(e).translate(-t,-n);return this.matrix(i),this},translate:function(e,t){if(e===void 0)return ee.matrixToTranslate(this.matrix());let{options:n}=this,{origin:r,drawGrid:i}=n;e||(e=0),t||(t=0);let o=this.matrix();if(o.e===e&&o.f===t)return this;o.e=e,o.f=t,this.matrix(o);let{tx:s,ty:a}=this.translate();return r.x=s,r.y=a,this.trigger("translate",s,a),i&&this.drawGrid(),this},findView:function(e){var t=Yt(e)?this.cells.querySelector(e):e instanceof Gr.default?e[0]:e,n=this.findAttribute("model-id",t);if(n)return this._views[n]},findViewByModel:function(e){var t=Yt(e)||cn(e)?e:e&&e.id;return this._views[t]},findViewsFromPoint:function(e){e=new k(e);var t=this.model.getElements().map(this.findViewByModel,this);return t.filter(function(n){return n&&n.vel.getBBox({target:this.cells}).containsPoint(e)},this)},findViewsInArea:function(e,t){t=Mn(t||{},{strict:!1}),e=new fe(e);var n=this.model.getElements().map(this.findViewByModel,this),r=t.strict?"containsRect":"intersect";return n.filter(function(i){return i&&e[r](i.vel.getBBox({target:this.cells}))},this)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(e,...t){typeof e=="string"&&this.trigger("tools:event",e,...t)},getModelById:function(e){return this.model.getCell(e)},snapToGrid:function(e,t){return this.clientToLocalPoint(e,t).snapToGrid(this.options.gridSize)},localToPaperPoint:function(e,t){var n=new k(e,t),r=ee.transformPoint(n,this.matrix());return r},localToPaperRect:function(e,t,n,r){var i=new fe(e,t,n,r),o=ee.transformRect(i,this.matrix());return o},paperToLocalPoint:function(e,t){var n=new k(e,t),r=ee.transformPoint(n,this.matrix().inverse());return r},paperToLocalRect:function(e,t,n,r){var i=new fe(e,t,n,r),o=ee.transformRect(i,this.matrix().inverse());return o},localToClientPoint:function(e,t){var n=new k(e,t),r=ee.transformPoint(n,this.clientMatrix());return r},localToClientRect:function(e,t,n,r){var i=new fe(e,t,n,r),o=ee.transformRect(i,this.clientMatrix());return o},clientToLocalPoint:function(e,t){var n=new k(e,t),r=ee.transformPoint(n,this.clientMatrix().inverse());return r},clientToLocalRect:function(e,t,n,r){var i=new fe(e,t,n,r),o=ee.transformRect(i,this.clientMatrix().inverse());return o},localToPagePoint:function(e,t){return this.localToPaperPoint(e,t).offset(this.pageOffset())},localToPageRect:function(e,t,n,r){return this.localToPaperRect(e,t,n,r).offset(this.pageOffset())},pageToLocalPoint:function(e,t){var n=new k(e,t),r=n.difference(this.pageOffset());return this.paperToLocalPoint(r)},pageToLocalRect:function(e,t,n,r){var i=this.pageOffset(),o=new fe(e,t,n,r);return o.x-=i.x,o.y-=i.y,this.paperToLocalRect(o)},clientOffset:function(){var e=this.svg.getBoundingClientRect();return new k(e.left,e.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(e){if(!(e instanceof bs))throw new Error("Must provide a linkView.");var t=e.model,n=this.options,r=this.model,i=r.constructor.validations;return!(!n.multiLinks&&!i.multiLinks.call(this,r,t)||!n.linkPinning&&!i.linkPinning.call(this,r,t)||typeof n.allowLink=="function"&&!n.allowLink.call(this,e,this))},getDefaultLink:function(e,t){return ct(this.options.defaultLink)?this.options.defaultLink.call(this,e,t):this.options.defaultLink.clone()},resolveHighlighter:function(e={}){let{highlighter:t,type:n}=e,{highlighting:r,highlighterNamespace:i}=this.options;if(t===void 0){if(!r||n&&(t=r[n],t===!1))return!1;t||(t=r.default)}if(!t)return!1;Yt(t)&&(t={name:t});let o=t.name,s=i[o];if(!s)throw new Error('Unknown highlighter ("'+o+'")');if(typeof s.highlight!="function")throw new Error('Highlighter ("'+o+'") is missing required highlight() method');if(typeof s.unhighlight!="function")throw new Error('Highlighter ("'+o+'") is missing required unhighlight() method');return{highlighter:s,options:t.options||{},name:o}},onCellHighlight:function(e,t,n){let r=this.resolveHighlighter(n);if(!r)return;let{highlighter:i,options:o}=r;i.highlight(e,t,o)},onCellUnhighlight:function(e,t,n){let r=this.resolveHighlighter(n);if(!r)return;let{highlighter:i,options:o}=r;i.unhighlight(e,t,o)},pointerdblclick:function(e){e.preventDefault(),e=gn(e);var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.snapToGrid(e.clientX,e.clientY);t?t.pointerdblclick(e,n.x,n.y):this.trigger("blank:pointerdblclick",e,n.x,n.y)}},pointerclick:function(e){var t=this.eventData(e);if(t.mousemoved<=this.options.clickThreshold){e=gn(e);var n=this.findView(e.target);if(this.guard(e,n))return;var r=this.snapToGrid(e.clientX,e.clientY);n?n.pointerclick(e,r.x,r.y):this.trigger("blank:pointerclick",e,r.x,r.y)}},contextmenu:function(e){if(this.options.preventContextMenu&&e.preventDefault(),this.contextMenuFired){this.contextMenuFired=!1;return}e=gn(e),this.contextMenuTrigger(e)},contextMenuTrigger:function(e){var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.snapToGrid(e.clientX,e.clientY);t?t.contextmenu(e,n.x,n.y):this.trigger("blank:contextmenu",e,n.x,n.y)}},pointerdown:function(e){e=gn(e);let{target:t,button:n}=e,r=this.findView(t),i=n===2;if(r){if(!i&&this.guard(e,r))return;let o=this.FORM_CONTROL_TAG_NAMES.includes(t.tagName);this.options.preventDefaultViewAction&&!o&&e.preventDefault(),o&&r.preventDefaultInteraction(e);let s=this.customEventTrigger(e,r);if(s){if(s.isPropagationStopped())return;e.data=s.data}let a=t.closest("[magnet]");if(a&&r.el!==a&&r.el.contains(a)){let u=gn(Gr.default.Event(e.originalEvent,{data:e.data,currentTarget:a}));if(this.onmagnet(u),u.isDefaultPrevented()&&e.preventDefault(),u.isPropagationStopped()){if(i)return;this.delegateDragEvents(r,u.data);return}e.data=u.data}}if(i){this.contextMenuFired=!0;let o=Gr.default.Event(e.originalEvent,{type:"contextmenu",data:e.data});this.contextMenuTrigger(o)}else{let o=this.snapToGrid(e.clientX,e.clientY);r?r.pointerdown(e,o.x,o.y):(this.options.preventDefaultBlankAction&&e.preventDefault(),this.trigger("blank:pointerdown",e,o.x,o.y)),this.delegateDragEvents(r,e.data)}},pointermove:function(e){var t=this.eventData(e);t.mousemoved||(t.mousemoved=0,this.undelegateEvents());var n=++t.mousemoved;if(!(n<=this.options.moveThreshold)){e=gn(e);var r=this.snapToGrid(e.clientX,e.clientY),i=t.sourceView;i?i.pointermove(e,r.x,r.y):this.trigger("blank:pointermove",e,r.x,r.y),this.eventData(e,t)}},pointerup:function(e){this.undelegateDocumentEvents();var t=gn(e),n=this.snapToGrid(t.clientX,t.clientY),r=this.eventData(e).sourceView;r?r.pointerup(t,n.x,n.y):this.trigger("blank:pointerup",t,n.x,n.y),t.isPropagationStopped()||this.pointerclick(Gr.default.Event(e.originalEvent,{type:"click",data:e.data})),this.delegateEvents()},mouseover:function(e){e=gn(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseover(e);else{if(this.el===e.target)return;this.trigger("blank:mouseover",e)}},mouseout:function(e){e=gn(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseout(e);else{if(this.el===e.target)return;this.trigger("blank:mouseout",e)}},mouseenter:function(e){e=gn(e);let{target:t,relatedTarget:n,currentTarget:r}=e,i=this.findView(t);if(this.guard(e,i))return;let o=this.findView(n);i&&(o===i||(i.mouseenter(e),this.el.contains(n)))||o||r===this.el&&this.trigger("paper:mouseenter",e)},mouseleave:function(e){e=gn(e);let{target:t,relatedTarget:n,currentTarget:r}=e,i=this.findView(t);if(this.guard(e,i))return;let o=this.findView(n);i&&(o===i||(i.mouseleave(e),this.el.contains(n)))||o||r===this.el&&this.trigger("paper:mouseleave",e)},_processMouseWheelEvtBuf:a0(function(){let{event:e,deltas:t}=this._mw_evt_buffer,n=t.reduce((s,a)=>s+WS(a,az),0),r=Math.pow(.995,n),{x:i,y:o}=this.clientToLocalPoint(e.clientX,e.clientY);this.trigger("paper:pinch",e,i,o,r),this._mw_evt_buffer={event:null,deltas:[]}},YN,{maxWait:YN}),mousewheel:function(e){e=gn(e);let t=this.findView(e.target);if(this.guard(e,t))return;let n=e.originalEvent,r=this.snapToGrid(n.clientX,n.clientY),{deltaX:i,deltaY:o}=ZS(n),s=this._events["paper:pinch"];if(e.ctrlKey&&s&&s.length>0)n.preventDefault(),this._mw_evt_buffer.event=n,this._mw_evt_buffer.deltas.push(o),this._processMouseWheelEvtBuf();else{let a=Math.max(-1,Math.min(1,n.wheelDelta));t?t.mousewheel(e,r.x,r.y,a):this.trigger("blank:mousewheel",e,r.x,r.y,a),this.trigger("paper:pan",e,i,o)}},onevent:function(e){var t=e.currentTarget,n=t.getAttribute("event");if(n){var r=this.findView(t);if(r){if(e=gn(e),this.guard(e,r))return;var i=this.snapToGrid(e.clientX,e.clientY);r.onevent(e,n,i.x,i.y)}}},magnetEvent:function(e,t){var n=e.currentTarget,r=n.getAttribute("magnet");if(r){var i=this.findView(n);if(i){if(e=gn(e),this.guard(e,i))return;var o=this.snapToGrid(e.clientX,e.clientY);t.call(this,i,e,n,o.x,o.y)}}},onmagnet:function(e){if(e.button===2){this.contextMenuFired=!0,this.magnetContextMenuFired=!0;let t=Gr.default.Event(e.originalEvent,{type:"contextmenu",data:e.data,currentTarget:e.currentTarget});this.magnetContextMenuTrigger(t),t.isPropagationStopped()&&e.stopPropagation()}else this.magnetEvent(e,function(t,n,r,i,o){t.onmagnet(n,i,o)})},magnetpointerdblclick:function(e){this.magnetEvent(e,function(t,n,r,i,o){t.magnetpointerdblclick(n,r,i,o)})},magnetcontextmenu:function(e){if(this.options.preventContextMenu&&e.preventDefault(),this.magnetContextMenuFired){this.magnetContextMenuFired=!1;return}this.magnetContextMenuTrigger(e)},magnetContextMenuTrigger:function(e){this.magnetEvent(e,function(t,n,r,i,o){t.magnetcontextmenu(n,r,i,o)})},onlabel:function(e){var t=e.currentTarget,n=this.findView(t);if(!n||(e=gn(e),this.guard(e,n)))return;let r=this.customEventTrigger(e,n,t);if(r){if(r.isPropagationStopped())return;e.data=r.data}var i=this.snapToGrid(e.clientX,e.clientY);n.onlabel(e,i.x,i.y)},getPointerArgs(e){let t=gn(e),{x:n,y:r}=this.snapToGrid(t.clientX,t.clientY);return[t,n,r]},delegateDragEvents:function(e,t){t||(t={}),this.eventData({data:t},{sourceView:e||null,mousemoved:0}),this.delegateDocumentEvents(null,t)},guard:function(e,t){if(e.type==="mousedown"&&e.button===2||this.options.guard&&this.options.guard(e,t))return!0;if(e.data&&e.data.guarded!==void 0)return e.data.guarded;let{target:n}=e;return this.GUARDED_TAG_NAMES.includes(n.tagName)?!0:!(t&&t.model&&t.model instanceof Rn||this.svg===n||this.el===n||Gr.default.contains(this.svg,n))},setGridSize:function(e){let{options:t}=this;return t.gridSize=e,t.drawGrid&&!t.drawGridSize&&this.drawGrid(),this},clearGrid:function(){return this.$grid&&this.$grid.css("backgroundImage","none"),this},_getGridRefs:function(){return this._gridCache||(this._gridCache={root:ee("svg",{width:"100%",height:"100%"},ee("defs")),patterns:{},add:function(e,t){ee(this.root.node.childNodes[0]).append(t),this.patterns[e]=t,this.root.append(ee("rect",{width:"100%",height:"100%",fill:"url(#"+e+")"}))},get:function(e){return this.patterns[e]},exist:function(e){return this.patterns[e]!==void 0}}),this._gridCache},setGrid:function(e){this.clearGrid(),this._gridCache=null,this._gridSettings=[];var t=Array.isArray(e)?e:[e||{}];return t.forEach(function(n){this._gridSettings.push.apply(this._gridSettings,this._resolveDrawGridOption(n))},this),this},_resolveDrawGridOption:function(e){var t=this.constructor.gridPatterns;if(Yt(e)&&Array.isArray(t[e]))return t[e].map(function(u){return Ce({},u)});var n=e||{args:[{}]},r=Array.isArray(n),i=n.name;if(!r&&!i&&!n.markup&&(i="dot"),i&&Array.isArray(t[i])){var o=t[i].map(function(u){return Ce({},u)}),s=Array.isArray(n.args)?n.args:[n.args||{}];Mn(s[0],wr(e,"args"));for(var a=0;a<s.length;a++)o[a]&&Ce(o[a],s[a]);return o}return r?n:[n]},drawGrid:function(e){let t=this.options.drawGridSize||this.options.gridSize;if(t<=1)return this.clearGrid();var n=Array.isArray(e)?e:[e],r=this.matrix(),i=this._getGridRefs();this._gridSettings.forEach(function(s,a){var u="pattern_"+a,l=_t(s,n[a],{sx:r.a||1,sy:r.d||1,ox:r.e||0,oy:r.f||0});l.width=t*(r.a||1)*(l.scaleFactor||1),l.height=t*(r.d||1)*(l.scaleFactor||1),i.exist(u)||i.add(u,ee("pattern",{id:u,patternUnits:"userSpaceOnUse"},ee(l.markup)));var h=i.get(u);ct(l.update)&&l.update(h.node.childNodes[0],l);var f=l.ox%l.width;f<0&&(f+=l.width);var y=l.oy%l.height;y<0&&(y+=l.height),h.attr({x:f,y,width:l.width,height:l.height})});var o=new XMLSerializer().serializeToString(i.root.node);return o="url(data:image/svg+xml;base64,"+btoa(o)+")",this.$grid.css("backgroundImage",o),this},updateBackgroundImage:function(e){e=e||{};var t=e.position||"center",n=e.size||"auto auto",r=this.scale(),i=this.translate();if($e(t)){var o=i.tx+r.sx*(t.x||0),s=i.ty+r.sy*(t.y||0);t=o+"px "+s+"px"}$e(n)&&(n=new fe(n).scale(r.sx,r.sy),n=n.width+"px "+n.height+"px"),this.$background.css({backgroundSize:n,backgroundPosition:t})},drawBackgroundImage:function(e,t){if(!(e instanceof HTMLImageElement)){this.$background.css("backgroundImage","");return}if(!(!this._background||this._background.id!==t.id)){t=t||{};var n,r=t.size,i=t.repeat||"no-repeat",o=t.opacity||1,s=Math.abs(t.quality)||1,a=this.constructor.backgroundPatterns[l0(i)];if(ct(a)){e.width*=s,e.height*=s;var u=a(e,t);if(!(u instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");n=u.toDataURL("image/png"),i="repeat",$e(r)?(r.width*=u.width/e.width,r.height*=u.height/e.height):r===void 0&&(t.size={width:u.width/s,height:u.height/s})}else n=e.src,r===void 0&&(t.size={width:e.width,height:e.height});this.$background.css({opacity:o,backgroundRepeat:i,backgroundImage:"url("+n+")"}),this.updateBackgroundImage(t)}},updateBackgroundColor:function(e){this.$el.css("backgroundColor",e||"")},drawBackground:function(e){if(e=e||{},this.updateBackgroundColor(e.color),e.image){e=this._background=Pn(e),Co(e);var t=document.createElement("img");t.onload=this.drawBackgroundImage.bind(this,t,e),t.src=e.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(e){this.options.interactive=e,Un(this._views,"setInteractivity",e)},isDefined:function(e){return!!this.svg.getElementById(e)},defineFilter:function(e){if(!$e(e))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var t=e.id,n=e.name;if(t||(t=n+this.svg.id+ol(JSON.stringify(e))),!this.isDefined(t)){var r=XS,i=r[n]&&r[n](e.args||{});if(!i)throw new Error("Non-existing filter "+n);var o=Ce({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3},e.attrs,{id:t});ee(i,o).appendTo(this.defs)}return t},defineGradient:function(e){if(!$e(e))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");let{svg:t,defs:n}=this,{type:r,id:i=r+t.id+ol(JSON.stringify(e)),stops:o,attrs:s={}}=e;if(this.isDefined(i))return i;let a=Le(o).map(({offset:l,color:h,opacity:f})=>ee("stop").attr({offset:l,"stop-color":h,"stop-opacity":Number.isFinite(f)?f:1})),u=ee(r,s,a);return u.id=i,u.appendTo(n),i},definePattern:function(e){if(!$e(e))throw new TypeError("dia.Paper: definePattern() requires 1. argument to be an object.");let{svg:t,defs:n}=this,{id:r=t.id+ol(JSON.stringify(e)),markup:i,attrs:o={}}=e;if(!i)throw new TypeError("dia.Paper: definePattern() requires markup.");if(this.isDefined(r))return r;let s=ee("pattern",{patternUnits:"userSpaceOnUse"});if(s.id=r,s.attr(o),typeof i=="string")s.append(ee(i));else{let{fragment:a}=Is(i);s.append(a)}return s.appendTo(n),r},defineMarker:function(e){if(!$e(e))throw new TypeError("dia.Paper: defineMarker() requires the first argument to be an object.");let{svg:t,defs:n}=this,{id:r=t.id+ol(JSON.stringify(e)),markup:i,attrs:o={},markerUnits:s="userSpaceOnUse"}=e;if(this.isDefined(r))return r;let a=ee("marker",{orient:"auto",overflow:"visible",markerUnits:s});a.id=r,a.attr(o);let u;if(i){let f;if(typeof i=="string")f=ee(i),f=Array.isArray(f)?f:[f];else{let{fragment:y}=Is(i);f=ee(y).children()}f.length>1?u=ee("g").append(f):u=f[0]}else{let{type:f="path"}=e;u=ee(f)}let l=wr(e,"type","id","markup","attrs","markerUnits");return Object.keys(l).forEach(f=>{let y=l[f],I=u.attr(f);if(I==null)u.attr(f,y);else switch(f){case"transform":u.attr(f,y+" "+I);break}}),u.appendTo(a),a.appendTo(n),r},customEventTrigger:function(e,t,n=t.el){let r=e.target.closest("[event]");if(r&&n!==r&&t.el.contains(r)){let i=gn(Gr.default.Event(e.originalEvent,{data:e.data,currentTarget:r}));return this.onevent(i),i.isDefaultPrevented()&&e.preventDefault(),i}return null}},{sorting:iu,Layers:Wn,backgroundPatterns:{flipXy:function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=2*n,t.height=2*r;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.setTransform(-1,0,0,-1,t.width,t.height),i.drawImage(e,0,0,n,r),i.setTransform(-1,0,0,1,t.width,0),i.drawImage(e,0,0,n,r),i.setTransform(1,0,0,-1,0,t.height),i.drawImage(e,0,0,n,r),t},flipX:function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=n*2,t.height=r;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.translate(2*n,0),i.scale(-1,1),i.drawImage(e,0,0,n,r),t},flipY:function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=n,t.height=r*2;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.translate(0,2*r),i.scale(1,-1),i.drawImage(e,0,0,n,r),t},watermark:function(e,t){t=t||{};var n=e.width,r=e.height,i=document.createElement("canvas");i.width=n*3,i.height=r*3;for(var o=i.getContext("2d"),s=cn(t.watermarkAngle)?-t.watermarkAngle:-20,a=qt(s),u=i.width/4,l=i.height/4,h=0;h<4;h++)for(var f=0;f<4;f++)(h+f)%2>0&&(o.setTransform(1,0,0,1,(2*h-1)*u,(2*f-1)*l),o.rotate(a),o.drawImage(e,-n/2,-r/2,n,r));return i}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){ee(e).attr({width:t.thickness*t.sx,height:t.thickness*t.sy,fill:t.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){var n=t.sx<=1?t.thickness*t.sx:t.thickness;ee(e).attr({width:n,height:n,fill:t.color})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var n,r=t.width,i=t.height,o=t.thickness;r-o>=0&&i-o>=0?n=["M",r,0,"H0 M0 0 V0",i].join(" "):n="M 0 0 0 0",ee(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var n,r=t.width,i=t.height,o=t.thickness;r-o>=0&&i-o>=0?n=["M",r,0,"H0 M0 0 V0",i].join(" "):n="M 0 0 0 0",ee(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",update:function(e,t){var n,r=t.width,i=t.height,o=t.thickness;r-o>=0&&i-o>=0?n=["M",r,0,"H0 M0 0 V0",i].join(" "):n="M 0 0 0 0",ee(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}}]}});var F0=or.extend({name:null,tagName:"g",className:"tool",svgElement:!0,_visible:!0,init:function(){var e=this.name;e&&this.vel.attr("data-tool-name",e)},configure:function(e,t){return this.relatedView=e,this.paper=e.paper,this.parentView=t,this.simulateRelatedView(this.el),this.delegateEvents(),this},simulateRelatedView:function(e){e&&e.setAttribute("model-id",this.relatedView.model.id)},getName:function(){return this.name},show:function(){this.el.style.display="",this._visible=!0},hide:function(){this.el.style.display="none",this._visible=!1},isVisible:function(){return!!this._visible},focus:function(){var e=this.options.focusOpacity;isFinite(e)&&(this.el.style.opacity=e),this.parentView.focusTool(this)},blur:function(){this.el.style.opacity="",this.parentView.blurTool(this)},update:function(){},guard:function(e){let{paper:t,relatedView:n}=this;return!t||!n?!0:t.guard(e,n)}});var fz=or.extend({tagName:"g",className:"tools",svgElement:!0,tools:null,isRendered:!1,options:{tools:null,relatedView:null,name:null},configure:function(e){e=Ce(this.options,e);var t=e.tools;if(!Array.isArray(t))return this;var n=e.relatedView;if(!(n instanceof Ze))return this;for(var r=this.tools=[],i=0,o=t.length;i<o;i++){var s=t[i];s instanceof F0&&(s.configure(n,this),this.vel.append(s.el),r.push(s))}return this.isRendered=!1,n.requestUpdate(n.getFlag("TOOLS")),this},getName:function(){return this.options.name},update:function(e){e||(e={});var t=this.tools;if(!t)return this;for(var n=this.isRendered,r=0,i=t.length;r<i;r++){var o=t[r];n?e.tool!==o.cid&&o.isVisible()&&o.update():o.render()}return this.isMounted()||this.mount(),n||(this.blurTool(),this.isRendered=!0),this},focusTool:function(e){var t=this.tools;if(!t)return this;for(var n=0,r=t.length;n<r;n++){var i=t[n];e===i?i.show():i.hide()}return this},blurTool:function(e){var t=this.tools;if(!t)return this;for(var n=0,r=t.length;n<r;n++){var i=t[n];i!==e&&!i.isVisible()&&(i.show(),i.update())}return this},hide:function(){return this.focusTool(null)},show:function(){return this.blurTool(null)},onRemove:function(){var e=this.tools;if(!e)return this;for(var t=0,n=e.length;t<n;t++)e[t].remove();this.tools=null},mount:function(){let{options:e,el:t}=this,{relatedView:n,layer:r=Wn.TOOLS,z:i}=e;return n&&(r?n.paper.getLayerView(r).insertSortedNode(t,i):n.el.appendChild(t)),this}});var Ds={};Ht(Ds,{basic:()=>j0,chess:()=>H0,devs:()=>U0,erd:()=>Y0,fsa:()=>$0,logic:()=>W0,org:()=>X0,pn:()=>J0,standard:()=>z0,uml:()=>K0});var j0={};Ht(j0,{Circle:()=>Il,Ellipse:()=>gz,Generic:()=>et,Image:()=>yz,Path:()=>qN,Polygon:()=>mz,Polyline:()=>vz,Rect:()=>dz,Rhombus:()=>Iz,Text:()=>pz,TextBlock:()=>Cz,TextBlockView:()=>wz,TextView:()=>hz});var yl={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(e,t){return this._tests[e]=t},test:function(e){var t=this._tests[e];if(!t)throw new Error('Test not defined ("'+e+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var n=this._results[e];if(typeof n<"u")return n;try{n=t()}catch{n=!1}return this._results[e]=n,n}};var et=xt.define("basic.Generic",{attrs:{".":{fill:"#ffffff",stroke:"none"}}}),dz=et.define("basic.Rect",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:100,height:60},text:{fill:"#000000",text:"","font-size":14,"ref-x":.5,"ref-y":.5,"text-anchor":"middle","y-alignment":"middle","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><rect/></g><text/></g>'}),hz=Vt.extend({presentationAttributes:Vt.addPresentationAttributes({attrs:["SCALE"]}),confirmUpdate:function(){var e=Vt.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(e,"SCALE")&&(this.resize(),e=this.removeFlag(e,"SCALE")),e}}),pz=et.define("basic.Text",{attrs:{text:{"font-size":18,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><text/></g></g>'}),Il=et.define("basic.Circle",{size:{width:60,height:60},attrs:{circle:{fill:"#ffffff",stroke:"#000000",r:30,cx:30,cy:30},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g><text/></g>'}),gz=et.define("basic.Ellipse",{size:{width:60,height:40},attrs:{ellipse:{fill:"#ffffff",stroke:"#000000",rx:30,ry:20,cx:30,cy:20},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse/></g><text/></g>'}),mz=et.define("basic.Polygon",{size:{width:60,height:40},attrs:{polygon:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),vz=et.define("basic.Polyline",{size:{width:60,height:40},attrs:{polyline:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polyline/></g><text/></g>'}),yz=et.define("basic.Image",{attrs:{text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><image/></g><text/></g>'}),qN=et.define("basic.Path",{size:{width:60,height:60},attrs:{path:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle",ref:"path","ref-x":.5,"ref-dy":10,fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><path/></g><text/></g>'}),Iz=qN.define("basic.Rhombus",{attrs:{path:{d:"M 30 0 L 60 30 30 60 0 30 z"},text:{"ref-y":.5,"ref-dy":null,"y-alignment":"middle"}}}),Dp=yl.test("svgforeignobject"),Cz=et.define("basic.TextBlock",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000","font-size":14,"font-family":"Arial, helvetica, sans-serif"},".content":{text:"","ref-x":.5,"ref-y":.5,"y-alignment":"middle","x-alignment":"middle"}},content:""},{markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',Dp?'<foreignObject class="fobj"><body xmlns="http://www.w3.org/1999/xhtml"><div class="content"/></body></foreignObject>':'<text class="content"/>',"</g>"].join(""),initialize:function(){this.listenTo(this,"change:size",this.updateSize),this.listenTo(this,"change:content",this.updateContent),this.updateSize(this,this.get("size")),this.updateContent(this,this.get("content")),et.prototype.initialize.apply(this,arguments)},updateSize:function(e,t){this.attr({".fobj":Ce({},t),div:{style:Ce({},t)}})},updateContent:function(e,t){Dp?this.attr({".content":{html:HS(t)}}):this.attr({".content":{text:t}})},setForeignObjectSize:function(){this.updateSize.apply(this,arguments)},setDivContent:function(){this.updateContent.apply(this,arguments)}}),wz=Vt.extend({presentationAttributes:Dp?Vt.prototype.presentationAttributes:Vt.addPresentationAttributes({content:["CONTENT"],size:["CONTENT"]}),initFlag:["RENDER","CONTENT"],confirmUpdate:function(){var e=Vt.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(e,"CONTENT")&&(this.updateContent(this.model),e=this.removeFlag(e,"CONTENT")),e},update:function(e,t){var n=this.model;if(Dp)Vt.prototype.update.call(this,n,t);else{var r=wr(t||n.get("attrs"),".content");Vt.prototype.update.call(this,n,r),(!t||ir(t,".content"))&&this.updateContent(n,t)}},updateContent:function(e,t){var n=_t({},(t||e.get("attrs"))[".content"]);n=wr(n,"text");var r=Qh(e.get("content"),e.get("size"),n,{svgDocument:this.paper.svg}),i=sl({},".content",n,"/");i[".content"].text=r,Vt.prototype.update.call(this,e,i)}});var z0={};Ht(z0,{BorderedImage:()=>Nz,Circle:()=>bz,Cylinder:()=>Rz,DoubleLink:()=>Bz,Ellipse:()=>xz,EmbeddedImage:()=>Ez,HeaderedRectangle:()=>Oz,Image:()=>Sz,InscribedImage:()=>Pz,Link:()=>jz,Path:()=>Dz,Polygon:()=>Mz,Polyline:()=>Tz,Rectangle:()=>Az,ShadowLink:()=>zz,TextBlock:()=>Fz});var Az=xt.define("standard.Rectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]}),bz=xt.define("standard.Circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]}),xz=xt.define("standard.Ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]}),Dz=xt.define("standard.Path",{attrs:{body:{refD:"M 0 0 L 10 0 10 10 0 10 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]}),Mz=xt.define("standard.Polygon",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]}),Tz=xt.define("standard.Polyline",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10 0 0",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]}),Sz=xt.define("standard.Image",{attrs:{image:{refWidth:"100%",refHeight:"100%"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),Nz=xt.define("standard.BorderedImage",{attrs:{border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#FFFFFF"},image:{refWidth:-1,refHeight:-1,x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),Ez=xt.define("standard.EmbeddedImage",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",refX:"30%",refX2:20,refY:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),Pz=xt.define("standard.InscribedImage",{attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#FFFFFF"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),Oz=xt.define("standard.HeaderedRectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{refWidth:"100%",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]}),B0=10,Rz=xt.define("standard.Cylinder",{attrs:{body:{lateralArea:B0,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{refCx:"50%",cy:B0,refRx:"50%",ry:B0,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"100%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(e,t){if(e===void 0)return this.attr("body/lateralArea");var n=nn(e),r={lateralArea:e},i=n?{refCy:e,refRy:e,cy:null,ry:null}:{refCy:null,refRy:null,cy:e,ry:e};return this.attr({body:r,top:i},t)}},{attributes:{lateralArea:{set:function(e,t){var n=nn(e);n&&(e=parseFloat(e)/100);var r=t.x,i=t.y,o=t.width,s=t.height,a=o/2,u=n?s*e:e,l=ee.KAPPA,h=l*a,f=l*(n?s*e:e),y=r,I=r+o/2,x=r+o,S=i+u,N=S-u,P=i+s-u,U=i+s,H=["M",y,S,"L",y,P,"C",r,P+f,I-h,U,I,U,"C",I+h,U,x,P+f,x,P,"L",x,S,"C",x,S-f,I+h,N,I,N,"C",I-h,N,y,S-f,y,S,"Z"];return{d:H.join(" ")}}}}}),Lz={tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]},kz={tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}},_z=yl.test("svgforeignobject")?Lz:kz,Fz=xt.define("standard.TextBlock",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},_z]},{attributes:{text:{set:function(e,t,n,r){if(n instanceof HTMLElement)n.textContent=e;else{var i=r.style||{},o={text:e,width:-5,height:"100%"},s=Ce({textVerticalAnchor:"middle"},i);return ll.textWrap.set.call(this,o,t,n,s),{fill:i.color||null}}},position:function(e,t,n){if(n instanceof SVGElement)return t.center()}}}}),jz=bt.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),Bz=bt.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none",cursor:"pointer"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),zz=bt.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none","pointer-events":"none"}},{tagName:"path",selector:"line",attributes:{fill:"none",cursor:"pointer"}}]});var U0={};Ht(U0,{Atomic:()=>Gz,Coupled:()=>Uz,Link:()=>Vz,Model:()=>G0});var G0=et.define("devs.Model",{inPorts:[],outPorts:[],size:{width:80,height:80},attrs:{".":{magnet:!1},".label":{text:"Model","ref-x":.5,"ref-y":10,"font-size":18,"text-anchor":"middle",fill:"#000"},".body":{"ref-width":"100%","ref-height":"100%",stroke:"#000"}},ports:{groups:{in:{position:{name:"left"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"left",args:{y:10}}}},out:{position:{name:"right"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"right",args:{y:10}}}}}}},{markup:'<g class="rotatable"><rect class="body"/><text class="label"/></g>',portMarkup:'<circle class="port-body"/>',portLabelMarkup:'<text class="port-label"/>',initialize:function(){et.prototype.initialize.apply(this,arguments),this.on("change:inPorts change:outPorts",this.updatePortItems,this),this.updatePortItems()},updatePortItems:function(e,t,n){var r=Ir(this.get("inPorts")),i=rl(Ir(this.get("outPorts")),r),o=this.createPortItems("in",r),s=this.createPortItems("out",i);this.prop("ports/items",o.concat(s),Ce({rewrite:!0},n))},createPortItem:function(e,t){return{id:t,group:e,attrs:{".port-label":{text:t}}}},createPortItems:function(e,t){return Le(t).map(this.createPortItem.bind(this,e))},_addGroupPort:function(e,t,n){var r=this.get(t);return this.set(t,Array.isArray(r)?r.concat(e):[e],n)},addOutPort:function(e,t){return this._addGroupPort(e,"outPorts",t)},addInPort:function(e,t){return this._addGroupPort(e,"inPorts",t)},_removeGroupPort:function(e,t,n){return this.set(t,$a(this.get(t),e),n)},removeOutPort:function(e,t){return this._removeGroupPort(e,"outPorts",t)},removeInPort:function(e,t){return this._removeGroupPort(e,"inPorts",t)},_changeGroup:function(e,t,n){return this.prop("ports/groups/"+e,$e(t)?t:{},n)},changeInGroup:function(e,t){return this._changeGroup("in",e,t)},changeOutGroup:function(e,t){return this._changeGroup("out",e,t)}}),Gz=G0.define("devs.Atomic",{size:{width:80,height:80},attrs:{".label":{text:"Atomic"}}}),Uz=G0.define("devs.Coupled",{size:{width:200,height:300},attrs:{".label":{text:"Coupled"}}}),Vz=bt.define("devs.Link",{attrs:{".connection":{"stroke-width":2}}});var W0={};Ht(W0,{And:()=>Xz,Gate:()=>Mp,Gate11:()=>Z0,Gate21:()=>xs,IO:()=>V0,Input:()=>Zz,Nand:()=>qz,Nor:()=>Jz,Not:()=>Yz,Or:()=>$z,Output:()=>Wz,Repeater:()=>Hz,Wire:()=>e5,Xnor:()=>Kz,Xor:()=>Qz});var Mp=et.define("logic.Gate",{size:{width:80,height:40},attrs:{".":{magnet:!1},".body":{width:100,height:50},circle:{r:7,stroke:"black",fill:"transparent","stroke-width":2}}},{operation:function(){return!0}}),V0=Mp.define("logic.IO",{size:{width:60,height:30},attrs:{".body":{fill:"white",stroke:"black","stroke-width":2},".wire":{ref:".body","ref-y":.5,stroke:"black"},text:{fill:"black",ref:".body","ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle","font-weight":"bold","font-variant":"small-caps","text-transform":"capitalize","font-size":"14px"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="body"/></g><path class="wire"/><circle/><text/></g>'}),Zz=V0.define("logic.Input",{attrs:{".wire":{"ref-dx":0,d:"M 0 0 L 23 0"},circle:{ref:".body","ref-dx":30,"ref-y":.5,magnet:!0,class:"output",port:"out"},text:{text:"input"}}}),Wz=V0.define("logic.Output",{attrs:{".wire":{"ref-x":0,d:"M 0 0 L -23 0"},circle:{ref:".body","ref-x":-30,"ref-y":.5,magnet:"passive",class:"input",port:"in"},text:{text:"output"}}}),Z0=Mp.define("logic.Gate11",{attrs:{".input":{ref:".body","ref-x":-2,"ref-y":.5,magnet:"passive",port:"in"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input"/><circle class="output"/></g>'}),xs=Mp.define("logic.Gate21",{attrs:{".input1":{ref:".body","ref-x":-2,"ref-y":.3,magnet:"passive",port:"in1"},".input2":{ref:".body","ref-x":-2,"ref-y":.7,magnet:"passive",port:"in2"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input input1"/><circle  class="input input2"/><circle class="output"/></g>'}),Hz=Z0.define("logic.Repeater",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzIuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(e){return e}}),Yz=Z0.define("logic.Not",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzkuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDI2NzEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzYiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA4MCwyNSBBIDQsNCAwIDEgMSA3MiwyNSBBIDQsNCAwIDEgMSA4MCwyNSB6IgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEsMCkiIC8+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(e){return!e}}),$z=xs.define("logic.Or",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik9SIEFOU0kuc3ZnIgogICBpbmtzY2FwZTpvdXRwdXRfZXh0ZW5zaW9uPSJvcmcuaW5rc2NhcGUub3V0cHV0LnN2Zy5pbmtzY2FwZSI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTAgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjcxNCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iMSA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMC41IDogMC4zMzMzMzMzMyA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODA2IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODE5IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjM3Mi4wNDcyNCA6IDM1MC43ODczOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI3NDQuMDk0NDggOiA1MjYuMTgxMDkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzc3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49Ijc1IDogNDAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTUwIDogNjAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDYwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTMyNzUiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNTAgOiAzMy4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTAwIDogNTAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTU1MzMiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzIgOiAyMS4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNjQgOiAzMiA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMzIgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjU1NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDE2LjY2NjY2NyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDI1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAyNSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iNCIKICAgICBpbmtzY2FwZTpjeD0iMTEzLjAwMDM5IgogICAgIGlua3NjYXBlOmN5PSIxMi44OTM3MzEiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImcyNTYwIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTpncmlkLWJib3g9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1wb2ludHM9InRydWUiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAwMDAiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxMzk5IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijg3NCIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMzciCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii00IgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gNzAsMjUgYyAyMCwwIDI1LDAgMjUsMCIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMSwxNSA1LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzIsMzUgNSwzNSIKICAgICAgIGlkPSJwYXRoMzk0NCIgLz4KICAgIDxnCiAgICAgICBpZD0iZzI1NjAiCiAgICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2LjUsLTM5LjUpIj4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(e,t){return e||t}}),Xz=xs.define("logic.And",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IkFORCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI4IgogICAgIGlua3NjYXBlOmN4PSI1Ni42OTgzNDgiCiAgICAgaW5rc2NhcGU6Y3k9IjI1LjMyNjg5OSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZvbnQtc2l6ZTptZWRpdW07Zm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDt0ZXh0LWluZGVudDowO3RleHQtYWxpZ246c3RhcnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGluZS1oZWlnaHQ6bm9ybWFsO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7ZGlyZWN0aW9uOmx0cjtibG9jay1wcm9ncmVzc2lvbjp0Yjt3cml0aW5nLW1vZGU6bHItdGI7dGV4dC1hbmNob3I6c3RhcnQ7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDozO21hcmtlcjpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGU7Zm9udC1mYW1pbHk6Qml0c3RyZWFtIFZlcmEgU2FuczstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOkJpdHN0cmVhbSBWZXJhIFNhbnMiCiAgICAgICBkPSJNIDMwLDUgTCAzMCw2LjQyODU3MTQgTCAzMCw0My41NzE0MjkgTCAzMCw0NSBMIDMxLjQyODU3MSw0NSBMIDUwLjQ3NjE5LDQ1IEMgNjEuNzQ0MDk4LDQ1IDcwLjQ3NjE5LDM1Ljk5OTk1NSA3MC40NzYxOSwyNSBDIDcwLjQ3NjE5LDE0LjAwMDA0NSA2MS43NDQwOTksNS4wMDAwMDAyIDUwLjQ3NjE5LDUgQyA1MC40NzYxOSw1IDUwLjQ3NjE5LDUgMzEuNDI4NTcxLDUgTCAzMCw1IHogTSAzMi44NTcxNDMsNy44NTcxNDI5IEMgNDAuODM0MjY0LDcuODU3MTQyOSA0NS45MTgzNjgsNy44NTcxNDI5IDQ4LjA5NTIzOCw3Ljg1NzE0MjkgQyA0OS4yODU3MTQsNy44NTcxNDI5IDQ5Ljg4MDk1Miw3Ljg1NzE0MjkgNTAuMTc4NTcxLDcuODU3MTQyOSBDIDUwLjMyNzM4MSw3Ljg1NzE0MjkgNTAuNDA5MjI3LDcuODU3MTQyOSA1MC40NDY0MjksNy44NTcxNDI5IEMgNTAuNDY1MDI5LDcuODU3MTQyOSA1MC40NzE1NDMsNy44NTcxNDI5IDUwLjQ3NjE5LDcuODU3MTQyOSBDIDYwLjIzNjg1Myw3Ljg1NzE0MyA2Ny4xNDI4NTcsMTUuNDk3MDk4IDY3LjE0Mjg1NywyNSBDIDY3LjE0Mjg1NywzNC41MDI5MDIgNTkuNzYwNjYyLDQyLjE0Mjg1NyA1MCw0Mi4xNDI4NTcgTCAzMi44NTcxNDMsNDIuMTQyODU3IEwgMzIuODU3MTQzLDcuODU3MTQyOSB6IgogICAgICAgaWQ9InBhdGgyODg0IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2NzY2NjY3Nzc3NzY2NjIiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(e,t){return e&&t}}),Jz=xs.define("logic.Nor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjEiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjY3NzY0NCIKICAgICBpbmtzY2FwZTpjeT0iMjIuMTAyMzQ0IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjM3IgogICAgIGlua3NjYXBlOndpbmRvdy15PSItNCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc5LDI1IEMgOTksMjUgOTUsMjUgOTUsMjUiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHNvZGlwb2RpOnR5cGU9ImFyYyIKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgICBpZD0icGF0aDI2MDQiCiAgICAgICAgIHNvZGlwb2RpOmN4PSI3NSIKICAgICAgICAgc29kaXBvZGk6Y3k9IjI1IgogICAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgICAgc29kaXBvZGk6cnk9IjQiCiAgICAgICAgIGQ9Ik0gNzksMjUgQSA0LDQgMCAxIDEgNzEsMjUgQSA0LDQgMCAxIDEgNzksMjUgeiIKICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2LjUsMzkuNSkiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(e,t){return!(e||t)}}),qz=xs.define("logic.Nand",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5BTkQgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMTYiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjI4MzMwNyIKICAgICBpbmtzY2FwZTpjeT0iMTYuNDQyODQzIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzksMjUgQyA5MS44LDI1IDk1LDI1IDk1LDI1IgogICAgICAgaWQ9InBhdGgzMDU5IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMxLDE1IDUsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMiwzNSA1LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmb250LXNpemU6bWVkaXVtO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7dGV4dC1pbmRlbnQ6MDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtZGVjb3JhdGlvbjpub25lO2xpbmUtaGVpZ2h0Om5vcm1hbDtsZXR0ZXItc3BhY2luZzpub3JtYWw7d29yZC1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2RpcmVjdGlvbjpsdHI7YmxvY2stcHJvZ3Jlc3Npb246dGI7d3JpdGluZy1tb2RlOmxyLXRiO3RleHQtYW5jaG9yOnN0YXJ0O2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MzttYXJrZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZvbnQtZmFtaWx5OkJpdHN0cmVhbSBWZXJhIFNhbnM7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpCaXRzdHJlYW0gVmVyYSBTYW5zIgogICAgICAgZD0iTSAzMCw1IEwgMzAsNi40Mjg1NzE0IEwgMzAsNDMuNTcxNDI5IEwgMzAsNDUgTCAzMS40Mjg1NzEsNDUgTCA1MC40NzYxOSw0NSBDIDYxLjc0NDA5OCw0NSA3MC40NzYxOSwzNS45OTk5NTUgNzAuNDc2MTksMjUgQyA3MC40NzYxOSwxNC4wMDAwNDUgNjEuNzQ0MDk5LDUuMDAwMDAwMiA1MC40NzYxOSw1IEMgNTAuNDc2MTksNSA1MC40NzYxOSw1IDMxLjQyODU3MSw1IEwgMzAsNSB6IE0gMzIuODU3MTQzLDcuODU3MTQyOSBDIDQwLjgzNDI2NCw3Ljg1NzE0MjkgNDUuOTE4MzY4LDcuODU3MTQyOSA0OC4wOTUyMzgsNy44NTcxNDI5IEMgNDkuMjg1NzE0LDcuODU3MTQyOSA0OS44ODA5NTIsNy44NTcxNDI5IDUwLjE3ODU3MSw3Ljg1NzE0MjkgQyA1MC4zMjczODEsNy44NTcxNDI5IDUwLjQwOTIyNyw3Ljg1NzE0MjkgNTAuNDQ2NDI5LDcuODU3MTQyOSBDIDUwLjQ2NTAyOSw3Ljg1NzE0MjkgNTAuNDcxNTQzLDcuODU3MTQyOSA1MC40NzYxOSw3Ljg1NzE0MjkgQyA2MC4yMzY4NTMsNy44NTcxNDMgNjcuMTQyODU3LDE1LjQ5NzA5OCA2Ny4xNDI4NTcsMjUgQyA2Ny4xNDI4NTcsMzQuNTAyOTAyIDU5Ljc2MDY2Miw0Mi4xNDI4NTcgNTAsNDIuMTQyODU3IEwgMzIuODU3MTQzLDQyLjE0Mjg1NyBMIDMyLjg1NzE0Myw3Ljg1NzE0MjkgeiIKICAgICAgIGlkPSJwYXRoMjg4NCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2Njc2NjY2Nzc3Nzc2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDQwMDgiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(e,t){return!(e&&t)}}),Qz=xs.define("logic.Xor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhPUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjUuNjU2ODU0MiIKICAgICBpbmtzY2FwZTpjeD0iMjUuOTM4MTE2IgogICAgIGlua3NjYXBlOmN5PSIxNy4yMzAwNSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzAuMzg1NzE3LDE1IEwgNC45OTk5OTk4LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5NzY7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEuMzYyMDkxLDM1IEwgNC45OTk5OTk4LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPGcKICAgICAgIGlkPSJnMjU2MCIKICAgICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjYuNSwtMzkuNSkiPgogICAgICA8cGF0aAogICAgICAgICBpZD0icGF0aDM1MTYiCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi4yNSw4MS41MDAwMDUgQyAtMy44NDczNzQsODQuMTQ0NDA1IC00LjUsODQuNTAwMDA1IC00LjUsODQuNTAwMDA1IEwgLTguMTU2MjUsODQuNTAwMDA1IEwgLTYuMTU2MjUsODIuMDYyNTA1IEMgLTYuMTU2MjUsODIuMDYyNTA1IC0wLjUsNzUuMDYyNDUxIC0wLjUsNjQuNSBDIC0wLjUsNTMuOTM3NTQ5IC02LjE1NjI1LDQ2LjkzNzUgLTYuMTU2MjUsNDYuOTM3NSBMIC04LjE1NjI1LDQ0LjUgTCAtNC41LDQ0LjUgQyAtMy43MTg3NSw0NS40Mzc1IC0zLjA3ODEyNSw0Ni4xNTYyNSAtMi4yODEyNSw0Ny41IEMgLTAuNDA4NTMxLDUwLjU5OTgxNSAyLjUsNTYuNTI2NjQ2IDIuNSw2NC41IEMgMi41LDcyLjQ1MDY1IC0wLjM5NjY5Nyw3OC4zNzk0MjUgLTIuMjUsODEuNTAwMDA1IHoiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY3NjY2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(e,t){return(!e||t)&&(e||!t)}}),Kz=xs.define("logic.Xnor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhOT1IgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNTU3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTYuNjY2NjY3IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDI1IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI0IgogICAgIGlua3NjYXBlOmN4PSI5NS43MjM2NiIKICAgICBpbmtzY2FwZTpjeT0iLTI2Ljc3NTAyMyIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjAwMDAwMDI0O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc4LjMzMzMzMiwyNSBDIDkxLjY2NjY2NiwyNSA5NSwyNSA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMC4zODU3MTcsMTUgTCA0Ljk5OTk5OTgsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk3NjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMS4zNjIwOTEsMzUgTCA0Ljk5OTk5OTgsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIGlkPSJwYXRoMzUxNiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjI1LDgxLjUwMDAwNSBDIC0zLjg0NzM3NCw4NC4xNDQ0MDUgLTQuNSw4NC41MDAwMDUgLTQuNSw4NC41MDAwMDUgTCAtOC4xNTYyNSw4NC41MDAwMDUgTCAtNi4xNTYyNSw4Mi4wNjI1MDUgQyAtNi4xNTYyNSw4Mi4wNjI1MDUgLTAuNSw3NS4wNjI0NTEgLTAuNSw2NC41IEMgLTAuNSw1My45Mzc1NDkgLTYuMTU2MjUsNDYuOTM3NSAtNi4xNTYyNSw0Ni45Mzc1IEwgLTguMTU2MjUsNDQuNSBMIC00LjUsNDQuNSBDIC0zLjcxODc1LDQ1LjQzNzUgLTMuMDc4MTI1LDQ2LjE1NjI1IC0yLjI4MTI1LDQ3LjUgQyAtMC40MDg1MzEsNTAuNTk5ODE1IDIuNSw1Ni41MjY2NDYgMi41LDY0LjUgQyAyLjUsNzIuNDUwNjUgLTAuMzk2Njk3LDc4LjM3OTQyNSAtMi4yNSw4MS41MDAwMDUgeiIKICAgICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2Njc2NjY2NzYyIgLz4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDM1NTEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(e,t){return(!e||!t)&&(e||t)}}),e5=bt.define("logic.Wire",{attrs:{".connection":{"stroke-width":2},".marker-vertex":{r:7}},router:{name:"orthogonal"},connector:{name:"rounded",args:{radius:10}}},{arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<circle class="marker-arrowhead" end="<%= end %>" r="7"/>',"</g>"].join(""),vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<g class="marker-vertex-remove-group">','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>","</g>"].join("")});var H0={};Ht(H0,{BishopBlack:()=>u5,BishopWhite:()=>a5,KingBlack:()=>n5,KingWhite:()=>t5,KnightBlack:()=>l5,KnightWhite:()=>c5,PawnBlack:()=>d5,PawnWhite:()=>f5,QueenBlack:()=>i5,QueenWhite:()=>r5,RookBlack:()=>s5,RookWhite:()=>o5});var t5=et.define("chess.KingWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;"><path      d="M 22.5,11.63 L 22.5,6"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 20,8 L 25,8"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"      style="fill:#ffffff; stroke:#000000; stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 11.5,30 C 17,27 27,27 32.5,30"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,37 C 17,34 27,34 32.5,37"      style="fill:none; stroke:#000000;" />  </g></g></g>'}),n5=et.define("chess.KingBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path       d="M 22.5,11.63 L 22.5,6"       style="fill:none; stroke:#000000; stroke-linejoin:miter;"       id="path6570" />    <path       d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"       style="fill:#000000;fill-opacity:1; stroke-linecap:butt; stroke-linejoin:miter;" />    <path       d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "       style="fill:#000000; stroke:#000000;" />    <path       d="M 20,8 L 25,8"       style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path       d="M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),r5=et.define("chess.QueenWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(-1,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(15.5,-5.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(32,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(7,-4.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(24,-4)" />    <path      d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 11.5,30 C 15,29 30,29 33.5,30"      style="fill:none;" />    <path      d="M 12,33.5 C 18,32.5 27,32.5 33,33.5"      style="fill:none;" />  </g></g></g>'}),i5=et.define("chess.QueenBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:none;">      <circle cx="6"    cy="12" r="2.75" />      <circle cx="14"   cy="9"  r="2.75" />      <circle cx="22.5" cy="8"  r="2.75" />      <circle cx="31"   cy="9"  r="2.75" />      <circle cx="39"   cy="12" r="2.75" />    </g>    <path       d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"       style="stroke-linecap:butt; stroke:#000000;" />    <path       d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"       style="stroke-linecap:butt;" />    <path       d="M 11,38.5 A 35,35 1 0 0 34,38.5"       style="fill:none; stroke:#000000; stroke-linecap:butt;" />    <path       d="M 11,29 A 35,35 1 0 1 34,29"       style="fill:none; stroke:#ffffff;" />    <path       d="M 12.5,31.5 L 32.5,31.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),o5=et.define("chess.RookWhite",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14"      style="stroke-linecap:butt;" />    <path      d="M 34,14 L 31,17 L 14,17 L 11,14" />    <path      d="M 31,17 L 31,29.5 L 14,29.5 L 14,17"      style="stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),s5=et.define("chess.RookBlack",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z "      style="stroke-linecap:butt;stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z "      style="stroke-linecap:butt;" />    <path      d="M 12,35.5 L 33,35.5 L 33,35.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 13,31.5 L 32,31.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,29.5 L 31,29.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 31,16.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />  </g></g></g>'}),a5=et.define("chess.BishopWhite",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#ffffff; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path      d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),u5=et.define("chess.BishopBlack",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path       d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"       style="fill:none; stroke:#ffffff; stroke-linejoin:miter;" />  </g></g></g>'}),c5=et.define("chess.KnightWhite",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#000000; stroke:#000000;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#000000; stroke:#000000;" />  </g></g></g>'}),l5=et.define("chess.KnightBlack",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#000000; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#000000; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z "      style="fill:#ffffff; stroke:none;" />  </g></g></g>'}),f5=et.define("chess.PawnWhite",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'}),d5=et.define("chess.PawnBlack",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'});var Y0={};Ht(Y0,{Attribute:()=>Cl,Derived:()=>m5,Entity:()=>QN,ISA:()=>I5,IdentifyingRelationship:()=>p5,Key:()=>v5,Line:()=>C5,Multivalued:()=>g5,Normal:()=>y5,Relationship:()=>KN,WeakEntity:()=>h5});var QN=xt.define("erd.Entity",{size:{width:150,height:60},attrs:{".outer":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"100,0 100,60 0,60 0,0"},".inner":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"95,5 95,55 5,55 5,5",display:"none"},text:{text:"Entity","font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),h5=QN.define("erd.WeakEntity",{attrs:{".inner":{display:"auto"},text:{text:"Weak Entity"}}}),KN=xt.define("erd.Relationship",{size:{width:80,height:80},attrs:{".outer":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,0 80,40 40,80 0,40"},".inner":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,5 75,40 40,75 5,40",display:"none"},text:{text:"Relationship","font-family":"Arial","font-size":12,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),p5=KN.define("erd.IdentifyingRelationship",{attrs:{".inner":{display:"auto"},text:{text:"Identifying"}}}),Cl=xt.define("erd.Attribute",{size:{width:100,height:50},attrs:{ellipse:{transform:"translate(50, 25)"},".outer":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:50,ry:25,fill:"#E67E22"},".inner":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:45,ry:20,fill:"#E67E22",display:"none"},text:{"font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse class="outer"/><ellipse class="inner"/></g><text/></g>'}),g5=Cl.define("erd.Multivalued",{attrs:{".inner":{display:"block"},text:{text:"multivalued"}}}),m5=Cl.define("erd.Derived",{attrs:{".outer":{"stroke-dasharray":"3,5"},text:{text:"derived"}}}),v5=Cl.define("erd.Key",{attrs:{ellipse:{"stroke-width":4},text:{text:"key","font-weight":"800","text-decoration":"underline"}}}),y5=Cl.define("erd.Normal",{attrs:{text:{text:"Normal"}}}),I5=xt.define("erd.ISA",{type:"erd.ISA",size:{width:100,height:50},attrs:{polygon:{points:"0,0 50,50 100,0",fill:"#F1C40F",stroke:"#F39C12","stroke-width":2},text:{text:"ISA","font-size":18,"ref-x":.5,"ref-y":.3,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),C5=bt.define("erd.Line",{},{cardinality:function(e){this.set("labels",[{position:-20,attrs:{text:{dy:-8,text:e}}}])}});var $0={};Ht($0,{Arrow:()=>x5,EndState:()=>b5,StartState:()=>A5,State:()=>w5});var w5=Il.define("fsa.State",{attrs:{circle:{"stroke-width":3},text:{"font-weight":"800"}}}),A5=xt.define("fsa.StartState",{size:{width:20,height:20},attrs:{circle:{transform:"translate(10, 10)",r:10,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g></g>'}),b5=xt.define("fsa.EndState",{size:{width:20,height:20},attrs:{".outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#000000"},".inner":{transform:"translate(10, 10)",r:6,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),x5=bt.define("fsa.Arrow",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}},smooth:!0});var X0={};Ht(X0,{Arrow:()=>M5,Member:()=>D5});var D5=xt.define("org.Member",{size:{width:180,height:70},attrs:{rect:{width:170,height:60},".card":{fill:"#FFFFFF",stroke:"#000000","stroke-width":2,"pointer-events":"visiblePainted",rx:10,ry:10},image:{width:48,height:48,ref:".card","ref-x":10,"ref-y":5},".rank":{"text-decoration":"underline",ref:".card","ref-x":.9,"ref-y":.2,"font-family":"Courier New","font-size":14,"text-anchor":"end"},".name":{"font-weight":"800",ref:".card","ref-x":.9,"ref-y":.6,"font-family":"Courier New","font-size":14,"text-anchor":"end"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="card"/><image/></g><text class="rank"/><text class="name"/></g>'}),M5=bt.define("org.Arrow",{source:{selector:".card"},target:{selector:".card"},attrs:{".connection":{stroke:"#585858","stroke-width":3}},z:-1});var J0={};Ht(J0,{Link:()=>E5,Place:()=>T5,PlaceView:()=>S5,Transition:()=>N5});var T5=et.define("pn.Place",{size:{width:50,height:50},attrs:{".root":{r:25,fill:"#ffffff",stroke:"#000000",transform:"translate(25, 25)"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:".root",fill:"#000000","font-size":12},".tokens > circle":{fill:"#000000",r:5},".tokens.one > circle":{transform:"translate(25, 25)"},".tokens.two > circle:nth-child(1)":{transform:"translate(19, 25)"},".tokens.two > circle:nth-child(2)":{transform:"translate(31, 25)"},".tokens.three > circle:nth-child(1)":{transform:"translate(18, 29)"},".tokens.three > circle:nth-child(2)":{transform:"translate(25, 19)"},".tokens.three > circle:nth-child(3)":{transform:"translate(32, 29)"},".tokens.alot > text":{transform:"translate(25, 18)","text-anchor":"middle",fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="root"/><g class="tokens" /></g><text class="label"/></g>'}),S5=Vt.extend({presentationAttributes:Vt.addPresentationAttributes({tokens:["TOKENS"]}),initFlag:Vt.prototype.initFlag.concat(["TOKENS"]),confirmUpdate:function(...e){let t=Vt.prototype.confirmUpdate.call(this,...e);return this.hasFlag(t,"TOKENS")&&(this.renderTokens(),this.update(),t=this.removeFlag(t,"TOKENS")),t},renderTokens:function(){let e=this.vel.findOne(".tokens").empty();["one","two","three","alot"].forEach(function(n){e.removeClass(n)});var t=this.model.get("tokens");if(t)switch(t){case 1:e.addClass("one"),e.append(ee("circle"));break;case 2:e.addClass("two"),e.append([ee("circle"),ee("circle")]);break;case 3:e.addClass("three"),e.append([ee("circle"),ee("circle"),ee("circle")]);break;default:e.addClass("alot"),e.append(ee("text").text(t+""));break}}}),N5=et.define("pn.Transition",{size:{width:12,height:50},attrs:{rect:{width:12,height:50,fill:"#000000",stroke:"#000000"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:"rect",fill:"#000000","font-size":12}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="root"/></g></g><text class="label"/>'}),E5=bt.define("pn.Link",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}}});var K0={};Ht(K0,{Abstract:()=>P5,AbstractView:()=>O5,Aggregation:()=>F5,Association:()=>B5,Class:()=>q0,ClassView:()=>Q0,Composition:()=>j5,EndState:()=>U5,Generalization:()=>k5,Implementation:()=>_5,Interface:()=>R5,InterfaceView:()=>L5,StartState:()=>G5,State:()=>z5,Transition:()=>V5});var q0=et.define("uml.Class",{attrs:{rect:{width:200},".uml-class-name-rect":{stroke:"black","stroke-width":2,fill:"#3498db"},".uml-class-attrs-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-methods-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-name-text":{ref:".uml-class-name-rect","ref-y":.5,"ref-x":.5,"text-anchor":"middle","y-alignment":"middle","font-weight":"bold",fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-attrs-text":{ref:".uml-class-attrs-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-methods-text":{ref:".uml-class-methods-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"}},name:[],attributes:[],methods:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-class-name-rect"/><rect class="uml-class-attrs-rect"/><rect class="uml-class-methods-rect"/>',"</g>",'<text class="uml-class-name-text"/><text class="uml-class-attrs-text"/><text class="uml-class-methods-text"/>',"</g>"].join(""),initialize:function(){this.on("change:name change:attributes change:methods",function(){this.updateRectangles(),this.trigger("uml-update")},this),this.updateRectangles(),et.prototype.initialize.apply(this,arguments)},getClassName:function(){return this.get("name")},updateRectangles:function(){var e=this.get("attrs"),t=[{type:"name",text:this.getClassName()},{type:"attrs",text:this.get("attributes")},{type:"methods",text:this.get("methods")}],n=0;t.forEach(function(r){var i=Array.isArray(r.text)?r.text:[r.text],o=i.length*20+20;e[".uml-class-"+r.type+"-text"].text=i.join(`
`),e[".uml-class-"+r.type+"-rect"].height=o,e[".uml-class-"+r.type+"-rect"].transform="translate(0,"+n+")",n+=o})}}),Q0=Vt.extend({initialize:function(){Vt.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"uml-update",function(){this.update(),this.resize()})}}),P5=q0.define("uml.Abstract",{attrs:{".uml-class-name-rect":{fill:"#e74c3c"},".uml-class-attrs-rect":{fill:"#c0392b"},".uml-class-methods-rect":{fill:"#c0392b"}}},{getClassName:function(){return["<<Abstract>>",this.get("name")]}}),O5=Q0,R5=q0.define("uml.Interface",{attrs:{".uml-class-name-rect":{fill:"#f1c40f"},".uml-class-attrs-rect":{fill:"#f39c12"},".uml-class-methods-rect":{fill:"#f39c12"}}},{getClassName:function(){return["<<Interface>>",this.get("name")]}}),L5=Q0,k5=bt.define("uml.Generalization",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"}}}),_5=bt.define("uml.Implementation",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"},".connection":{"stroke-dasharray":"3,3"}}}),F5=bt.define("uml.Aggregation",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"white"}}}),j5=bt.define("uml.Composition",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"black"}}}),B5=bt.define("uml.Association"),z5=et.define("uml.State",{attrs:{".uml-state-body":{width:200,height:200,rx:10,ry:10,fill:"#ecf0f1",stroke:"#bdc3c7","stroke-width":3},".uml-state-separator":{stroke:"#bdc3c7","stroke-width":2},".uml-state-name":{ref:".uml-state-body","ref-x":.5,"ref-y":5,"text-anchor":"middle",fill:"#000000","font-family":"Courier New","font-size":14},".uml-state-events":{ref:".uml-state-separator","ref-x":5,"ref-y":5,fill:"#000000","font-family":"Courier New","font-size":14}},name:"State",events:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-state-body"/>',"</g>",'<path class="uml-state-separator"/>','<text class="uml-state-name"/>','<text class="uml-state-events"/>',"</g>"].join(""),initialize:function(){this.on({"change:name":this.updateName,"change:events":this.updateEvents,"change:size":this.updatePath},this),this.updateName(),this.updateEvents(),this.updatePath(),et.prototype.initialize.apply(this,arguments)},updateName:function(){this.attr(".uml-state-name/text",this.get("name"))},updateEvents:function(){this.attr(".uml-state-events/text",this.get("events").join(`
`))},updatePath:function(){var e="M 0 20 L "+this.get("size").width+" 20";this.attr(".uml-state-separator/d",e,{silent:!0})}}),G5=Il.define("uml.StartState",{type:"uml.StartState",attrs:{circle:{fill:"#34495e",stroke:"#2c3e50","stroke-width":2,rx:1}}}),U5=et.define("uml.EndState",{size:{width:20,height:20},attrs:{"circle.outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#2c3e50"},"circle.inner":{transform:"translate(10, 10)",r:6,fill:"#34495e"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),V5=bt.define("uml.Transition",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z",fill:"#34495e",stroke:"#2c3e50"},".connection":{stroke:"#2c3e50"}}});var eE=(()=>{let t=class t{constructor(r,i){this.renderer=r,this.platformId=i}ngAfterViewInit(){wx(this.platformId)&&this.initializeGraph()}initializeGraph(){let r=Ds,i=new ou.Graph({},{cellNamespace:r}),o=this.renderer.selectRootElement("#myPaper"),s=new ou.Paper({el:o,model:i,width:600,height:400,drawGrid:!0,background:{color:"rgba(200, 200, 200, 1.0)"},gridSize:1,cellViewNamespace:r}),a=new Ds.standard.Rectangle;a.position(100,100),a.resize(100,40),a.attr({body:{fill:"white"},label:{text:"Hola",fill:"black"}});let u=new Ds.standard.Rectangle;u.position(300,100),u.resize(100,40),u.attr({body:{fill:"white"},label:{text:"Mundo",fill:"black"}});let l=new Ds.standard.Link;l.source(a),l.target(u),i.addCells([a,u,l])}};t.\u0275fac=function(i){return new(i||t)(ea(ju),ea(Rr))},t.\u0275cmp=Qs({type:t,selectors:[["app-graph"]],standalone:!0,features:[ta],decls:1,vars:0,consts:[["id","myPaper"]],template:function(i,o){i&1&&eo(0,"div",0)}});let e=t;return e})();var tE=(()=>{let t=class t{constructor(){this.title="jointjs-ang-nuevo",this.colorScheme="light"}toggleColorScheme(){}applyColorScheme(){}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=Qs({type:t,selectors:[["app-root"]],standalone:!0,features:[ta],decls:4,vars:0,consts:[[1,"main"]],template:function(i,o){i&1&&(Zf(0,"main",0),nx(1," Angular JointJS "),eo(2,"app-graph"),Wf(),eo(3,"router-outlet"))},dependencies:[Lv,eE]});let e=t;return e})();Bx(tE,xD).catch(e=>console.error(e));
